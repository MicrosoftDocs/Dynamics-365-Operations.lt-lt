---
title: Nusidėvėjimo knygos atnaujinimo apžvalga
description: 'Ankstesniuose leidimuose buvo naudojamos dvi ilgalaikio turto vertinimo sąvokos: vertinimo modelis ir nusidėvėjimo knygos.'
author: ShylaThompson
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer
ms.reviewer: roschlom
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: d42936a94e0f4d50ae227d760d5bee6e1e3a12e6
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/01/2021
ms.locfileid: "5826983"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="ba440-103">Nusidėvėjimo knygų naujinimo apžvalga</span><span class="sxs-lookup"><span data-stu-id="ba440-103">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ba440-104">Ankstesniuose leidimuose buvo naudojamos dvi ilgalaikio turto vertinimo sąvokos: vertinimo modelis ir nusidėvėjimo knygos.</span><span class="sxs-lookup"><span data-stu-id="ba440-104">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="ba440-105">„Microsoft Dynamics 365 for Operations“ (1611) vertinimo modelio funkcija ir nusidėvėjimo knygų funkcija buvo sujungtos į vieną sąvoką, vadinama knyga.</span><span class="sxs-lookup"><span data-stu-id="ba440-105">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="ba440-106">Šioje temoje pateikta keletas pastabų apie naujinimą.</span><span class="sxs-lookup"><span data-stu-id="ba440-106">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="ba440-107">Atnaujinimo procesas perkels esamą jūsų sąranką ir visas esamas jūsų operacijas į naują knygos struktūrą.</span><span class="sxs-lookup"><span data-stu-id="ba440-107">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="ba440-108">Vertės modeliai liks tokie patys, kokie yra šiuo metu, kaip knyga, kuri registruoja į didžiąją knygą.</span><span class="sxs-lookup"><span data-stu-id="ba440-108">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="ba440-109">Nusidėvėjimo knygos bus perkeltos į knygą, kurioje nustatyta parinkties **Registruoti į DK** nuostata **Ne**.</span><span class="sxs-lookup"><span data-stu-id="ba440-109">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="ba440-110">Nusidėvėjimo knygos žurnalų pavadinimai bus perkelti į DK žurnalo pavadinimą, kuriame nustatyta registravimo sluoksnio nuostata **Nėra**.</span><span class="sxs-lookup"><span data-stu-id="ba440-110">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="ba440-111">Nusidėvėjimo knygos operacijos bus perkeltos į ilgalaikio turto operacijas.</span><span class="sxs-lookup"><span data-stu-id="ba440-111">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="ba440-112">Prieš vykdydami duomenų naujinimą, turite susipažinti su dviem būdais, kaip nusidėvėjimo knygos žurnalo eilutes naujinti į operacijos kvitus, ir kvitų serijos numeraciją, kuri bus naudojama.</span><span class="sxs-lookup"><span data-stu-id="ba440-112">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="ba440-113">1 būdas: **Sistemos nustatyta numeracija** – tai yra numatytoji parinktis naujinimo našumui optimizuoti.</span><span class="sxs-lookup"><span data-stu-id="ba440-113">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="ba440-114">Naujinant nebus naudojama numeracijų sistema, bet kvitai bus paskirstomi naudojant rinkiniu pagrįstą metodą.</span><span class="sxs-lookup"><span data-stu-id="ba440-114">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="ba440-115">Atnaujinus bus sukurta nauja numeracija su atitinkamu **kitu numeriu**, nustatytu pagal atnaujintas operacijas.</span><span class="sxs-lookup"><span data-stu-id="ba440-115">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="ba440-116">Pagal numatytuosius parametrus numeracijoje bus naudojamas formatas FADBUpgr\#\#\#\#\#\#\#\#\#.</span><span class="sxs-lookup"><span data-stu-id="ba440-116">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="ba440-117">Galite naudoti kelis parametrus, norėdami modifikuoti formatą, kai taikote šį metodą.</span><span class="sxs-lookup"><span data-stu-id="ba440-117">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="ba440-118">**Numeracijos kodas** – kodas, skirtas nustatyti numeraciją.</span><span class="sxs-lookup"><span data-stu-id="ba440-118">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="ba440-119">Šio numeracijos kodo būti negali, nes jis sukuriamas naujinimo metu.</span><span class="sxs-lookup"><span data-stu-id="ba440-119">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="ba440-120">Pastovus pavadinimas: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="ba440-120">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="ba440-121">Numatytoji reikšmė: FADBUpgr</span><span class="sxs-lookup"><span data-stu-id="ba440-121">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="ba440-122">**Prefiksas** – pastovi eilutės reikšmė, kuri bus naudojama kaip kvitų numerių priešvardis.</span><span class="sxs-lookup"><span data-stu-id="ba440-122">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="ba440-123">Pastovus pavadinimas: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="ba440-123">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="ba440-124">Numatytoji reikšmė: FADBUpgr</span><span class="sxs-lookup"><span data-stu-id="ba440-124">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="ba440-125">**Raidinių-skaitinių simbolių ilgis** – numeracijos raidinių-skaitinių simbolių segmento ilgis.</span><span class="sxs-lookup"><span data-stu-id="ba440-125">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="ba440-126">Pastovus pavadinimas: **NumberSequenceDefaultParameterAlpanumericLength**</span><span class="sxs-lookup"><span data-stu-id="ba440-126">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="ba440-127">Numatytoji reikšmė: 9</span><span class="sxs-lookup"><span data-stu-id="ba440-127">Default value: 9</span></span>
-   <span data-ttu-id="ba440-128">**Pradinis numeris** – pirmasis numeris, naudojamas numeracijoje.</span><span class="sxs-lookup"><span data-stu-id="ba440-128">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="ba440-129">Pastovus pavadinimas: **NumberSequenceDefaultParameterStartNumber**</span><span class="sxs-lookup"><span data-stu-id="ba440-129">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="ba440-130">Numatytoji reikšmė: 1</span><span class="sxs-lookup"><span data-stu-id="ba440-130">Default value: 1</span></span>

<span data-ttu-id="ba440-131">2 būdas: **Esama vartotojo nustatyta numeracija** – naudojant šią parinktį galima nustatyti numeraciją, kuri bus naudojama naujinant.</span><span class="sxs-lookup"><span data-stu-id="ba440-131">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="ba440-132">Naudokite šią parinktį, jei jums reikia išplėstinės numeracijos konfigūracijos.</span><span class="sxs-lookup"><span data-stu-id="ba440-132">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="ba440-133">Norėdami naudoti numeraciją, turite modifikuoti naujinimo klasę \_ReleaseUpdateDB70_FixedAssetJournalDepBookRemovalDepBookJournalTrans, nurodydami tolesnę informaciją.</span><span class="sxs-lookup"><span data-stu-id="ba440-133">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="ba440-134">**Numeracijos kodas** – numeracijos kodas.</span><span class="sxs-lookup"><span data-stu-id="ba440-134">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="ba440-135">Pastovus pavadinimas: **NumberSequenceExistingCode**</span><span class="sxs-lookup"><span data-stu-id="ba440-135">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="ba440-136">Numatytoji reikšmė: nėra. Reikia atnaujinti į numeracijos kodą.</span><span class="sxs-lookup"><span data-stu-id="ba440-136">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="ba440-137">**Bendrai naudojama numeracija** – Būlio logikos reikšmė, skirta nustatyti numeracijos aprėptį.</span><span class="sxs-lookup"><span data-stu-id="ba440-137">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="ba440-138">Naudokite „true“, kai numeracijos turi būti bendrai naudojamos visose įmonėse, arba „false“, kai jei numeracija skirta konkrečiai įmonei.</span><span class="sxs-lookup"><span data-stu-id="ba440-138">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="ba440-139">Naudojant „false“, numeracija nurodytu pavadinimu turi būti kiekvienoje įmonėje, kurioje yra nusidėvėjimo knygos operacijų.</span><span class="sxs-lookup"><span data-stu-id="ba440-139">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="ba440-140">Bendrai naudojamos sekos pateikiamos kiekviename skaidinyje, kuriame yra nusidėvėjimo knygos operacijų.</span><span class="sxs-lookup"><span data-stu-id="ba440-140">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="ba440-141">Pastovus pavadinimas: **NumberSequenceExistingIsShared**</span><span class="sxs-lookup"><span data-stu-id="ba440-141">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="ba440-142">Numatytoji reikšmė: „true“</span><span class="sxs-lookup"><span data-stu-id="ba440-142">Default value: true</span></span>

<span data-ttu-id="ba440-143">Parametrai yra pateikti klasės ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans pradžioje.</span><span class="sxs-lookup"><span data-stu-id="ba440-143">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="ba440-144">*// Pageidaujamo kvitų paskirstymo metodo nurodymas* 
 *// „true“, jei norite naudoti esamos numeracijos kodą* 
 *// „false“, jei ketinate naudoti sistemos nustatytą numeraciją (numatytoji reikšmė)* const boolean NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="ba440-144">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="ba440-145">*// Jei naudojate sistemos nustatytos numeracijos metodą, nurodykite numeracijos parametrus.*
 *// Nauja numeracija bus sukurta naudojant šiuos parametrus.*</span><span class="sxs-lookup"><span data-stu-id="ba440-145">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="ba440-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="ba440-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="ba440-147">*// Jei naudojate esamos numeracijos metodą, nurodykite esamos numeracijos kodą.* 
 *// Esamų numeracijų kvitų paskirstymas bus vykdomas kiekvienoje eilutėje paeiliui.*</span><span class="sxs-lookup"><span data-stu-id="ba440-147">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="ba440-148">const str NumberSequenceExistingCode = ''; *// Nurodykite esamos numeracijos kodo aprėptį* 
 *// „true“, jei nurodyta numeracija naudojama bendrai* 
 *// „false“, jei nurodyta numeracija skirta konkrečiai įmonei* 
 *// Bus naudojama numatytoji sistemos nustatyta numeracija, jei nurodytos aprėpties numeracijos kodas nebus rastas.*</span><span class="sxs-lookup"><span data-stu-id="ba440-148">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="ba440-149">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="ba440-149">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="ba440-150">Perkurkite projektą, jei modifikavus konstantas jame yra klasė.</span><span class="sxs-lookup"><span data-stu-id="ba440-150">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="ba440-151">Kai naudojate sistemos sugeneruotos numeracijos metodą (1 būdą), naujinant bus naudojamas rinkiniu pagrįstas apdorojimas, kad kvitų numeriai būtų paskirstyti pagal naujinimo scenarijaus parametrus.</span><span class="sxs-lookup"><span data-stu-id="ba440-151">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="ba440-152">Be to, po paskirstymo bus sukurta nauja numeracija naudojant nurodytus parametrus.</span><span class="sxs-lookup"><span data-stu-id="ba440-152">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="ba440-153">Kai naudojate vartotojo nustatytos numeracijos metodą (2 būdą), naujinant duomenis patikrinama, ar duomenų bazėje yra nurodytos aprėpties numeracija, skirta kiekvienam skaidiniui ir įmonės su nusidėvėjimo knygos operacijomis.</span><span class="sxs-lookup"><span data-stu-id="ba440-153">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="ba440-154">Jei jos nėra, naujinant bus naudojamas kiekvienos eilutės apdorojimo paeiliui funkcija, kad naudojant numeracijos sistemą kvitų numeriai būtų paskirstyti, kaip nurodyta numeracijoje.</span><span class="sxs-lookup"><span data-stu-id="ba440-154">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="ba440-155">Jei nurodytos aprėpties numeracijos nėra, naujinant bus naudojamas numatytasis sistemos nustatytos numeracijos metodas kvitų numeriams paskirstyti ir po paskirstymo bus sukurta nauja numeracija naudojant nurodytus numatytuosius parametrus.</span><span class="sxs-lookup"><span data-stu-id="ba440-155">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="ba440-156">Kurį metodą benaudotumėte, duomenų naujinimo scenarijus taip pat taikys naujai sukurtų DK žurnalų pavadinimų lauko **Kvitų serija** numeraciją anksčiau naudotiems nusidėvėjimo knygos žurnalų pavadinimams.</span><span class="sxs-lookup"><span data-stu-id="ba440-156">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>





[!INCLUDE[footer-include](../../includes/footer-banner.md)]