---
title: Bangos paskirstymas
description: Šioje temoje aprašoma, kaip nustatyti bangos paskirstymo veiksmą, įskaitant tai, kaip įgalinti lygiagretų jo apdorojimą.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: feee33a7d4ea3f0d9c4d671210293a28aac14f61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823172"
---
# <a name="wave-allocation"></a><span data-ttu-id="fe2bc-103">Bangos paskirstymas</span><span class="sxs-lookup"><span data-stu-id="fe2bc-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="fe2bc-104">Bangos apdorojimas gali užimti daug laiko, o didžiausia apdorojimo laiko dalis bus praleista paskirstymo ir darbo kūrimo veiksmuose.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="fe2bc-105">Dabar galima kiekvieną šių veiksmų vykdyti lygiagrečiai, o tai gali padidinti bangos apdorojimo efektyvumą ir užtikrinti didesnį bangų našumą tame pačiame sandėlyje.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="fe2bc-106">Šioje temoje paaiškinama, kaip nustatyti lygiagretų bangos paskirstymo metodo vykdymą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="fe2bc-107">Daugiau informacijos apie tai, kaip nustatyti lygiagretų darbo kūrimo vykdymą rasite [Darbo kūrimo planavimas bangos metu](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="fe2bc-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="fe2bc-108">Anksčiau sandėlyje buvo galima priskirti tik vieną bangą tuo pačiu metu.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="fe2bc-109">Šis apribojimas yra pašalintas ir pakeistas nauju apribojimu, kuris užrakina tik tas prekes ir dimensijas, kurios rezervavimo hierarchijoje yra virš vietos.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="fe2bc-110">Dimensijos, esančios aukščiau vietos, visada apima produkto dimensijas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="fe2bc-111">Pavyzdžiui, jei prekė sukonfigūruota naudojant *Spalvą*, tada galima lygiagrečiai apdoroti jos variantus *Raudona*, *Mėlyna* ir *Geltona*.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="fe2bc-112">Tai reiškia, kad jei tą pačią prekę, kurios tos pačios dimensijos aukščiau vietos, paskirsto viena banga, kitos bangos turės laukti, kol įgys tos pačios prekės ir dimensijų užraktą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="fe2bc-113">Jeigu užrakto nepavyksta gauti laiku, įvyks klaida ir bangos apdorojimas nepavyks.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="fe2bc-114">Norint naudoti lygiagretųjį apdorojimą, bangą reikia vykdyti pakete.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="fe2bc-115">Efektyvumo patobulinimai</span><span class="sxs-lookup"><span data-stu-id="fe2bc-115">Performance improvements</span></span>

<span data-ttu-id="fe2bc-116">Lygiagretaus apdorojimo efektyvumo nauda skirstoma į dvi kategorijas:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="fe2bc-117">**Padidintas našumas** – bangų našumas paprastai padidėja, net jei nesukonfigūruotas lygiagretusis apdorojimas, ypač scenarijuose, kurių bangose nėra prekių persidengimo.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="fe2bc-118">**Vienos bangos paskirstymo patobulinimas** – testuojant klientų duomenis buvo nustatyta, jog efektyvumas pagerėja 50% po perėjimo į lygiagretųjį paskirstymą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="fe2bc-119">Lygiagrečiai apdorojama pagal prekes ir dimensijas aukščiau vietos, todėl patobulinimai priklauso nuo to, kiek skirtingų prekių yra bangoje, turimos infrastruktūros ir paskirstymo trukmės ir darbo kūrimo trukmės palyginimo.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="fe2bc-120">Lygiagrečiojo paskirstymo konfigūravimas</span><span class="sxs-lookup"><span data-stu-id="fe2bc-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="fe2bc-121">Sandėlio valdymo parametrai</span><span class="sxs-lookup"><span data-stu-id="fe2bc-121">Warehouse management parameters</span></span>

<span data-ttu-id="fe2bc-122">Norėdami naudoti lygiagretaus paskirstymo apdorojimą, eikite į **Sandėlio valdymas > Nustatymas > Sandėlio valdymo parametrai**, atidarykite skirtuką **Bangos apdorojimas** ir nustatykite šiuos parametrus:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="fe2bc-123">**Bangos apdorojimo paketų grupė** – pasirinkite paketų grupę, kurią turi naudoti pirminis bangų apdorojimas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="fe2bc-124">Vėlesnis paskirstymo apdorojimas gali būti atliktas naudojant skirtingas paketų grupes.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="fe2bc-125">**Apdoroti bangas paketais** – nustatykite į *Taip* norėdami naudoti lygiagretųjį apdorojimą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="fe2bc-126">**Laukti užrakto (ms)** – Įveskite laiką (milisekundėmis), kiek paskirstymo veiksmas lauks sistemos ištekliaus, kurį užrakino kitas paskirstymo veiksmas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="fe2bc-127">Viršijus laiką, banga neapdorojama ir rodomas klaidos pranešimas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="fe2bc-128">Rekomenduojame leisti mažiausiai keletą sekundžių, kad leistumėte užbaigti vieno loginio vieneto paskirstymą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="fe2bc-129">Daugiau informacijos apie šias ir kitas bangos apdorojimo pasirinktis puslapyje **Sandėlio valdymo parametrai** rasite [Sandėlio parametrai, skirti bangos apdorojimui](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="fe2bc-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="fe2bc-130">Bangos apdorojimo metodai</span><span class="sxs-lookup"><span data-stu-id="fe2bc-130">Wave process methods</span></span>

<span data-ttu-id="fe2bc-131">Norėdami nustatyti lygiagretųjį apdorojimą:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="fe2bc-132">Eikite į **Sandėlio valdymas > Sąranka > Bangos > Bangos apdorojimo metodai**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="fe2bc-133">Tinklelyje pasirinkite „`allocateWave`” metodą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="fe2bc-134">Veiksmų srityje pasirinkite **Užduoties konfigūracija**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="fe2bc-135">Atsidaro **Bangos skelbimo metodo užduoties konfigūracijos** puslapis.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="fe2bc-136">Šiame tinklelyje pateikiamas kiekvienas sandėlis, kuriame sukonfigūravote „`allocateWave`” metodą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="fe2bc-137">Lygiagretusis apdorojimas bus naudojamas tik išvardytiems sandėliams.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="fe2bc-138">Jei reikia, naudokite veiksmų srities mygtukus pridėti ar pašalinti sandėliams iš tinklelio.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="fe2bc-139">Kiekvienam sandėliui nustatykite šiuos parametrus:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="fe2bc-140">**Didžiausias paketinių užduočių skaičius** – nurodykite paketinių užduočių, kurios turėtų būti naudojamos pasirinkto sandėlio paskirstymui, skaičių.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="fe2bc-141">Optimalus paketinių užduočių skaičius priklauso nuo turimos infrastruktūros ir kitų paketinių užduočių, apdorojamų serveryje.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="fe2bc-142">Bandymai, atlikti keturių branduolių aplinkoje, skirtai bangos apdorojimui, parodė, kad naudojant aštuonias užduotis gaunami geri rezultatai.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="fe2bc-143">**Bangos apdorojimo paketų grupė** – konkrečios paketų grupės gali būti naudojamos skirtingiems sandėliams, siekiant išplėsti paskirstymo apdorojimą sandėliui.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="fe2bc-144">Lygiagretinimo visuose juridiniuose subjektuose įjungimas arba išjungimas</span><span class="sxs-lookup"><span data-stu-id="fe2bc-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="fe2bc-145">Rekomenduojame nustatyti „`allocateWave`” metodą, kuris būtų lygiagrečiai vykdomas visuose juridiniuose subjektuose, nes tai padeda padidinti bangos apdorojimo efektyvumą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="fe2bc-146">Nuo „Supply Chain Management” 10.0.17 versijos, funkcija *Bangų lygiagretinimas bangos paskirstymo metodui* yra įgalinta pagal numatytuosius nustatymus visuose naujuose ir atnaujintuose diegimuose ir jos negalima išjungti dar kartą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="fe2bc-147">Įgalinus šią funkciją, atsitinka taip:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="fe2bc-148">Atnaujinamas „`allocateWave`” metodas, kad būtų įtraukiamas užduoties konfigūracijos parametras, leidžiantis jums naudoti **Bangos apdorojimo metodų** puslapį nustatyti tuo pačiu metu vykdomų užduočių skaičių, atitinkantį lygiagrečių apdorojimų skaičių.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="fe2bc-149">Dėl to, bangos paskirstymo veiksme sunaudotas laikas (paprastai nuo 30% iki 60% bendro apdorojimo laiko) yra sumažinamas koeficientu, maždaug atitinkantį užduočių skaičių.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="fe2bc-150">Taip pat, galima pasirinkti, kuris paketas bus priskirtas šioms užduotims apdoroti.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="fe2bc-151">Svarbu pažymėti, kad visi jūsų juridiniai subjektai bus sukonfigūruoti bangų pakete apdorojimui.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="fe2bc-152">Sandėliams, kurie jau sukonfigūruoti apdoroti bangas pakete, ir sandėliams, kurie jau sukonfigūruoti naudoti „`allocateWave`” metodą lygiagrečiai, bus išlaikyta esama konfigūracija.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="fe2bc-153">Pagal numatytuosius nustatymus, visi nauji juridiniai subjektai yra sukonfigūruojami bangų pakete apdorojimui.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="fe2bc-154">Visiems naujiems sandėliams, kuriuose įgalinta **Sandėlio valdymo procesų** parinktis, bus sukonfigūruotas „`allocateWave`” metodas lygiagrečiam vykdymui pagal numatytuosius nustatymus.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="fe2bc-155">Puslapyje **Sandėlio valdymo parametrai** nustatykite **Procesas įrašo pakete** reikšmę į *Taip*, o **Laukti užrakto (ms)** – į numatytąsias 15 sekundžių.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="fe2bc-156">Tai reiškia, kad visos bangos bus vykdomos pakete.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="fe2bc-157">Paleidus bangą, ji gauna prekės ir dimensijų aukščiau vietos užraktą paskirstymo veiksmo metu.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="fe2bc-158">Kai kita bangos apdorojimo užduotis bando gauti tą patį identiško įrašo užraktą, jis blokuojamas iki tol, kol bus užbaigtas dabartinis procesas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="fe2bc-159">Parametruose **Laukti užrakto (ms)** nustatomas maksimalus laikas, kiek sistema lauks prieš išleisdama užraktą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="fe2bc-160">Lygiagretusis paskirstymo apdorojimas reikalauja bangos apdorojimą vykdyti pakete.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="fe2bc-161">Todėl sumažinsite bangos apdorojimo efektyvumą, jei išjungsite parametrą **Procesas įrašo pakete**, ypač jei bangos apdorojimas naudoja lygiagretųjį procesą, kaip nurodyta atitinkamos bangos metodų užduoties konfigūracijoje.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="fe2bc-162">Jei reikia, galite anuliuoti kiekvieną iš šių parametrų, nustatytų pagal numatytuosius nustatymus, kai jūsų egzemplioriuje automatiškai įgalinta *Bangos lygiagretinimas bangos paskirstymo metodui* funkcija.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="fe2bc-163">Norėdami tai atlikti, atlikite toliau pateiktus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-163">To do this:</span></span>

- <span data-ttu-id="fe2bc-164">Eikite į **Sandėlio valdymas \> Sąranka \> Sandėlio valdymo parametrai**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="fe2bc-165">Skirtuke **Bangos apdorojimas** taikykite pageidaujamas funkcijų **Bangų apdorojimas paketais** ir **Laukite užrakto (ms)** reikšmes.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="fe2bc-166">Eikite į **Sandėlio tvarkymas \> Sąranka \> Bangos \> Bangos apdorojimo metodai**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="fe2bc-167">Pasirinkite „`allocateWave`” metodą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="fe2bc-168">Veiksmų srityje pasirinkite **Užduoties konfigūracija** tam, kad atidarytumėte puslapį, kuriame išvardyti visi sandėliai, kuriuose nustatytas lygiagretus metodas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="fe2bc-169">Jeigu reikia, modifikuokite arba panaikinkite kiekvieno sandėlio paketinių užduočių skaičių ir priskirtą bangos grupę.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="fe2bc-170">Trikčių diagnostika</span><span class="sxs-lookup"><span data-stu-id="fe2bc-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="fe2bc-171">Trikčių diagnostika naudojant sistemos pranešimą</span><span class="sxs-lookup"><span data-stu-id="fe2bc-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="fe2bc-172">Kadangi naudojama paketinė sistema, bangos apdorojimo metu įvykstančios klaidos bus užfiksuotos kaip paketinių užduočių sistemos pranešimų dalis.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="fe2bc-173">Norėdami perskaityti su banga susijusias paketines užduotis:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="fe2bc-174">Eikite į **Sandėlio valdymas \> Siuntimo bangos \> Siuntos bangos \> Visos bangos**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="fe2bc-175">Pasirinkite bangą, kurią norite patikrinti.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="fe2bc-176">Veiksmų srityje atidarykite skirtuką **Banga** ir iš **Bangos** grupės pasirinkite **Paketinės užduotys**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="fe2bc-177">Bangos apdorojimas yra savaime taisomas, todėl apie apdorojimo metu aptiktas klaidas turi būti pranešta naudojant sistemos pranešimą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="fe2bc-178">Įprasta klaida, susijusi su lygiagrečiu apdorojimu, gali būti ta, kad dvi bangos mėgina paskirstyti tą pačią prekę tuo pačiu metu ir viena banga dar neužbaigė paskirstymo, todėl kita banga negali gauti užrakto per nurodytą laiką.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="fe2bc-179">Jei taip nutinka, paketinių užduočių žurnale bus informacija, nurodanti, kad nebuvo galima gauti prekės užrakto, tokiu atveju, nepavykusią bangą reikia apdoroti dar kartą.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="fe2bc-180">Kadangi apdorojimas vyksta lygiagrečiai, duomenys turi būti tvarkomi skirtingose lentelėse tam, kad būtų galima sekti apdorojimo būseną.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="fe2bc-181">Tai reiškia, kad paketinių užduočių žurnaluose gali būti klaidų, pavyzdžiui, dublikato raktų klaidų.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="fe2bc-182">Paketinių užduočių klaidos taip pat yra paketinių užduočių žurnalo dalis.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="fe2bc-183">Pati svarbiausia informacija įprastai pateikiama apačioje.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="fe2bc-184">Retais atvejais, pavyzdžiui, jei SQL ryšys nutrūko, įmanoma, kad bangos apdorojimas taps prieštaringos būsenos, kai atrodys, jog paketinė užduotis veikia, tačiau apdorojimas bus sustabdytas.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="fe2bc-185">Banga negali tvarkytis su tokiomis klaidomis, todėl bandoma išvalyti nepavykusias bangas, kai paleidžiama kita banga.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="fe2bc-186">Taip pat, jei dabartinė banga yra prieštaringos būsenos, atlikite šiuos veiksmus:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="fe2bc-187">Eikite į **Sandėlio valdymas \> Siuntimo bangos \> Siuntos bangos \> Visos bangos**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="fe2bc-188">Pasirinkite bangą, kurią reikia išvalyti.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="fe2bc-189">Veiksmų srityje atidarykite skirtuką **Banga** ir **Bangos** grupėje pasirinkite **Bangos duomenų išvalymas**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="fe2bc-190">Trikčių diagnostika naudojant bangos eigos žurnalą</span><span class="sxs-lookup"><span data-stu-id="fe2bc-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="fe2bc-191">Jei **Sandėlio valdymo parametrų puslapyje** įgalinta parinktis **Kurti bangos eigos žurnalą**, tada žurnalo įrašas sukuriamas kiekvieną kartą prasidedant ir baigiantis prekių ir jos dimensijų paskirstymui.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="fe2bc-192">Šį žurnalą turėtumėte įgalinti tik tada, kai jis reikalingas, pavyzdžiui, atliekant pradinį bandymą arba trikčių diagnostiką.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="fe2bc-193">Įgalinę šią parinktį, galite peržiūrėti žurnalą atlikdami šiuos veiksmus:</span><span class="sxs-lookup"><span data-stu-id="fe2bc-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="fe2bc-194">Eikite į **Sandėlio valdymas \> Siuntimo bangos \> Siuntos bangos \> Visos bangos**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="fe2bc-195">Pasirinkite bangą, kurią norite patikrinti.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="fe2bc-196">Veiksmų srityje atidarykite skirtuką **Banga** ir **Bangos** grupėje pasirinkite **Eiga**.</span><span class="sxs-lookup"><span data-stu-id="fe2bc-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
