---
title: Konfigūruoti „Azure Active Directory“ autentifikavimą POS prisijungimui
description: Šioje temoje paaiškinama, kaip konfigūruoti „Azure Active Directory“ kaip autentifikavimo metodą „Microsoft Dynamics 365 Commerce“ prekybos taškui.
author: boycezhu
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: 63121a9b5f1b062b7ca927f6b9eb1689ce8aa698
ms.sourcegitcommit: dc4898aa32f381620c517bf89c7856e693563ace
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 06/17/2021
ms.locfileid: "6270688"
---
# <a name="configure-azure-active-directory-authentication-for-pos-sign-in"></a><span data-ttu-id="b0e79-103">Konfigūruoti „Azure Active Directory“ autentifikavimą POS prisijungimui</span><span class="sxs-lookup"><span data-stu-id="b0e79-103">Configure Azure Active Directory authentication for POS sign-in</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="b0e79-104">Šioje temoje paaiškinama, kaip konfigūruoti „Azure Active Directory“ („Azure AD“) kaip autentifikavimo metodą „Microsoft Dynamics 365 Commerce“ prekybos taškui (POS).</span><span class="sxs-lookup"><span data-stu-id="b0e79-104">This topic explains how to configure Azure Active Directory (Azure AD) as the authentication method in Microsoft Dynamics 365 Commerce point of sale (POS).</span></span>

<span data-ttu-id="b0e79-105">Mažmenininkai, kurie naudoja kartu su kitomis „Microsoft" debesies „Dynamics 365 Commerce“ paslaugomis, pvz., „Microsoft Azure“ „Microsoft 365", ir paprastai nori naudoti centralizuoto vartotojo kredencialų valdymo, kad būtų galima saugiai ir sklandžiai prisijungti „Microsoft Teams“ visose „Azure AD“ programose.</span><span class="sxs-lookup"><span data-stu-id="b0e79-105">Retailers who use Dynamics 365 Commerce along with other Microsoft cloud services such as Microsoft Azure, Microsoft 365, and Microsoft Teams typically want to use Azure AD for centralized management of user credentials for a secure and seamless sign-in experience across applications.</span></span> <span data-ttu-id="b0e79-106">Norėdami naudoti „Azure AD“ „Commerce POS" autentifikavimą, pirmiausia turite „Azure AD“ „Commerce Headquarters" sukonfigūruoti kaip autentifikavimo metodą.</span><span class="sxs-lookup"><span data-stu-id="b0e79-106">To use Azure AD authentication for Commerce POS, you must first configure Azure AD as the authentication method in Commerce headquarters.</span></span>

## <a name="configure-pos-authentication-method"></a><span data-ttu-id="b0e79-107">Konfigūruoti POS autentifikavimo metodą</span><span class="sxs-lookup"><span data-stu-id="b0e79-107">Configure POS authentication method</span></span>

<span data-ttu-id="b0e79-108">Norėdami konfigūruoti laiko vietos funkciją „Commerce“ štabe, atlikite šiuos žingsnius.</span><span class="sxs-lookup"><span data-stu-id="b0e79-108">To configure the POS authentication method in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="b0e79-109">Eikite į **Mažmeninė prekyba ir prekyba \> Kanalų sąranka \> EKA sąranka \> EKA profiliai \> Funkcijų profiliai** ir pasirinkite keičiamą funkcijų profilį.</span><span class="sxs-lookup"><span data-stu-id="b0e79-109">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**, and select a functionality profile to change.</span></span>
1. <span data-ttu-id="b0e79-110">EKA darbuotojų registravimosi skyriuje Funkcijų „FastTab" pasirinkite norimą autentifikavimo metodo pasirinktį iš išplečiamojo **sąrašo** **Registravimosi** **autentifikavimo** metodas.</span><span class="sxs-lookup"><span data-stu-id="b0e79-110">In the **POS staff logon** section of the **Functions** FastTab, select a desired authentication method option from the **Logon authentication method** drop-down list.</span></span>

    <span data-ttu-id="b0e79-111">**Registravimosi autentifikavimo** metodas turi tris pasirinktis:</span><span class="sxs-lookup"><span data-stu-id="b0e79-111">The **Logon authentication method** has three options:</span></span>
    
    - <span data-ttu-id="b0e79-112">**Personalo ID ir slaptažodis – pasirinkus šią numatytąją parinktį EKA vartotojai turi įvesti personalo ID ir slaptažodį, kad prisiregistruotų prie EKA ir prieiti prie vadovo** nepaisymo funkcijų.</span><span class="sxs-lookup"><span data-stu-id="b0e79-112">**Personnel ID and Password** - This default option requires POS users to enter a personnel ID and password to sign in to the POS and to access manager override functionality.</span></span>
    - <span data-ttu-id="b0e79-113">**„Azure AD“ be vieno prisijungimo – naudojant šią parinktį EKA vartotojai turi naudoti kredencialus prisijungdami prie EKA ir prieigos** „Azure AD“ vadovo nepaisymo funkcijų.</span><span class="sxs-lookup"><span data-stu-id="b0e79-113">**Azure AD without single sign-on** - This option requires POS users to use Azure AD credentials to sign in to the POS and access manager override functionality.</span></span> <span data-ttu-id="b0e79-114">Kai EKA klientas atnaujinamas arba pakartotinai atidaromas, EKA vartotojas turi pateikti „Azure AD“ kredencialus, kad vėl prisiregistruotų.</span><span class="sxs-lookup"><span data-stu-id="b0e79-114">When the POS client is refreshed or reopened, the POS user must provide Azure AD credentials to sign in again.</span></span>
    - <span data-ttu-id="b0e79-115">**„Azure AD“su vienu prisiregistru – kai ši pasirinktis pasirinkta, EKA vartotojai gali prisiregistruoti prie "Cloud POS" (CPOS) naudodami aktyvius kredencialus, kuriuos naudoja kitos žiniatinklio programos toje pačioje žiniatinklio naršyklėje arba prisiregistruoja prie** „Modernus EKA" (MPOS), naudodami kredencialus, prisijungusius „Azure AD“, „Azure AD“ prie „Windows".</span><span class="sxs-lookup"><span data-stu-id="b0e79-115">**Azure AD with single sign-on** - When this option is selected, POS users are able to sign in to Cloud POS (CPOS) using active Azure AD credentials that are being used by other web applications in the same web browser, or sign in to Modern POS (MPOS) using Azure AD credentials signed in to Windows.</span></span> <span data-ttu-id="b0e79-116">Abu metodai leidžia prisijungti neįrašant „Azure AD“ kredencialų EKA prisijungimo ekrane.</span><span class="sxs-lookup"><span data-stu-id="b0e79-116">Both methods allow sign-in without needing to enter Azure AD credentials on the POS sign-in screen.</span></span> <span data-ttu-id="b0e79-117">Tačiau, jei norite pasiekti EKA tvarkytuvo nepaisoma funkcijų, vis tiek reikės prisijungti naudojant „Azure AD“ kredencialus.</span><span class="sxs-lookup"><span data-stu-id="b0e79-117">However, accessing the POS manager override functionality will still require sign-in using Azure AD credentials.</span></span>

1. <span data-ttu-id="b0e79-118">Pereikite į Mažmeninę prekybą ir komerciją > Mažmeninės prekybos ir komercijos IT > paskirstymo grafiką ir paleiskite **1070** (kanalo konfigūracija) užduotį, norėdami sinchronizuoti naujausius funkcijų šablono parametrus **EKA** klientams.</span><span class="sxs-lookup"><span data-stu-id="b0e79-118">Go to **Retail and Commerce > Retail and Commerce IT > Distribution schedule** and run the **1070 (Channel configuration)** job to synchronize the latest functionality profile settings to POS clients.</span></span>

> [!NOTE]
> - <span data-ttu-id="b0e79-119">Parinktis **„Azure AD“ Be vieno** prisiregistravimo autentifikavimo metodo pakeičia pasirinktį **„Azure Active Directory** „Commerce" versijoje 10.0.18 ir ankstesnėje versijoje.</span><span class="sxs-lookup"><span data-stu-id="b0e79-119">The **Azure AD without single sign-on** authentication method option replaces the **Azure Active Directory** option in Commerce version 10.0.18 and earlier.</span></span>
> - <span data-ttu-id="b0e79-120">„Azure AD“ autentifikuoti reikalingas aktyvus interneto ryšys ir jis negali veikti, kai EKA ne tinkle.</span><span class="sxs-lookup"><span data-stu-id="b0e79-120">Azure AD authentication requires an active internet connection, and won't function when the POS is offline.</span></span>

## <a name="associate-azure-ad-accounts-with-pos-users"></a><span data-ttu-id="b0e79-121">Abonementų „Azure AD“ susiejimas su EKA vartotojais</span><span class="sxs-lookup"><span data-stu-id="b0e79-121">Associate Azure AD accounts with POS users</span></span>

<span data-ttu-id="b0e79-122">Norėdami naudoti „Azure AD“ kaip EKA autentifikavimo metodą turite susieti sąskaitas su „Azure AD“ „Commerce Headquarters" vartotojais.</span><span class="sxs-lookup"><span data-stu-id="b0e79-122">To use Azure AD as the POS authentication method, you must associate Azure AD accounts with POS users in Commerce headquarters.</span></span> 

<span data-ttu-id="b0e79-123">Norėdami susieti „Azure AD“ sąskaitas su EKA vartotojais „Commerce Headquarters", atlikite šiuos veiksmus.</span><span class="sxs-lookup"><span data-stu-id="b0e79-123">To associate Azure AD accounts with POS users in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="b0e79-124">Eikite **į „Retail" ir "Commerce" > Darbuotojai** > Darbuotojai ir atidarykite darbuotojo įrašą.</span><span class="sxs-lookup"><span data-stu-id="b0e79-124">Go to **Retail and Commerce > Employees > Workers** and open a worker record.</span></span>
1. <span data-ttu-id="b0e79-125">Veiksmų srities skirtuko **Prekyba** grupėje rinkitės **Išorinė tapatybė** tada pasirinkite **Susieti esamą tapatybę**.</span><span class="sxs-lookup"><span data-stu-id="b0e79-125">On the Action Pane, select the **Commerce** tab, then under **External identity** select **Associate existing identity**.</span></span> 
1. <span data-ttu-id="b0e79-126">Dialogo lange **Naudoti esamą išorinę tapatybę** pasirinkite **Ieškoti pagal el. paštą**, įveskite „Azure AD” el. pašto adresą ir pasirinkite **Ieškoti**.</span><span class="sxs-lookup"><span data-stu-id="b0e79-126">In the **Use existing external identity** dialog box, select **Search using email**, enter an Azure AD email address, and then select **Search**.</span></span>
1. <span data-ttu-id="b0e79-127">Pasirinkite gautą „Azure AD” paskyrą ir pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="b0e79-127">Select the Azure AD account that is returned, then select **OK**.</span></span>

<span data-ttu-id="b0e79-128">Po konfigūravimo veiksmų prieš tai, **Pseudonimas**, **UPN**, **Išorinis antrinis identifikatorius**, esančius skirtuke **Prekyba**, bus automatiškai užpildomi.</span><span class="sxs-lookup"><span data-stu-id="b0e79-128">After the configuration steps above, the **Alias**, **UPN**, and **External sub identifier** fields on the **Commerce** tab of the worker's details page will be filled in.</span></span>

<span data-ttu-id="b0e79-129">Norėdami sinchronizuoti naujausius EKA vartotojo ir sąskaitos duomenis su kanalu, turite vykdyti užduotį 1060 (Darbuotojai) dalyje Mažmeninė prekyba ir Prekyba > Mažmeninė prekyba ir Prekyba **IT** > **Paskirstymo** „Azure AD“ grafikas.</span><span class="sxs-lookup"><span data-stu-id="b0e79-129">You must run the **1060 (Staff)** job in **Retail and Commerce > Retail and Commerce IT > Distribution schedule** to synchronize the latest POS user and Azure AD account data to the channel.</span></span>

> [!NOTE]
> <span data-ttu-id="b0e79-130">Geriausiai po darbuotojo informacijos, pvz., slaptažodžio, EKA teisių, susietos sąskaitos arba darbuotojų adresų knygelės, atnaujinus „Azure AD“ „Commerce Headquarters", rekomenduojame paleisti **1060 (darbuotojų) užduotį, kad būtų galima sinchronizuoti naujausią darbuotojo informaciją su** kanalu.</span><span class="sxs-lookup"><span data-stu-id="b0e79-130">As a best practice, after worker information such as password, POS permission, associated Azure AD account, or employee address book is updated in Commerce headquarters, it is highly recommended to run the **1060 (Staff)** job to synchronize the latest worker information to the channel.</span></span> <span data-ttu-id="b0e79-131">Tokiu būdu, EKA klientas gali gauti tikslius duomenis vartotojo autentifikavimui ir autorizavimo patikroms.</span><span class="sxs-lookup"><span data-stu-id="b0e79-131">The POS client can then fetch the correct data for user authentication and authorization checks.</span></span>

## <a name="pos-lock-register-and-sign-out-with-azure-ad-authentication"></a><span data-ttu-id="b0e79-132">EKA užrakto registras ir atjungimas autentifikuoti „Azure AD“</span><span class="sxs-lookup"><span data-stu-id="b0e79-132">POS lock register and sign-out with Azure AD authentication</span></span>

<span data-ttu-id="b0e79-133">Kai EKA sukonfigūruotas naudoti autentifikavimo „Azure AD“ metodą, atsiranda:</span><span class="sxs-lookup"><span data-stu-id="b0e79-133">The following occurs when POS is configured to use the Azure AD authentication method:</span></span>

- <span data-ttu-id="b0e79-134">**EKA programoje nebus galima** užrakto registro funkcija.</span><span class="sxs-lookup"><span data-stu-id="b0e79-134">The **Lock register** function will not be available in the POS application.</span></span> 
- <span data-ttu-id="b0e79-135">Automatiškai **užrakinimo** funkcija veiks taip pat, kaip ir automatiškai **atsijungimo** funkcija.</span><span class="sxs-lookup"><span data-stu-id="b0e79-135">The **Automatically lock** function will behave the same as the **Automatically logoff** function.</span></span>
- <span data-ttu-id="b0e79-136">Jei EKA vartotojas pasirenka išsiregistruoti, vartotojas bus paprašytas prisijungti kredencialais, kitą kartą paleidus EKA, neatsižvelgiant į tai, ar įgalintas **vienas** „Azure AD“ prisijungimas.</span><span class="sxs-lookup"><span data-stu-id="b0e79-136">If the POS user selects **Log off**, the user will be asked to sign in with Azure AD credentials the next time the POS launches, regardless of whether single sign-in is enabled.</span></span>

## <a name="manager-override-functionality-with-azure-ad-authentication"></a><span data-ttu-id="b0e79-137">Vadovo nepaisoma funkcijų autentifikuoti „Azure AD“</span><span class="sxs-lookup"><span data-stu-id="b0e79-137">Manager override functionality with Azure AD authentication</span></span>

<span data-ttu-id="b0e79-138">Kai EKA yra sukonfigūruotas naudoti autentifikavimą, vadybininkas perrašo funkcijas ir atidaro dialogo langą, kuriame raginamas įvesti vadybininko „Azure AD“ vartotojo „Azure AD“ kredencialus.</span><span class="sxs-lookup"><span data-stu-id="b0e79-138">When the POS is configured to use Azure AD authentication, the manager override functionality will open a dialog box that prompts for the manager user's Azure AD credentials.</span></span> <span data-ttu-id="b0e79-139">Patvirtinus vadovo prisijungimą, vadybininko kredencialai bus atmesti, o ankstesni vartotojo kredencialai bus naudojami „Azure AD“, „Azure AD“ vėlesnioms EKA operacijoms.</span><span class="sxs-lookup"><span data-stu-id="b0e79-139">After manager sign-in is approved, the manager's Azure AD credentials will be dropped and the previous user's Azure AD credentials will be used for subsequent POS operations.</span></span>

> [!NOTE]
> - <span data-ttu-id="b0e79-140">Naudojant „Commerce" 10.0.18 ir ankstesnes versijas vadovo nepaisymo funkcija „Azure AD“ nepalaikoma.</span><span class="sxs-lookup"><span data-stu-id="b0e79-140">In Commerce versions 10.0.18 and earlier, the manager override function does not support Azure AD.</span></span> <span data-ttu-id="b0e79-141">Darbuotojų ID ir slaptažodis yra privalomi, net jei „Azure AD“ sukonfigūruoti kaip EKA prisijungimo autentifikavimo metodas.</span><span class="sxs-lookup"><span data-stu-id="b0e79-141">A personnel ID and password are required even if the POS is configured to use the Azure AD authentication method.</span></span>
> - <span data-ttu-id="b0e79-142">Kai naudojate CPOS su Automatiškai iOS įrenginio interneto naršykle, norėdami dirbti su autentifikavimu, pirmiausia turite išjungti „Blokuoti iššokančius langus" parametruose tvarkytuvo **nepaisymo** „Azure AD“ funkciją.</span><span class="sxs-lookup"><span data-stu-id="b0e79-142">When using CPOS with the Safari web browser on an Apple iOS device, you must first turn off **Block Pop-ups** in Safari settings for the manager override functionality to work with Azure AD authentication.</span></span> 

## <a name="security-best-practices-for-azure-ad-based-pos-authentication-on-shared-devices"></a><span data-ttu-id="b0e79-143">Bendrinamų įrenginių „Azure AD“ šiuo metu pagrįsto EKA autentifikavimo saugos geriausios praktikos</span><span class="sxs-lookup"><span data-stu-id="b0e79-143">Security best practices for Azure AD-based POS authentication on shared devices</span></span>

<span data-ttu-id="b0e79-144">Daugelis mažmenininkų nustato savo parduotuvės aplinką taip, kad keli vartotojai turės prieigą prie EKA naudojant bendrai naudojamą fizinį įrenginį.</span><span class="sxs-lookup"><span data-stu-id="b0e79-144">Many retailers set up their retail store environment in a way that multiple users need to access the POS application from a shared physical device.</span></span> <span data-ttu-id="b0e79-145">Šiame kontekste, kai vienkartinis prisijungimas suteikia patogią ir nuoseklią autentifikavimo patirtį, ji taip pat gali sukurti saugos ciklą, kur dabartinis EKA vartotojas gali nepastebti, kad EKA operacijoms ar operacijoms vykdyti naudojami kito vartotojo kredencialai.</span><span class="sxs-lookup"><span data-stu-id="b0e79-145">In that context, while single sign-in provides a convenient and seamless authentication experience, it may also create a security loophole where the current POS user may not realize that another user's credentials are being used to perform transactions or operations in the POS.</span></span> <span data-ttu-id="b0e79-146">Prieš konfigūrant EKA naudoti autentifikavimo metodą, rekomenduojame peržiūrėti savo saugos strategiją ir bendrai naudojamo įrenginio prisijungimo parametrus, siekiant nuspręsti, kuri „Azure AD“ parinktis geriausia.</span><span class="sxs-lookup"><span data-stu-id="b0e79-146">Before you configure the POS to use the Azure AD authentication method, it is highly recommended to review your security policy and the shared device's sign-in settings to decide which option is the best fit.</span></span>

- <span data-ttu-id="b0e79-147">Jei jūsų mažmeninės prekybos aplinkoje faktiniam įrenginiui prisijungti naudojama bendrai naudojama sąskaita (pvz., vietinė sąskaita), rekomenduojama naudoti parinktį be vieno **„Azure AD“ prisiregistrimo**.</span><span class="sxs-lookup"><span data-stu-id="b0e79-147">If your retail environment uses a shared account (for example, a local account) for physical device sign-in, it's recommended to use the **Azure AD without single sign-on** option.</span></span> <span data-ttu-id="b0e79-148">Taip užtikrinama, kad kiekvienas EKA vartotojas aiškiai pateikia „Azure AD“ prisijungimo prie EKA kredencialus.</span><span class="sxs-lookup"><span data-stu-id="b0e79-148">This ensures that each POS user explicitly provides Azure AD credentials to sign in to the POS.</span></span>
- <span data-ttu-id="b0e79-149">Jei jūsų mažmeninės prekybos aplinka reikalauja, kad darbuotojai prisijungtų prie EKA ir kad jie nuomotų fizinį įrenginį, rekomenduojame naudoti vieną prisijungimo „Azure AD“, **„Azure AD“ pasirinktį**.</span><span class="sxs-lookup"><span data-stu-id="b0e79-149">If your retail environment requires employees to use their own Azure AD accounts to sign in to the POS and its hosting physical device, it's recommended to use the **Azure AD with single sign-on** option.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b0e79-150">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="b0e79-150">Additional resources</span></span>

[<span data-ttu-id="b0e79-151"> Konfigūruoti darbininką</span><span class="sxs-lookup"><span data-stu-id="b0e79-151">Configure a worker</span></span>](tasks/worker.md)

[<span data-ttu-id="b0e79-152">Mažmeninės prekybos funkcijų šablono kūrimas</span><span class="sxs-lookup"><span data-stu-id="b0e79-152">Create a retail functionality profile</span></span>](retail-functionality-profile.md)


[<span data-ttu-id="b0e79-153">MPOS ir „Cloud POS“ išplėstinės registracijos funkcijų nustatymas</span><span class="sxs-lookup"><span data-stu-id="b0e79-153">Set up extended logon functionality for MPOS and Cloud POS</span></span>](extended-logon.md)

[<span data-ttu-id="b0e79-154">Bendrinamos aplinkos „Cloud POS“ saugos geriausios praktikos</span><span class="sxs-lookup"><span data-stu-id="b0e79-154">Security best practices for Cloud POS in shared environments</span></span>](dev-itpro/secure-retail-cloud-pos.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
