---
title: Pirkimo užbaigimo modulis
description: Šioje temoje aprašoma, kaip į puslapį įtraukti pirkimo užbaigimo modulį ir nustatyti reikiamas ypatybes.
author: anupamar-ms
manager: annbe
ms.date: 01/23/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 3805c0faabc8afc3decffb924b7f25332ff1ab16
ms.sourcegitcommit: 829329220475ed8cff5a5db92a59dd90c22b04fa
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 02/05/2020
ms.locfileid: "3025395"
---
# <a name="checkout-module"></a><span data-ttu-id="55167-103">Pirkimo užbaigimo modulis</span><span class="sxs-lookup"><span data-stu-id="55167-103">Checkout module</span></span>


[!include [banner](includes/banner.md)]

<span data-ttu-id="55167-104">Šioje temoje aprašoma, kaip į puslapį įtraukti pirkimo užbaigimo modulį ir nustatyti reikiamas ypatybes.</span><span class="sxs-lookup"><span data-stu-id="55167-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="55167-105">Peržiūrėti</span><span class="sxs-lookup"><span data-stu-id="55167-105">Overview</span></span>

<span data-ttu-id="55167-106">Pirkimo užbaigimo modulis yra specialus konteineris, kuriame yra visi moduliai, reikalingi užsakymui sukurti.</span><span class="sxs-lookup"><span data-stu-id="55167-106">A checkout module is a special container that hosts all modules that are required to create an order.</span></span> <span data-ttu-id="55167-107">Jame pateikiama nuosekli veiksmų eiga, kurią naudodamas klientas įvedas visą aktualią informaciją, kad galėtų pirkti.</span><span class="sxs-lookup"><span data-stu-id="55167-107">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span> <span data-ttu-id="55167-108">Jis fiksuoja siuntimo adresą, siuntimo būdą ir atsiskaitymo informaciją.</span><span class="sxs-lookup"><span data-stu-id="55167-108">It captures the shipping address, shipping method, and billing information.</span></span> <span data-ttu-id="55167-109">Jame taip pat pateikiama užsakymo suvestinė ir kita informacija, susijusi su kliento užsakymu.</span><span class="sxs-lookup"><span data-stu-id="55167-109">It also provides an order summary and other information that is related to a customer order.</span></span>

<span data-ttu-id="55167-110">Pirkimo užbaigimo modulis duomenis generuoja pagal krepšelio ID.</span><span class="sxs-lookup"><span data-stu-id="55167-110">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="55167-111">Šis krepšelio ID įrašomas kaip naršyklės slapukas.</span><span class="sxs-lookup"><span data-stu-id="55167-111">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="55167-112">Krepšelio ID reikia norint vaizduoti informaciją pirkimo užbaigimo modulyje, pvz., užsakymo prekes, visą sumą ir nuolaidas.</span><span class="sxs-lookup"><span data-stu-id="55167-112">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="55167-113">Pirkimo užbaigimo modulio ypatybės</span><span class="sxs-lookup"><span data-stu-id="55167-113">Checkout module properties</span></span>

<span data-ttu-id="55167-114">Pirkimo užbaigimo moduliuose rodoma užsakymo suvestinė ir pateikiama užsakymų pateikimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="55167-114">A checkout module shows an order summary and provides the functionality for placing an order.</span></span> <span data-ttu-id="55167-115">Norint surinkti visą kliento informaciją, kurios reikia norint, kad būtų galima pateikti užsakymą, į pirkimo užbaigimo modulį reikia įtraukti papildomus modulius.</span><span class="sxs-lookup"><span data-stu-id="55167-115">To gather all the customer information that is required before an order can be placed, additional modules must be added to the checkout module.</span></span> <span data-ttu-id="55167-116">Todėl mažmenininkai turi galimybę į pirkimo užbaigimo srautą įtraukti pasirinktinius modulius arba pašalinti modulius pagal savo reikalavimus.</span><span class="sxs-lookup"><span data-stu-id="55167-116">Therefore, retailers have the flexibility to add custom modules to the checkout flow, or to exclude modules, based on their requirements.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="55167-117">Moduliai, kuriuos galima naudoti pirkimo užbaigimo modulyje</span><span class="sxs-lookup"><span data-stu-id="55167-117">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="55167-118">**Siuntimo adresas** – naudodamas šį modulį klientas gali įtraukti arba pasirinkti užsakymo siuntimo adresą.</span><span class="sxs-lookup"><span data-stu-id="55167-118">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="55167-119">Jei klientas prisijungęs, rodomi visi anksčiau įrašyti to kliento adresai.</span><span class="sxs-lookup"><span data-stu-id="55167-119">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="55167-120">Tada klientas gali pasirinkti iš šių adresų.</span><span class="sxs-lookup"><span data-stu-id="55167-120">The customer can then select among those addresses.</span></span> <span data-ttu-id="55167-121">Klientas taip pat gali įtraukti naują adresą.</span><span class="sxs-lookup"><span data-stu-id="55167-121">The customer can also add a new address.</span></span> <span data-ttu-id="55167-122">Siuntimo adresas naudojamas visoms užsakymo prekėms, kurias reikia siųsti.</span><span class="sxs-lookup"><span data-stu-id="55167-122">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="55167-123">Jo negalima tinkinti atskiroms eilutės prekėms.</span><span class="sxs-lookup"><span data-stu-id="55167-123">It can't be customized for individual line items.</span></span> <span data-ttu-id="55167-124">Siuntimo adresų formatai nustatyti kiekvienai šaliai ar regionui ir šis modulis taiko konkrečių šalių / regionų taisykles.</span><span class="sxs-lookup"><span data-stu-id="55167-124">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="55167-125">Nors šiame modulyje nėra adreso tikrinimo galimybės, ją galima įdiegti tinkinant.</span><span class="sxs-lookup"><span data-stu-id="55167-125">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="55167-126">Jei užsakyme yra tik tokios prekės, kurios bus atsiimtos parduotuvėje, šis modulis automatiškai paslepiamas.</span><span class="sxs-lookup"><span data-stu-id="55167-126">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="55167-127">**Pristatymo parinktys** – naudodamas šį modulį klientas gali pasirinkti užsakymo pristatymo parinktį.</span><span class="sxs-lookup"><span data-stu-id="55167-127">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="55167-128">Pristatymo parinktys priklauso nuo siuntimo adreso.</span><span class="sxs-lookup"><span data-stu-id="55167-128">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="55167-129">Pakeitus siuntimo adresą, pristatymo parinktis reikia gauti iš naujo.</span><span class="sxs-lookup"><span data-stu-id="55167-129">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="55167-130">Jei užsakyme yra tik tokios prekės, kurios bus atsiimtos parduotuvėje, šis modulis automatiškai paslepiamas.</span><span class="sxs-lookup"><span data-stu-id="55167-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="55167-131">**Pirkimo užbaigimo skyriaus konteineris** – šis modulis yra konteineris, kuriame galite įdėti kelis modulius ir sukurti skyrių pirkimo užbaigimo eigoje.</span><span class="sxs-lookup"><span data-stu-id="55167-131">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="55167-132">Pavyzdžiui, šiame konteineryje galite įdėti visus su mokėjimu susijusius modulius, kad jie būtų rodomi kaip vienas skyrius.</span><span class="sxs-lookup"><span data-stu-id="55167-132">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="55167-133">Šis modulis turi įtakos tik eigos išdėstymui.</span><span class="sxs-lookup"><span data-stu-id="55167-133">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="55167-134">**Dovanų kortelė** – naudodamas šį modulį klientas gali už užsakymą sumokėti dovanų kortele.</span><span class="sxs-lookup"><span data-stu-id="55167-134">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="55167-135">Jis palaiko tik „Microsoft Dynamics 365 Commerce“ dovanų korteles.</span><span class="sxs-lookup"><span data-stu-id="55167-135">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="55167-136">Užsakymui galima pritaikyti vieną arba kelias dovanų korteles.</span><span class="sxs-lookup"><span data-stu-id="55167-136">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="55167-137">Jei dovanų kortelės balanso nepakanka krepšelio sumai padengti, dovanų kortelę galima naudoti su kitu mokėjimo būdu.</span><span class="sxs-lookup"><span data-stu-id="55167-137">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="55167-138">Dovanų korteles galima panaudoti, tik jei klientas yra prisijungęs.</span><span class="sxs-lookup"><span data-stu-id="55167-138">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="55167-139">**Lojalumo taškai** – naudodamas šį modulį klientas gali už užsakymą sumokėti lojalumo taškais.</span><span class="sxs-lookup"><span data-stu-id="55167-139">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="55167-140">Jis pateikia turimų taškų ir baigiančių galioti taškų suvestinę, o klientas gali pasirinkti panaudotinų taškų skaičių.</span><span class="sxs-lookup"><span data-stu-id="55167-140">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="55167-141">Jei klientas nėra prisijungęs, nėra lojalumo programos narys arba jei visa krepšelio suma yra 0 (nulis), šis modulis automatiškai paslepiamas.</span><span class="sxs-lookup"><span data-stu-id="55167-141">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="55167-142">**Mokėjimas** – naudodamas šį modulį klientas gali už užsakymą sumokėti kredito kortele.</span><span class="sxs-lookup"><span data-stu-id="55167-142">**Payment** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="55167-143">Jei visą krepšelio sumą dengia lojalumo taškai ar dovanų kortelė arba jei ji yra 0 (nulis), šis modulis automatiškai paslepiamas.</span><span class="sxs-lookup"><span data-stu-id="55167-143">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="55167-144">Šiam moduliui kredito kortelė integruojama naudojant „Adyen“ mokėjimo jungtį.</span><span class="sxs-lookup"><span data-stu-id="55167-144">Credit card integration is provided by the Adyen payment connector for this module.</span></span> <span data-ttu-id="55167-145">Norėdami apie tai, kaip naudoti šią jungtį, gauti daugiau informacijos, žr. [„Dynamics 365“ mokėjimo jungtis, skirta „Adyen“](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="55167-145">For more information about how to use this connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>
- <span data-ttu-id="55167-146">**Atsiskaitymo adresas** – naudodamas šį modulį klientas gali pateikti atsiskaitymo informaciją.</span><span class="sxs-lookup"><span data-stu-id="55167-146">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="55167-147">Kartu su kredito kortelės informacija šią informaciją tvarko „Adyen“.</span><span class="sxs-lookup"><span data-stu-id="55167-147">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="55167-148">Šiame modulyje yra parinktis, kurią naudodami klientai savo atsiskaitymo adresą gali naudoti kaip siuntimo adresą.</span><span class="sxs-lookup"><span data-stu-id="55167-148">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="55167-149">**Kontaktinė informacija** – naudodamas šį modulį klientas gali įtraukti arba pakeisti užsakymo kontaktinę informaciją (el. pašto adresą).</span><span class="sxs-lookup"><span data-stu-id="55167-149">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="55167-150">**Teksto blokas** – šiame modulyje yra pranešimai, grindžiami turinio valdymo sistema (TVS).</span><span class="sxs-lookup"><span data-stu-id="55167-150">**Text block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="55167-151">Pavyzdžiui, jame gali būti pranešimas „Jei kyla problemų dėl užsakymo, kreipkitės numeriu 1-800-Fabrikam“.</span><span class="sxs-lookup"><span data-stu-id="55167-151">For example, it might contain a message that states, "For issues with your order, contact 1-800-Fabrikam."</span></span> 

## <a name="commerce-scale-unit-interaction"></a><span data-ttu-id="55167-152">„Commerce Scale Unit“ sąveika</span><span class="sxs-lookup"><span data-stu-id="55167-152">Commerce Scale Unit interaction</span></span>

<span data-ttu-id="55167-153">Didžioji dalis pirkimo užbaigimo informacijos, pvz., siuntimo adresas ir siuntimo būdas, saugoma krepšelyje ir tvarkoma kartu su užsakymu.</span><span class="sxs-lookup"><span data-stu-id="55167-153">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="55167-154">Vienintelė išimtis yra kredito kortelės informacija.</span><span class="sxs-lookup"><span data-stu-id="55167-154">The only exception is the credit card information.</span></span> <span data-ttu-id="55167-155">Ši informacija tvarkoma tiesiogiai, naudojant „Adyen“ mokėjimo jungtį.</span><span class="sxs-lookup"><span data-stu-id="55167-155">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="55167-156">Mokėjimas leidžiamas, tačiau nenuskaičiuojamas.</span><span class="sxs-lookup"><span data-stu-id="55167-156">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="55167-157">Pirkimo užbaigimo modulio įtraukimas į naują puslapį ir reikiamų ypatybių nustatymas</span><span class="sxs-lookup"><span data-stu-id="55167-157">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="55167-158">Norėdami į naują puslapį įtraukti pirkimo užbaigimo modulį ir nustatyti reikiamas ypatybes, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="55167-158">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="55167-159">Nueikite į **Fragmentas \> Naujas fragmentas** ir naują fragmentą pavadinkite **Pirkimo užbaigimo fragmentas**.</span><span class="sxs-lookup"><span data-stu-id="55167-159">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="55167-160">Į fragmentą įtraukite pirkimo užbaigimo modulį.</span><span class="sxs-lookup"><span data-stu-id="55167-160">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="55167-161">Į pirkimo užbaigimo modulį įtraukite antrašę.</span><span class="sxs-lookup"><span data-stu-id="55167-161">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="55167-162">Įtraukite siuntimo adreso, pristatymo parinkčių, pirkimo užbaigimo skyriaus konteinerio ir kontaktinės informacijos modulius.</span><span class="sxs-lookup"><span data-stu-id="55167-162">Add shipping address, delivery options, checkout section container, and contact information modules.</span></span> 
1. <span data-ttu-id="55167-163">Pirkimo užbaigimo skyriaus konteinerio modulyje įtraukite dovanų kortelės, lojalumo taškų ir mokėjimo modulius.</span><span class="sxs-lookup"><span data-stu-id="55167-163">In the checkout section container module, add gift card, loyalty points, and payment modules.</span></span> <span data-ttu-id="55167-164">Taip užtikrinate, kad viename skyriuje kartu rodomi visi mokėjimo būdai.</span><span class="sxs-lookup"><span data-stu-id="55167-164">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="55167-165">Įrašykite ir peržiūrėkite fragmentą.</span><span class="sxs-lookup"><span data-stu-id="55167-165">Save and preview the fragment.</span></span> <span data-ttu-id="55167-166">Kai kurie moduliai, kurie neturi krepšelio konteksto, peržiūroje gali būti neatvaizduoti.</span><span class="sxs-lookup"><span data-stu-id="55167-166">Some modules that don't have a cart context might not be rendered in the preview.</span></span>
1. <span data-ttu-id="55167-167">Baikite fragmento redagavimą ir publikuokite.</span><span class="sxs-lookup"><span data-stu-id="55167-167">Finish editing the fragment, and publish it.</span></span>
1. <span data-ttu-id="55167-168">Sukurkite šabloną, kuriame naudojamas naujasis pirkimo užbaigimo fragmentas.</span><span class="sxs-lookup"><span data-stu-id="55167-168">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="55167-169">Sukurkite pirkimo užbaigimo puslapį, kuriame naudojamas naujasis šablonas.</span><span class="sxs-lookup"><span data-stu-id="55167-169">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="55167-170">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="55167-170">Additional resources</span></span>

[<span data-ttu-id="55167-171">Darbo pradžios rinkinio apžvalga</span><span class="sxs-lookup"><span data-stu-id="55167-171">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="55167-172">Konteinerio modulis</span><span class="sxs-lookup"><span data-stu-id="55167-172">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="55167-173">Pirkimo langelio modulis</span><span class="sxs-lookup"><span data-stu-id="55167-173">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="55167-174">Krepšelio modulis</span><span class="sxs-lookup"><span data-stu-id="55167-174">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="55167-175">Užsakymo patvirtinimo modulis</span><span class="sxs-lookup"><span data-stu-id="55167-175">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="55167-176">Antraštės modulis</span><span class="sxs-lookup"><span data-stu-id="55167-176">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="55167-177">Poraštės modulis</span><span class="sxs-lookup"><span data-stu-id="55167-177">Footer module</span></span>](author-footer-module.md)
