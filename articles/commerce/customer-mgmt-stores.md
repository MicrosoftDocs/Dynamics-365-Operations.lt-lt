---
title: Klientų valdymas parduotuvėse
description: Šioje temoje paaiškinama, kaip mažmenininkai gali įgalinti klientų valdymo pajėgumus „Microsoft Dynamics 365 Commerce“ elektroniniame kasos aparate (EKA).
author: josaw1
ms.date: 05/25/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: dd17593d84a8bf262712a84b11829f8ec6c49049
ms.sourcegitcommit: c5c8f19a696ad4a3d68dffd63bfe7b484b999d2b
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 05/25/2021
ms.locfileid: "6097213"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="84ce1-103">Klientų valdymas parduotuvėse</span><span class="sxs-lookup"><span data-stu-id="84ce1-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="84ce1-104">Šioje temoje paaiškinama, kaip mažmenininkai gali įgalinti klientų valdymo pajėgumus „Microsoft Dynamics 365 Commerce“ elektroniniame kasos aparate (EKA).</span><span class="sxs-lookup"><span data-stu-id="84ce1-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="84ce1-105">Svarbu, kad parduotuvės susiejimai galėtų kurti ir redaguoti klientų įrašus EKA.</span><span class="sxs-lookup"><span data-stu-id="84ce1-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="84ce1-106">Tokiu būdu jie gali užfiksuoti visus kliento informacijos naujinimus, pvz., el. pašto adresą, telefono numerį ir adresą.</span><span class="sxs-lookup"><span data-stu-id="84ce1-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="84ce1-107">Ši informacija yra naudinga proceso pabaigos sistemose, pvz., rinkodaros, nes šių sistemų efektyvumas priklauso nuo jų klientų duomenų tikslumo.</span><span class="sxs-lookup"><span data-stu-id="84ce1-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="84ce1-108">Pardavimo susiejimai gali iššaukti klientų kūrimo darbo eigą iš EKA įėjimo taškų.</span><span class="sxs-lookup"><span data-stu-id="84ce1-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="84ce1-109">Jie gali paspausti mygtuką, atvaizduotą operacijai **Kliento pridėjimas** arba programėlės juostoje paieškos rezultatų puslapyje jie gali pasirinkti **Kurti klientą**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="84ce1-110">Abiem atvejais pasirodo dialogo langas **Naujas klientas**, kuriame pardavimų susiejimai gali įvesti reikiamus kliento duomenis, pvz., kliento vardą ir pavardę, el. pašto adresą, telefono numerį, adresą ir visą su įmone susijusią papildomą informaciją.</span><span class="sxs-lookup"><span data-stu-id="84ce1-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="84ce1-111">Šią papildomą informaciją galima užfiksuoti naudojant su kliento susietus kliento atributus.</span><span class="sxs-lookup"><span data-stu-id="84ce1-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="84ce1-112">Daugiau informacijos apie kliento atributus žr. skyriuje [Kliento atributai](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="84ce1-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="84ce1-113">Pardavimų susiejimai taip pat gali užfiksuoti antrinius el. pašto adresus ir telefono numerius.</span><span class="sxs-lookup"><span data-stu-id="84ce1-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="84ce1-114">Be to, jie gali užfiksuoti kliento pasirinkimus dėl rinkodaros informacijos gavimo šiais antriniais el. pašto adresais ar telefono numeriai.</span><span class="sxs-lookup"><span data-stu-id="84ce1-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="84ce1-115">Kad įjungtų šią galimybę, mažmenininkai turi įjungti funkciją **Šiuose kontaktuose užfiksuoti kelis el. pašto adresus ir telefono numerius bei sutikimą dėl rinkodaros**, esančią darbo srityje **Funkcijų valdymas**, kurią galima rasti „Commerce“ valdymo srityje (**Sistemos administravimas \> Darbo sritys \> Funkcijų valdymas**).</span><span class="sxs-lookup"><span data-stu-id="84ce1-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="84ce1-116">Numatytosios kliento savybės</span><span class="sxs-lookup"><span data-stu-id="84ce1-116">Default customer properties</span></span>

<span data-ttu-id="84ce1-117">Mažmenininkai puslapį **Visos parduotuvės**, esantį „Commerce“ valdymo srityje (**Mažmeninė prekyba ir komercija \> Kanalai \> Parduotuvės**), kad su numatytąjį klientą susietų su kiekviena parduotuve.</span><span class="sxs-lookup"><span data-stu-id="84ce1-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="84ce1-118">Tada „Commerce“ visiems naujiems sukurtiems kliento įrašams kopijuoja savybes, kurios apibrėžiamos numatytajam klientui.</span><span class="sxs-lookup"><span data-stu-id="84ce1-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="84ce1-119">Pavyzdžiui, dialogo lange **Kurti klientą** rodomos savybės, kurios perimamos iš numatytojo kliento, kuris yra siejamas su parduotuve.</span><span class="sxs-lookup"><span data-stu-id="84ce1-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="84ce1-120">Šios savybės – tai **kliento tipas**, **kliento grupė**, **kvito parinktis**, **kvito el. paštas**, **valiuta** ir **kalba**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-120">Those properties include the **customer type**, **customer group**, **receipt option**, **receipt email**, **currency**, and **language**.</span></span> <span data-ttu-id="84ce1-121">Visi **priskyrimai** (klientų grupavimai) taip pat perduodami iš numatytojo kliento.</span><span class="sxs-lookup"><span data-stu-id="84ce1-121">Any **affiliations** (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="84ce1-122">Tačiau **finansinės dimensijos** yra perimamos iš tos klientų grupės, kuri yra susieta su numatytuoju klientu, o ne iš paties numatytojo kliento.</span><span class="sxs-lookup"><span data-stu-id="84ce1-122">However, **financial dimensions** are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

> [!NOTE]
> <span data-ttu-id="84ce1-123">**Kvito el. pašto** vertė nukopijuojama iš numatytojo kliento tik tada, jei kvito el. pašto ID nėra pateikiama naujai sukurtiems klientams.</span><span class="sxs-lookup"><span data-stu-id="84ce1-123">The **receipt email** value gets copied from the default customer only if the receipt email ID is not provided for the newly created customers.</span></span> <span data-ttu-id="84ce1-124">Tai reiškia, kad jei numatytajam klientui yra kvito el. pašto ID, tada visi klientai, sukurti iš el. prekybos svetainės, gaus tą patį kvito el. pašto ID, nes nėra vartotojo sąsajos, kad būtų galima fiksuoti kvito el. pašto ID iš kliento.</span><span class="sxs-lookup"><span data-stu-id="84ce1-124">This means that if the receipt email ID is present on the default customer, then all the customers created from the e-commerce site will get the same receipt email ID as there is no user interface to capture the receipt email ID from the customer.</span></span> <span data-ttu-id="84ce1-125">Rekomenduojame palikti **kvito el. pašto** lauką tuščią numatytam parduotuvės klientui ir naudoti jį tik tada, jei turite verslo procesą, kuris priklauso nuo esamo kvito el. pašto adreso.</span><span class="sxs-lookup"><span data-stu-id="84ce1-125">We recommend that you to keep the **receipt email** field empty for the default customer of the store and only use it if you have a business process that depends on a receipt email address being present.</span></span> 

<span data-ttu-id="84ce1-126">Pardavimų susiejimai gali perimti kelis kliento adresus.</span><span class="sxs-lookup"><span data-stu-id="84ce1-126">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="84ce1-127">Kliento vardas ir pavardė bei telefono numeris perimami iš kontaktinės informacijos, siejamos su kiekvienu adresu.</span><span class="sxs-lookup"><span data-stu-id="84ce1-127">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="84ce1-128">Kliento įrašo „FastTab“ skirtukas **Adresai** apima laukelį **Tikslas**, kurį pardavimų susiejimai gali redaguoti.</span><span class="sxs-lookup"><span data-stu-id="84ce1-128">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="84ce1-129">Jei kliento tipas yra **Asmuo**, numatytoji vertė yra **Namai**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-129">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="84ce1-130">Jei kliento tipas yra **Organizacija**, numatytoji reikšmė yra **Įmonė**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-130">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="84ce1-131">Kitos šio laukelio palaikomos vertės: **Namai**, **Biuras** ir **Pašto dėžutė**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-131">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="84ce1-132">Adreso laukelis **Šalis** perimamas iš pagrindinio adreso, kuris nurodomas puslapyje **Valdymo vienetas**, esančiame „Commerce“ valdymo srityje pasirinkus **Organizacijos administravimas \> Organizacijos \> Valdymo vienetai**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-132">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="84ce1-133">Sinchroniniai ir asinchroniniai klientai</span><span class="sxs-lookup"><span data-stu-id="84ce1-133">Sync customers and Async customers</span></span>

<span data-ttu-id="84ce1-134">„Commerce“ naudojami du klientų kūrimo būdai: sinchroninis (arba „Sync“) ir asinchroninis (arba "Async").</span><span class="sxs-lookup"><span data-stu-id="84ce1-134">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="84ce1-135">Numatyta, kad klientai sukuriami sinchroniškai.</span><span class="sxs-lookup"><span data-stu-id="84ce1-135">By default, customers are created synchronously.</span></span> <span data-ttu-id="84ce1-136">Kitaip tariant, jie kuriami realiuoju laiku „Commerce“ valdymo srityje.</span><span class="sxs-lookup"><span data-stu-id="84ce1-136">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="84ce1-137">„Sync“ kliento kūrimo režimas naudingas, nes naujų klientų iš karto ieškoma visuose kanaluose.</span><span class="sxs-lookup"><span data-stu-id="84ce1-137">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="84ce1-138">Tačiau yra ir trūkumų.</span><span class="sxs-lookup"><span data-stu-id="84ce1-138">However, it also has a drawback.</span></span> <span data-ttu-id="84ce1-139">Kadangi ši funkcija generuoja [Commerce Data Exchange: realaus laiko paslaugos](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) skambučius į „Commerce“ valdymo sritį, veiksmingumui tai gali daryti įtakos, jei vienu metu atliekami keli kliento kūrimo skambučiai.</span><span class="sxs-lookup"><span data-stu-id="84ce1-139">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="84ce1-140">Jei parinktis **Kurti klientą asinchroniniu režimu** nustatyta kaip **Taip** parduotuvės funkcijų profilyje (**Mažmeninė prekyba ir komercija \> Kanalo sąranka \> Interneto parduotuvės sąranka \> Funkcijų profiliai**), realiu laiku atliekami skambučiai nenaudojami klientų įrašams kurti kanalo duomenų bazėje.</span><span class="sxs-lookup"><span data-stu-id="84ce1-140">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="84ce1-141">Sinchroninio kliento kūrimo režimas „Commerce“ valdymo srities efektyvumui įtakos nedaro.</span><span class="sxs-lookup"><span data-stu-id="84ce1-141">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="84ce1-142">Kiekvienam naujam „Async“ kliento įrašui priskiriamas laikinas visuotinis unikalus identifikatorius (GUID) ir naudojamas kaip kliento paskyros ID.</span><span class="sxs-lookup"><span data-stu-id="84ce1-142">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="84ce1-143">Šis GUID nerodomas EKA naudotojams.</span><span class="sxs-lookup"><span data-stu-id="84ce1-143">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="84ce1-144">Vietoje to, kaip kliento paskyros ID šie naudotojai matys **Laukiama sinchronizavimo**.</span><span class="sxs-lookup"><span data-stu-id="84ce1-144">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="84ce1-145">Nors dėl šios konfigūracijos klientai kuriami asinchroniškai, atkreipkite dėmesį, kad klientų įrašų redagavimas visada atliekamas sinchroniškai.</span><span class="sxs-lookup"><span data-stu-id="84ce1-145">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="84ce1-146">„Async“ klientų konvertavimas į „Sync“ klientus</span><span class="sxs-lookup"><span data-stu-id="84ce1-146">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="84ce1-147">Kad „Async“ klientus galėtumėte konvertuoti į „Sync“ klientus, pirmiausia turite paleisti P užduotį, kad „Async“ klientus nusiųstumėte į „Commerce“ valdymo sritį.</span><span class="sxs-lookup"><span data-stu-id="84ce1-147">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="84ce1-148">Tada paleiskite užduotį **Klientų ir verslo partnerių sinchronizavimas iš asinchroninio režimo**, kad sukurtumėte klientų paskyrų ID.</span><span class="sxs-lookup"><span data-stu-id="84ce1-148">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="84ce1-149">Galiausiai vykdykite užduotį **1010**, kad sinchronizuotumėte naujų klientų paskyrų ID kanaluose.</span><span class="sxs-lookup"><span data-stu-id="84ce1-149">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="84ce1-150">„Async“ kliento apribojimai</span><span class="sxs-lookup"><span data-stu-id="84ce1-150">Async customer limitations</span></span>

<span data-ttu-id="84ce1-151">„Async“ kliento funkcijai šiuo metu taikomi šie apribojimai:</span><span class="sxs-lookup"><span data-stu-id="84ce1-151">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="84ce1-152">„Async“ kliento įrašų redaguoti negalima, nebent „Commerce“ valdymo srityje buvo sukurtas klientas, o naujo kliento paskyros ID sinchronizuotas atgal į kanalą.</span><span class="sxs-lookup"><span data-stu-id="84ce1-152">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="84ce1-153">Priskyrimų negalima susieti su „Async“ klientais.</span><span class="sxs-lookup"><span data-stu-id="84ce1-153">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="84ce1-154">Todėl nauji „Async“ klientai neperima priskyrimų iš numatytojo kliento.</span><span class="sxs-lookup"><span data-stu-id="84ce1-154">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="84ce1-155">Lojalumo kortelių negalima išduoti „Async“ klientams, jei naujo kliento paskyros ID nebuvo sinchronizuotas atgal į kanalą.</span><span class="sxs-lookup"><span data-stu-id="84ce1-155">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="84ce1-156">Negalima užfiksuoti „Async“ klientų antrinių el. pašto adresų ir telefonų numerių.</span><span class="sxs-lookup"><span data-stu-id="84ce1-156">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="84ce1-157">Kliento kūrimas EKA autonominiu režimu</span><span class="sxs-lookup"><span data-stu-id="84ce1-157">Customer creation in POS offline mode</span></span>

<span data-ttu-id="84ce1-158">Jei EKA pereina į autonominį režimą, kai įjungtas „Async“ kliento kūrimo režimas, naujų klientų įrašai sukuriami asinchroniškai.</span><span class="sxs-lookup"><span data-stu-id="84ce1-158">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="84ce1-159">Jei EKA veikia autonominiu režimu, kai „Async“ kliento sukūrimo režimas išjungtas, sistema automatiškai perjungia „Async“ kliento kūrimo režimą.</span><span class="sxs-lookup"><span data-stu-id="84ce1-159">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="84ce1-160">Kitaip tariant, kliento įrašus galima kurti asinchroniniu būdu, net jei „Async“ kliento kūrimo režimas išjungtas.</span><span class="sxs-lookup"><span data-stu-id="84ce1-160">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="84ce1-161">Todėl „Commerce“ valdymo srities administratoriai turi sukurti ir suplanuoti pasikartojančią P užduoties paketinę užduotį – **Sinchronizuoti klientus ir verslo partnerius iš asinchroninio režimo** – ir užduotį **1010**, kad „Async“ klientai būtų konvertuojami į „Sync“ klientus „Commerce“ valdymo srityje.</span><span class="sxs-lookup"><span data-stu-id="84ce1-161">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="84ce1-162">Jei parinktis **Filtruoti bendrinamas kliento duomenų lenteles** nustatoma kaip **Taip** puslapyje **„Commerce“ kanalo schema** (**Mažmeninės prekybos ir komercijos sąranka \> Valdymo srities sąranka \> „Commerce“ planuoklis \> Kanalo duomenų bazės grupė**), kliento įrašai nesukuriami EKA, veikiant autonominiu režimu.</span><span class="sxs-lookup"><span data-stu-id="84ce1-162">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="84ce1-163">Daugiau informacijos žr. skyriuje [Duomenų pašalinimas veikiant autonominiu režimu](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="84ce1-163">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="84ce1-164">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="84ce1-164">Additional resources</span></span>

[<span data-ttu-id="84ce1-165">Kliento atributai</span><span class="sxs-lookup"><span data-stu-id="84ce1-165">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="84ce1-166">Duomenų pašalinimas veikiant autonominiu režimu</span><span class="sxs-lookup"><span data-stu-id="84ce1-166">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
