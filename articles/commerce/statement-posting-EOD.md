---
title: Išrašų registravimo funkcionalumo patobulinimai
description: Šioje temoje aprašomi išrašų registravimo funkcijai atlikti patobulinimai.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 96798c052a24f3a1ad0856c34bd26051f1196110
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 02/15/2021
ms.locfileid: "5234274"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="061de-103">Išrašų registravimo funkcionalumo patobulinimai</span><span class="sxs-lookup"><span data-stu-id="061de-103">Improvements to statement posting functionality</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="061de-104">Šioje temoje aprašomas pirmas išrašų registravimo funkcijai atliktų patobulinimų rinkinys.</span><span class="sxs-lookup"><span data-stu-id="061de-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="061de-105">Šie patobulinimai pateikiami „Microsoft Dynamics 365 for Finance and Operations 7.3.2“.</span><span class="sxs-lookup"><span data-stu-id="061de-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="061de-106">Aktyvinimas</span><span class="sxs-lookup"><span data-stu-id="061de-106">Activation</span></span>

<span data-ttu-id="061de-107">Pagal numatytuosius nustatymus, diegiant programą „Finance and Operations 7.3.2“ nustatoma, kad joje būtų naudojama senesnė išrašų registravimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="061de-108">Norėdami įgalinti patobulintą išrašų registravimo funkciją, turite įjungti jos konfigūracijos raktą.</span><span class="sxs-lookup"><span data-stu-id="061de-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="061de-109">Eikite į **Sistemos administravimas** \> **Sąranka** \> **Licencijos konfigūravimas**, po to mazge **Mažmeninė prekyba ir prekyba** panaikinkite žymės langelio **Išrašai (senesni)** žymėjimą ir pažymėkite žymės langelį **Mažmeninės prekybos išrašai**.</span><span class="sxs-lookup"><span data-stu-id="061de-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail and Commerce** node, clear the **Statements (legacy)** check box, and select the **Statements** check box.</span></span>

<span data-ttu-id="061de-110">Įjungus naują srities **Išrašai** konfigūracijos raktą galima naudotis nauju meniu elementu, kurio pavadinimas **Išrašai**.</span><span class="sxs-lookup"><span data-stu-id="061de-110">When the new **Statements** configuration key is turned on, a new menu item that is named **Statements** is available.</span></span> <span data-ttu-id="061de-111">Naudodamiesi šiuo meniu elementu galite patys sukurti, apskaičiuoti ir registruoti išrašus.</span><span class="sxs-lookup"><span data-stu-id="061de-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="061de-112">Naudojantis šiuo meniu elementu taip pat bus galima matyti visus vykdant paketinį registravimą klaidas sukeliančius išrašus.</span><span class="sxs-lookup"><span data-stu-id="061de-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="061de-113">(Įjungus srities **Išrašai (senesni)** konfigūracijos raktą meniu elemento pavadinimas **Atviri išrašai**.)</span><span class="sxs-lookup"><span data-stu-id="061de-113">(When the **Statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="061de-114">Naudojantis „Commerce“ atliekami toliau nurodyti su šiais konfigūracijos raktais siejami tikrinimai.</span><span class="sxs-lookup"><span data-stu-id="061de-114">Commerce includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="061de-115">Abiejų konfigūracijos raktų negalima įjungti tuo pačiu metu.</span><span class="sxs-lookup"><span data-stu-id="061de-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="061de-116">Visoms atliekamoms nurodyto galiojančio išrašo operacijoms (kūrimo, skaičiavimo, naikinimo, registravimo ir t. t.) turi būti naudojami tie patys konfigūracijos raktai.</span><span class="sxs-lookup"><span data-stu-id="061de-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="061de-117">Pavyzdžiui, kai įjungtas srities **Išrašai (senesni)** konfigūracijos raktas, negalite kurti ir skaičiuoti išrašo, o po to bandyti užregistruoti tą patį išrašą įjungę srities **Išrašai** konfigūracijos raktą.</span><span class="sxs-lookup"><span data-stu-id="061de-117">For example, you can't create and calculate a statement while the **Statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="061de-118">Rekomenduojame naudotis srities **Išrašai** konfigūracijos raktu norint naudotis patobulinta išrašų registravimo funkcija, nebent esama svarių priežasčių naudotis srities **Išrašai (senesni)** konfigūracijos raktu.</span><span class="sxs-lookup"><span data-stu-id="061de-118">We recommend that you use the **Statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="061de-119">„Microsoft“ ir toliau investuos į naują ir patobulintą išrašų registravimo funkciją ir, norint ja pasinaudoti, svarbu kuo greičiau prie jos pereiti.</span><span class="sxs-lookup"><span data-stu-id="061de-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="061de-120">Senesne išrašų registravimo funkcija nuo 8.0 leidimo nebebus naudojama.</span><span class="sxs-lookup"><span data-stu-id="061de-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="061de-121">Sąranka</span><span class="sxs-lookup"><span data-stu-id="061de-121">Setup</span></span>

<span data-ttu-id="061de-122">Tobulinant išrašų registravimo funkciją sukurti trys nauji puslapio **Prekybos parametrai** skirtuko **Registravimas** „FastTab“ skirtuko **Išrašas** parametrai.</span><span class="sxs-lookup"><span data-stu-id="061de-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span>

- <span data-ttu-id="061de-123">**Išjungti išrašų valymo funkciją** – ši parinktis taikoma tik naudojantis senesne išrašų registravimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="061de-124">Rekomenduojame nustatyti šios parinkties reikšmę **Ne**, kad vartotojai negalėtų išvalyti išrašų, kurių būsena „pusiau užregistruoti“.</span><span class="sxs-lookup"><span data-stu-id="061de-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="061de-125">Išvalius išrašus, kurių būsena „pusiau užregistruoti“, duomenys sugadinami.</span><span class="sxs-lookup"><span data-stu-id="061de-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="061de-126">Šios parinkties reikšmę **Taip** turėtumėte nustatyti tik išskirtiniais atvejais.</span><span class="sxs-lookup"><span data-stu-id="061de-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="061de-127">**Skaičiuojant rezervuoti atsargas** – norint rezervuoti atsargas rekomenduojame naudoti paketinę užduotį **Registruoti atsargas** ir nustatyti šios parinkties reikšmę **Ne**.</span><span class="sxs-lookup"><span data-stu-id="061de-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="061de-128">Nustačius šios parinkties reikšmę **Ne** skaičiuojant ir naudojantis patobulinta išrašų registravimo funkcija nebandoma sukurti atsargų rezervavimo įrašų (jei įrašai nebuvo sukurti atliekant paketinę užduotį **Registruoti atsargas**).</span><span class="sxs-lookup"><span data-stu-id="061de-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="061de-129">Naudojantis funkcija atsargų rezervavimo įrašai sukuriami tik registruojant.</span><span class="sxs-lookup"><span data-stu-id="061de-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="061de-130">Šis diegimas atliktas norint įgyvendinti dizaino sprendimą ir buvo pagrįstas tuo, kad nuo skaičiavimo proceso iki registravimo proceso paprastai praeina nedaug laiko.</span><span class="sxs-lookup"><span data-stu-id="061de-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="061de-131">Tačiau, jei norite rezervuoti atsargas, kai atliekamas skaičiavimas, galite nustatyti šios parinkties reikšmę **Taip**.</span><span class="sxs-lookup"><span data-stu-id="061de-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="061de-132">Naudojantis senesne išrašo registravimo funkcija atsargos visada rezervuojamos vykstant išrašo skaičiavimo procesui (jei atsargos dar nerezervuotos atliekant paketinę užduotį **Registruoti atsargas**), nepriklausomai nuo to, kokia naudojama šios parinkties nuostata.</span><span class="sxs-lookup"><span data-stu-id="061de-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="061de-133">**Reikia išjungti skaičiavimą** – nustačius šios parinkties reikšmę **Taip** išrašo registravimo procesas tęsiamas net jei skirtumas tarp išraše nurodytos apskaičiuotos sumos ir operacijos sumos yra didesnis negu parduotuvių „FastTab“ skirtuke **Išrašas** nurodyta ribinė reikšmė.</span><span class="sxs-lookup"><span data-stu-id="061de-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for stores.</span></span>

<span data-ttu-id="061de-134">Be to, šie parametrai buvo įdiegti „FastTab“ skirtuke **Paketinis apdorojimas** skirtuke **Registravimas** puslapyje **Prekybos parametrai**.</span><span class="sxs-lookup"><span data-stu-id="061de-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span> 

- <span data-ttu-id="061de-135">**Maksimalus lygiagrečiai registruojamų išrašų skaičius** – šiame lauke apibrėžiamas paketinių užduočių, kurios bus naudojamos registruojant kelis išrašus, skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-135">**Maximum number of parallel statement posting** – This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="061de-136">**Maksimalus užsakymų apdorojimo išrašui gijų skaičius** – šis laukas rodo maksimalų gijų skaičių, kurį naudoja paketinės užduoties išrašo registravimas, kad būtų galima kurti ir išrašyti vieno išrašo pardavimo užsakymus.</span><span class="sxs-lookup"><span data-stu-id="061de-136">**Max thread for order processing per statement** – This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="061de-137">Bendras gijų, kurias naudos išrašo registravimo procesas, skaičius bus apskaičiuojamas pagal šio parametro vertę, padaugintą iš vertės **Maksimalus lygiagrečiai registruojamų išrašų skaičius**.</span><span class="sxs-lookup"><span data-stu-id="061de-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="061de-138">Nustačius per didelę šio parametro vertę galima neigiamai paveikti išrašo registravimo proceso efektyvumą.</span><span class="sxs-lookup"><span data-stu-id="061de-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="061de-139">**Maksimalus operacijų eilučių skaičius telkime** – šiame lauke apibrėžiamas operacijų eilučių, kurios bus įtrauktos į vieną suvestinę operaciją prieš sukuriant naują, skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-139">**Max transaction lines included in aggregation** – This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="061de-140">Apibendrintos operacijos kuriamos remiantis skirtingais sumavimo kriterijais, pvz., klientais, darbo data ar finansinėmis dimensijomis.</span><span class="sxs-lookup"><span data-stu-id="061de-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="061de-141">Svarbu pažymėti, kad viena operacijos eilutė nebus išskaidyta skirtingose suvestinėse operacijose.</span><span class="sxs-lookup"><span data-stu-id="061de-141">It is important to note that the lines from a single transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="061de-142">Tai reiškia, kad gali būti, kad suvestinės operacijos eilučių skaičius yra šiek tiek didesnis arba mažesnis, remiantis tokiais veiksniais, kaip atskirų produktų skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="061de-143">**Didžiausias gijų, reikalingų parduotuvės operacijoms tikrinti, skaičius** – šiame lauke apibrėžiamas gijų, kurios bus naudojamos operacijoms tikrinti, skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-143">**Maximum number of threads to validate store transactions** – This field defines the number of threads that will be used to validate transactions.</span></span> <span data-ttu-id="061de-144">Operacijų tikrinimas yra būtinas veiksmas, kurį reikia atlikti prieš operacijas traukiant į išrašus.</span><span class="sxs-lookup"><span data-stu-id="061de-144">Validating transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="061de-145">Be to, puslapio **Prekybos parametrai** skirtuko **Registravimas** „FastTab“ skirtuke **Dovanų kortelė** reikia apibrėžti elementą **Dovanų kortelės produktas**.</span><span class="sxs-lookup"><span data-stu-id="061de-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="061de-146">Jį reikia apibrėžti, net jei organizacija dovanų kortelių nenaudoja.</span><span class="sxs-lookup"><span data-stu-id="061de-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="061de-147">Visi su išrašo registravimu susiję nustatymai ir parametrai, kurie nurodyti mažmeninės prekybos parduotuvėse ir puslapyje **Prekybos parametrai** taikomi naudojantis patobulinta išrašo registravimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-147">All settings and parameters that are related to statement postings, and that are defined on stores and on the **Commerce parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="061de-148">Vykdymas</span><span class="sxs-lookup"><span data-stu-id="061de-148">Processing</span></span>

<span data-ttu-id="061de-149">Naudojantis meniu elementais **Skaičiuoti išrašų paketą** ir **Registruoti išrašų paketą** gali būti skaičiuojamas ir registruojamas išrašų paketas.</span><span class="sxs-lookup"><span data-stu-id="061de-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="061de-150">Išrašai taip pat gali būti skaičiuojami ir registruojami neautomatiškai – naudojantis taikant patobulintą išrašų registravimo funkciją matomu meniu elementu **Išrašai**.</span><span class="sxs-lookup"><span data-stu-id="061de-150">Alternatively, statements can be manually calculated and posted by using the **Statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="061de-151">Išrašų paketo skaičiavimo ir registravimo procesas ir veiksmai yra tokie patys, kaip ir naudojantis senesne išrašo registravimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="061de-152">Tačiau atlikta reikšmingų pagrindinio vidinio išrašų vykdymo patobulinimų.</span><span class="sxs-lookup"><span data-stu-id="061de-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="061de-153">Dėl šių patobulinimų procesas lankstesnis, taip pat geriau matoma informacija apie būsenas ir klaidas.</span><span class="sxs-lookup"><span data-stu-id="061de-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="061de-154">Todėl vartotojai gali pašalinti pagrindinę klaidų priežastį ir tęsti registravimo procesą nesugadindami duomenų, kad vėliau nereikėtų atlikti duomenų taisymų.</span><span class="sxs-lookup"><span data-stu-id="061de-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="061de-155">Toliau pateikiamuose skyriuose aprašomi kai kurie pagrindiniai vartotojo sąsajoje rodomų išrašų ir užregistruotų išrašų registravimo funkcijos patobulinimai.</span><span class="sxs-lookup"><span data-stu-id="061de-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="061de-156">Būsenos informacija</span><span class="sxs-lookup"><span data-stu-id="061de-156">Status details</span></span>

<span data-ttu-id="061de-157">Sukurtas naujas išrašo skaičiavimo ir registravimo procesų būsenos modelis.</span><span class="sxs-lookup"><span data-stu-id="061de-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="061de-158">Toliau pateikiamoje lentelėje aprašomos įvairios būsenos ir kokia tvarka jos išdėstomos vykstant skaičiavimo procesui.</span><span class="sxs-lookup"><span data-stu-id="061de-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="061de-159">Būsenų išdėstymo tvarka</span><span class="sxs-lookup"><span data-stu-id="061de-159">State order</span></span> | <span data-ttu-id="061de-160">Apskritis</span><span class="sxs-lookup"><span data-stu-id="061de-160">State</span></span>      | <span data-ttu-id="061de-161">aprašymas</span><span class="sxs-lookup"><span data-stu-id="061de-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="061de-162">1</span><span class="sxs-lookup"><span data-stu-id="061de-162">1</span></span>           | <span data-ttu-id="061de-163">Pradėta</span><span class="sxs-lookup"><span data-stu-id="061de-163">Started</span></span>    | <span data-ttu-id="061de-164">Išrašas sukurtas ir paruoštas skaičiuoti.</span><span class="sxs-lookup"><span data-stu-id="061de-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="061de-165">2</span><span class="sxs-lookup"><span data-stu-id="061de-165">2</span></span>           | <span data-ttu-id="061de-166">Pažymėta</span><span class="sxs-lookup"><span data-stu-id="061de-166">Marked</span></span>     | <span data-ttu-id="061de-167">Išrašo apimties operacijos identifikuojamos pagal išrašo parametrus ir pažymimos nurodant išrašo ID.</span><span class="sxs-lookup"><span data-stu-id="061de-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="061de-168">3</span><span class="sxs-lookup"><span data-stu-id="061de-168">3</span></span>           | <span data-ttu-id="061de-169">Apskaičiuota</span><span class="sxs-lookup"><span data-stu-id="061de-169">Calculated</span></span> | <span data-ttu-id="061de-170">Išrašo eilutės apskaičiuotos ir rodomos.</span><span class="sxs-lookup"><span data-stu-id="061de-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="061de-171">Toliau pateikiamoje lentelėje aprašomos įvairios būsenos ir kokia tvarka jos išdėstomos vykstant registravimo procesui.</span><span class="sxs-lookup"><span data-stu-id="061de-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="061de-172">Būsenų išdėstymo tvarka</span><span class="sxs-lookup"><span data-stu-id="061de-172">State order</span></span> | <span data-ttu-id="061de-173">Apskritis</span><span class="sxs-lookup"><span data-stu-id="061de-173">State</span></span>                   | <span data-ttu-id="061de-174">aprašymas</span><span class="sxs-lookup"><span data-stu-id="061de-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="061de-175">1</span><span class="sxs-lookup"><span data-stu-id="061de-175">1</span></span>           | <span data-ttu-id="061de-176">Patikrinta</span><span class="sxs-lookup"><span data-stu-id="061de-176">Checked</span></span>                 | <span data-ttu-id="061de-177">Atliekami keli su parametrais (pavyzdžiui, perdavimo mokesčiu), taip pat su išrašu ir išrašo eilutėmis (pavyzdžiui, apskaičiuotos sumos ir operacijos sumos skirtumu) siejami tikrinimai.</span><span class="sxs-lookup"><span data-stu-id="061de-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="061de-178">2</span><span class="sxs-lookup"><span data-stu-id="061de-178">2</span></span>           | <span data-ttu-id="061de-179">Sukaupta</span><span class="sxs-lookup"><span data-stu-id="061de-179">Aggregated</span></span>              | <span data-ttu-id="061de-180">Klientų, kurių vardai nurodyti arba nenurodyti, operacijos telkiamos pagal konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="061de-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="061de-181">Kiekviena sutelkta operacija galiausiai konvertuojama į pardavimo užsakymą.</span><span class="sxs-lookup"><span data-stu-id="061de-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="061de-182">3</span><span class="sxs-lookup"><span data-stu-id="061de-182">3</span></span>           | <span data-ttu-id="061de-183">Kliento užsakymas sukurtas</span><span class="sxs-lookup"><span data-stu-id="061de-183">Customer order created</span></span>  | <span data-ttu-id="061de-184">Pagal sutelktą operaciją sistemoje sukuriami pardavimo užsakymai.</span><span class="sxs-lookup"><span data-stu-id="061de-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="061de-185">4</span><span class="sxs-lookup"><span data-stu-id="061de-185">4</span></span>           | <span data-ttu-id="061de-186">Išrašyta kliento užsakymo SF</span><span class="sxs-lookup"><span data-stu-id="061de-186">Customer order invoiced</span></span> | <span data-ttu-id="061de-187">Išrašytos pardavimo užsakymų SF.</span><span class="sxs-lookup"><span data-stu-id="061de-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="061de-188">5</span><span class="sxs-lookup"><span data-stu-id="061de-188">5</span></span>           | <span data-ttu-id="061de-189">Nuolaidos užregistruotos</span><span class="sxs-lookup"><span data-stu-id="061de-189">Discounts posted</span></span>        | <span data-ttu-id="061de-190">Periodiniai nuolaidų žurnalai registruojami pagal konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="061de-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="061de-191">6</span><span class="sxs-lookup"><span data-stu-id="061de-191">6</span></span>           | <span data-ttu-id="061de-192">Pajamos / išlaidos užregistruotos</span><span class="sxs-lookup"><span data-stu-id="061de-192">Income/expense posted</span></span>   | <span data-ttu-id="061de-193">Pajamų / išlaidų operacijos registruojamos kaip kvitai.</span><span class="sxs-lookup"><span data-stu-id="061de-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="061de-194">7</span><span class="sxs-lookup"><span data-stu-id="061de-194">7</span></span>           | <span data-ttu-id="061de-195">Kvitai susieti</span><span class="sxs-lookup"><span data-stu-id="061de-195">Vouchers linked</span></span>         | <span data-ttu-id="061de-196">Mokėjimo žurnalai sukurti ir susieti su atitinkama sąskaita faktūra.</span><span class="sxs-lookup"><span data-stu-id="061de-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="061de-197">8</span><span class="sxs-lookup"><span data-stu-id="061de-197">8</span></span>           | <span data-ttu-id="061de-198">Mokėjimai užregistruoti</span><span class="sxs-lookup"><span data-stu-id="061de-198">Payments posted</span></span>         | <span data-ttu-id="061de-199">Mokėjimo žurnalai užregistruoti.</span><span class="sxs-lookup"><span data-stu-id="061de-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="061de-200">9</span><span class="sxs-lookup"><span data-stu-id="061de-200">9</span></span>           | <span data-ttu-id="061de-201">Užregistruotos dovanų kortelės</span><span class="sxs-lookup"><span data-stu-id="061de-201">Gift cards posted</span></span>       | <span data-ttu-id="061de-202">Dovanų kortelės operacijos registruojamos kaip kvitai.</span><span class="sxs-lookup"><span data-stu-id="061de-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="061de-203">10</span><span class="sxs-lookup"><span data-stu-id="061de-203">10</span></span>          | <span data-ttu-id="061de-204">Užregistruota</span><span class="sxs-lookup"><span data-stu-id="061de-204">Posted</span></span>                  | <span data-ttu-id="061de-205">Išrašas pažymėtas kaip užregistruotas.</span><span class="sxs-lookup"><span data-stu-id="061de-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="061de-206">Kiekviena pirmiau pateiktose lentelėse nurodyta būsena pagal pobūdį yra nepriklausoma, sukuriama hierarchinė būsenų priklausomybė.</span><span class="sxs-lookup"><span data-stu-id="061de-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="061de-207">Tai priklausomybė, kuri juntama iš viršaus į apačią.</span><span class="sxs-lookup"><span data-stu-id="061de-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="061de-208">Jei vykdydama būseną sistema aptinka klaidų, grąžinama ankstesnė išrašo būsena.</span><span class="sxs-lookup"><span data-stu-id="061de-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="061de-209">Kiekvieną kartą bandant iš naujo vykdyti procesą tęsiama nuo būsenos, kurios nepavyko įvykdyti ir judama pirmyn.</span><span class="sxs-lookup"><span data-stu-id="061de-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="061de-210">Toliau nurodomi šio metodo privalumai.</span><span class="sxs-lookup"><span data-stu-id="061de-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="061de-211">Vartotojas mato visą būseną, kurią vykdant įvyko klaida.</span><span class="sxs-lookup"><span data-stu-id="061de-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="061de-212">Duomenys išlieka nesugadinti.</span><span class="sxs-lookup"><span data-stu-id="061de-212">Data corruption is avoided.</span></span> <span data-ttu-id="061de-213">Pavyzdžiui, naudojantis senesne išrašo registravimo funkcija buvo atvejų, kai SF išrašomos tik kai kuriems pardavimo užsakymams, o kiti užsakymai lieka atviri.</span><span class="sxs-lookup"><span data-stu-id="061de-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="061de-214">Taip pat buvo atvejų, kai kai kuriuose mokėjimo žurnaluose nebuvo nurodyta atitinkama SF, kurią reikia apmokėti, nes registruojant SF įvyko klaida.</span><span class="sxs-lookup"><span data-stu-id="061de-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="061de-215">Naudodamiesi išrašo grupės **Išsami informacija apie vykdymą** mygtuku **Išsami informacija apie būseną** vartotojai gali matyti dabartinę išrašo būseną.</span><span class="sxs-lookup"><span data-stu-id="061de-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="061de-216">Išsamios informacijos apie būseną puslapyje yra trys skyriai.</span><span class="sxs-lookup"><span data-stu-id="061de-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="061de-217">Pirmame skyriuje rodoma dabartinė išrašo būsena, taip pat klaidos kodas ir (įvykus klaidai) išsamus pranešimas apie klaidą.</span><span class="sxs-lookup"><span data-stu-id="061de-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="061de-218">Antrame skyriuje rodomos įvairios skaičiavimo proceso būsenos.</span><span class="sxs-lookup"><span data-stu-id="061de-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="061de-219">Vaizdinėse užuominose nurodomos sėkmingai paleistos būsenos, būsenos, kurių nepavyko paleisti dėl klaidų, ir būsenos, kurios dar nepaleistos.</span><span class="sxs-lookup"><span data-stu-id="061de-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="061de-220">Trečiame skyriuje rodomos įvairios registravimo proceso būsenos.</span><span class="sxs-lookup"><span data-stu-id="061de-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="061de-221">Vaizdinėse užuominose nurodomos sėkmingai paleistos būsenos, būsenos, kurių nepavyko paleisti dėl klaidų, ir būsenos, kurios dar nepaleistos.</span><span class="sxs-lookup"><span data-stu-id="061de-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="061de-222">Be to, antro ir trečio skyrių antraštėse rodoma bendroji atitinkamo proceso būsena.</span><span class="sxs-lookup"><span data-stu-id="061de-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="061de-223">Įvykių žurnalai</span><span class="sxs-lookup"><span data-stu-id="061de-223">Event logs</span></span>

<span data-ttu-id="061de-224">Atliekamos įvairios išrašo operacijos (pavyzdžiui, kūrimo, skaičiavimo, valymo ir registravimo) ir išrašo galiojimo laikotarpiu gali būti pateikiami keli tos pačios operacijos pavyzdžiai.</span><span class="sxs-lookup"><span data-stu-id="061de-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="061de-225">Pavyzdžiui, sukūręs ir apskaičiavęs išrašą vartotojas gali išvalyti išrašą ir apskaičiuoti jį dar kartą.</span><span class="sxs-lookup"><span data-stu-id="061de-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="061de-226">Naudojantis išrašo grupės **Išsami informacija apie vykdymą** mygtuku **Įvykių žurnalai** galima gauti visą informaciją apie įvairių išraše nurodytų operacijų patikrinimus, taip pat informaciją apie tai, kada nurodyta tas operacijas atlikti.</span><span class="sxs-lookup"><span data-stu-id="061de-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="061de-227">Sutelktos operacijos</span><span class="sxs-lookup"><span data-stu-id="061de-227">Aggregated transactions</span></span>

<span data-ttu-id="061de-228">Vykstant registravimo procesui pardavimo operacijos telkiamos pagal konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="061de-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="061de-229">Šios sutelktos operacijos saugomos sistemoje ir naudojamos pardavimų užsakymams kurti.</span><span class="sxs-lookup"><span data-stu-id="061de-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="061de-230">Kiekvieną kartą sutelkus operaciją sistemoje sukuriamas vienas atitinkamas pardavimo užsakymas.</span><span class="sxs-lookup"><span data-stu-id="061de-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="061de-231">Naudodamiesi išrašo grupės **Išsami informacija apie vykdymą** mygtuku **Sutelktos operacijos** galite peržiūrėti sutelktas operacijas.</span><span class="sxs-lookup"><span data-stu-id="061de-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="061de-232">Sutelktos operacijos skirtuke **Išsami informacija apie pardavimo užsakymą** rodoma toliau išvardyta informacija.</span><span class="sxs-lookup"><span data-stu-id="061de-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="061de-233">**Įrašo ID** – sutelktos operacijos ID.</span><span class="sxs-lookup"><span data-stu-id="061de-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="061de-234">**Išrašo numeris** – išrašas, kuriam sutelkta operacija priklauso.</span><span class="sxs-lookup"><span data-stu-id="061de-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="061de-235">**Data** – sutelktos operacijos sukūrimo data.</span><span class="sxs-lookup"><span data-stu-id="061de-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="061de-236">**Pardavimo ID** – kai pagal sutelktą operaciją sukuriamas pardavimo užsakymas, pardavimo užsakymo ID.</span><span class="sxs-lookup"><span data-stu-id="061de-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="061de-237">Jei šis laukas tuščias, atitinkamas pardavimo užsakymas nesukurtas.</span><span class="sxs-lookup"><span data-stu-id="061de-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="061de-238">**Sutelktų eilučių skaičius** – bendras sutelktos operacijos ir pardavimo užsakymo eilučių skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="061de-239">**Būsena** – paskutinė sutelktos operacijos būsena.</span><span class="sxs-lookup"><span data-stu-id="061de-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="061de-240">**Sąskaitos faktūros ID** – kai išrašoma sutelktos operacijos pardavimo užsakymo SF, pardavimo sąskaitos faktūros ID.</span><span class="sxs-lookup"><span data-stu-id="061de-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="061de-241">Jei šis laukas tuščias, pardavimo užsakymo sąskaita faktūra užregistruota.</span><span class="sxs-lookup"><span data-stu-id="061de-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="061de-242">Sutelktos operacijos skirtuke **Išsami informacija apie operaciją** rodomos visos į sutelktą operaciją įtrauktos operacijos.</span><span class="sxs-lookup"><span data-stu-id="061de-242">The **Transaction details** tab of an aggregated transaction shows all the transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="061de-243">Sutelktos operacijos sutelktose eilutėse rodomi visi sutelkti operacijų įrašai.</span><span class="sxs-lookup"><span data-stu-id="061de-243">The aggregated lines on the aggregated transaction show all the aggregated records from the transactions.</span></span> <span data-ttu-id="061de-244">Sutelktose eilutėse taip pat rodoma tokia išsami informacija kaip prekė, variantas, kiekis, kaina, grynoji suma, vienetas ir sandėlis.</span><span class="sxs-lookup"><span data-stu-id="061de-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="061de-245">Iš esmės, kiekviena sutelkta eilutė atitinka vieną pardavimo užsakymo eilutę.</span><span class="sxs-lookup"><span data-stu-id="061de-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="061de-246">Puslapyje **Sutelktos operacijos** naudodamiesi mygtuku **Eksportuoti pardavimo užsakymo XML failą** galite atsisiųsti tam tikros sutelktos operacijos XML failą.</span><span class="sxs-lookup"><span data-stu-id="061de-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="061de-247">Naudodamiesi XML failu galite išspręsti su pardavimo užsakymo kūrimu ir registravimu susijusias problemas.</span><span class="sxs-lookup"><span data-stu-id="061de-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="061de-248">Tiesiog atsisiųskite XML failą, įkelkite jį į bandomąją aplinką ir išspręskite problemą bandomojoje aplinkoje.</span><span class="sxs-lookup"><span data-stu-id="061de-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="061de-249">Užregistruotų išrašų sutelktų operacijų XML failo atsisiuntimo funkcija naudotis negalima.</span><span class="sxs-lookup"><span data-stu-id="061de-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="061de-250">Sutelktos operacijos rodinyje nurodoma toliau išvardyta nauda.</span><span class="sxs-lookup"><span data-stu-id="061de-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="061de-251">Vartotojas gali matyti sutelktas operacijas, kurių nepavyko įvykdyti kuriant pardavimo užsakymą, ir pardavimo užsakymus, kurių nepavyko sukurti išrašant SF.</span><span class="sxs-lookup"><span data-stu-id="061de-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="061de-252">Vartotojas gali matyti, kaip operacijos telkiamos.</span><span class="sxs-lookup"><span data-stu-id="061de-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="061de-253">Vartotojas gali sekti visus patikrinimus, nuo operacijų, taip pat pardavimo užsakymų iki pardavimo SF.</span><span class="sxs-lookup"><span data-stu-id="061de-253">The user has a complete audit trail, from transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="061de-254">Tikrinimų nebuvo galima sekti naudojantis senesne išrašų registravimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="061de-255">Naudojantis sutelktu XML failu lengviau nustatyti problemas kuriant pardavimo užsakymą ir išrašant sąskaitas faktūras.</span><span class="sxs-lookup"><span data-stu-id="061de-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="061de-256">Žurnalo kvitai</span><span class="sxs-lookup"><span data-stu-id="061de-256">Journal vouchers</span></span>

<span data-ttu-id="061de-257">Naudojantis išrašo grupės **Išsami informacija apie vykdymą** mygtuku **Žurnalo kvitai** rodomos visos įvairios sukurtos išrašo kvito operacijos, kurios susijusios su nuolaidomis, pajamų / išlaidų sąskaitomis, dovanų kortelėmis ir t. t.</span><span class="sxs-lookup"><span data-stu-id="061de-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="061de-258">Šiuo metu programoje rodomi tik registruotų išrašų duomenys.</span><span class="sxs-lookup"><span data-stu-id="061de-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="061de-259">Mokėjimo žurnalai</span><span class="sxs-lookup"><span data-stu-id="061de-259">Payment journals</span></span>

<span data-ttu-id="061de-260">Paspaudus išrašo grupės **Išsami informacija apie vykdymą** mygtuką **Mokėjimo žurnalai** rodomi visi įvairūs sukurti išrašo mokėjimo žurnalai.</span><span class="sxs-lookup"><span data-stu-id="061de-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="061de-261">Šiuo metu programoje rodomi tik registruotų išrašų duomenys.</span><span class="sxs-lookup"><span data-stu-id="061de-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="061de-262">Kiti patobulinimai</span><span class="sxs-lookup"><span data-stu-id="061de-262">Other improvements</span></span>

<span data-ttu-id="061de-263">Kiti vidiniai vartotojų matomi išrašų registravimo funkcijai atlikti patobulinimai.</span><span class="sxs-lookup"><span data-stu-id="061de-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="061de-264">Štai keletas pavyzdžių:</span><span class="sxs-lookup"><span data-stu-id="061de-264">Here are some examples:</span></span>

- <span data-ttu-id="061de-265">Telkimas neapima darbuotojų, terminalo ir pamainų objektų.</span><span class="sxs-lookup"><span data-stu-id="061de-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="061de-266">Kadangi yra mažiau telkimo parametrų, turi būti vykdoma mažiau pardavimo užsakymo eilučių.</span><span class="sxs-lookup"><span data-stu-id="061de-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="061de-267">Operacijų lentelėse atsirandančių aklaviečių skaičius sumažės sukūrus papildomas išplėstines lenteles ir operacijų lentelėse vietoje atnaujinimo operacijų atliekant įterpimo operacijas.</span><span class="sxs-lookup"><span data-stu-id="061de-267">The occurrence of deadlock on transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the transaction tables.</span></span>
- <span data-ttu-id="061de-268">Vykdomų paketinių užduočių skaičiui taikomi atitinkami parametrai ir jis ribotas.</span><span class="sxs-lookup"><span data-stu-id="061de-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="061de-269">Todėl šis skaičius gali būti specialiai priderinamas pagal kliento aplinką.</span><span class="sxs-lookup"><span data-stu-id="061de-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="061de-270">Naudojantis senesne išrašų registravimo funkcija vienu metu buvo sukuriamas neribotas paketinių užduočių skaičius.</span><span class="sxs-lookup"><span data-stu-id="061de-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="061de-271">Rezultatai – nevaldomos apkrovos, pridėtinės išlaidos ir silpnosios vietos paketinio apdorojimo serveryje.</span><span class="sxs-lookup"><span data-stu-id="061de-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="061de-272">Išrašai efektyviai išrikiuojami į eilę apdorojimui, pirmenybę suteikiant tiems išrašams, kuriuose operacijų skaičius didžiausias.</span><span class="sxs-lookup"><span data-stu-id="061de-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="061de-273">Paketiniai procesai, pavyzdžiui, **Skaičiuoti išrašų paketą** ir **Registruoti išrašų paketą** vykdomi tik įjungus paketinį režimą.</span><span class="sxs-lookup"><span data-stu-id="061de-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="061de-274">Naudodamiesi senesne išrašų registravimo funkcija vartotojai galėjo pasirinkti, kad šie paketiniai procesai būtų vykdomi interaktyviuoju režimu, t. y. kaip vienos gijos operacija, priešingai negu kelių gijų paketiniai procesai.</span><span class="sxs-lookup"><span data-stu-id="061de-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="061de-275">Naudojantis senesne išrašų registravimo funkcija dėl bet kokios paketinės užduoties klaidos visa paketinė užduotis būdavo klaidos būsenos.</span><span class="sxs-lookup"><span data-stu-id="061de-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="061de-276">Naudojantis patobulinta funkcija, jei pavyksta sėkmingai atlikti kitas paketines užduotis, dėl paketinės užduoties klaidų nerodoma, kad paketinė užduotis yra klaidos būsenos.</span><span class="sxs-lookup"><span data-stu-id="061de-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="061de-277">Turėtumėte įvertinti paketinio vykdymo, atliekamo naudojantis puslapiu **Išrašai**, kuriame galite matyti visus dėl klaidų neužregistruotus išrašus, registravimo būseną.</span><span class="sxs-lookup"><span data-stu-id="061de-277">You should assess the posting status for a batch execution run by using the **Statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="061de-278">Naudojantis senesne išrašų registravimo funkcija po pirmo išrašo klaidos atvejo nepavyksta užregistruoti viso paketo.</span><span class="sxs-lookup"><span data-stu-id="061de-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="061de-279">Likę išrašai nevykdomi.</span><span class="sxs-lookup"><span data-stu-id="061de-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="061de-280">Naudojantis patobulinta funkcija ir atliekant paketinį vykdymą vykdomi visi išrašai, net jei kai kurių išrašų užregistruoti nepavyksta.</span><span class="sxs-lookup"><span data-stu-id="061de-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="061de-281">Vienas privalumas – vartotojai mato tikslų išrašų, kuriuose esama klaidų, skaičių.</span><span class="sxs-lookup"><span data-stu-id="061de-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="061de-282">Todėl vartotojams nėra būtina nuolat taisyti klaidas ir tol vykdyti išrašo registravimo procesą, kol užregistruojami visi išrašai.</span><span class="sxs-lookup"><span data-stu-id="061de-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="061de-283">Bendrieji nurodymai dėl išrašų registravimo proceso</span><span class="sxs-lookup"><span data-stu-id="061de-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="061de-284">Rekomenduojame vykdyti išrašų paketo registravimo procesą, nes vykdant paketinius procesus galima pasinaudoti paketinės sistemos pranašumu, kadangi naudojamas kelių gijų režimas.</span><span class="sxs-lookup"><span data-stu-id="061de-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="061de-285">Naudotis kelių gijų režimu reikia tam, kad būtų galima tvarkyti didelį kiekį operacijų, kurios paprastai rodomos atliekant išrašo registravimą.</span><span class="sxs-lookup"><span data-stu-id="061de-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="061de-286">Norint, kad registravimas būtų nuoseklus, rekomenduojame įjungti neigiamas faktines prekių modelio grupės atsargas.</span><span class="sxs-lookup"><span data-stu-id="061de-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="061de-287">Kai kuriais atvejais gali nepavykti užregistruoti neigiamų išrašų nenurodžius neigiamų faktinių atsargų.</span><span class="sxs-lookup"><span data-stu-id="061de-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="061de-288">Pavyzdžiui, teoriškai, jei atsargose yra tik viena prekė ir buvo vykdomos tos prekės pardavimo ir grąžinimo operacijos, operaciją turėtų pavykti užregistruoti net ir tuo atveju, jei neigiamos atsargos neįjungtos.</span><span class="sxs-lookup"><span data-stu-id="061de-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="061de-289">Tačiau, kadangi vykstant išrašo registravimo procesui į vieną kliento užsakymą įtraukiama ir pardavimo operacija, ir grąžinimo operacija, pardavimo eilutė nebūtinai bus užregistruota pirma, o po jos – grąžinimo eilutė.</span><span class="sxs-lookup"><span data-stu-id="061de-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="061de-290">Todėl gali įvykti klaidų.</span><span class="sxs-lookup"><span data-stu-id="061de-290">Therefore, errors can occur.</span></span> <span data-ttu-id="061de-291">Jei šioje situacijoje įjungiamos neigiamos atsargos, tai neturi neigiamos įtakos registruojant operaciją ir sistema atsargas nurodys teisingai.</span><span class="sxs-lookup"><span data-stu-id="061de-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="061de-292">Skaičiuojant ir registruojant išrašus rekomenduojame naudotis telkimo funkcija.</span><span class="sxs-lookup"><span data-stu-id="061de-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="061de-293">Taip pat rekomenduojame naudoti toliau nurodytas kai kurių telkimo parametrų nuostatas.</span><span class="sxs-lookup"><span data-stu-id="061de-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="061de-294">Eikite į **Mažmeninė prekyba ir prekyba** \> **Būstinės sąranka** \> **Parametrai** \> **Prekybos parametrai**.</span><span class="sxs-lookup"><span data-stu-id="061de-294">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="061de-295">Po to skirtuko **Registravimas** „FastTab“ skirtuko **Atsargų atnaujinimas** lauke **Detalumo lygis** pasirinkite **Suvestinė**.</span><span class="sxs-lookup"><span data-stu-id="061de-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="061de-296">Eikite į **Mažmeninė prekyba ir prekyba** \> **Būstinės sąranka** \> **Parametrai** \> **Prekybos parametrai**.</span><span class="sxs-lookup"><span data-stu-id="061de-296">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="061de-297">Po to skirtuko **Registravimas** „FastTab“ skirtuke **Telkimas** nustatykite parinkties **Kvito operacijos** reikšmę **Taip**.</span><span class="sxs-lookup"><span data-stu-id="061de-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]