---
title: Paskirstytų užsakymų tvarkymas (DOM)
description: Šioje temoje aprašoma „Dynamics 365 Commerce“ paskirstytų užsakymų tvarkymo (DOM) funkcija.
author: josaw1
manager: AnnBe
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 9ace77dba534615874e52ba95ee9dc6d71951d9e
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 02/15/2021
ms.locfileid: "5204333"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="9af0c-103">Paskirstytų užsakymų tvarkymas (DOM)</span><span class="sxs-lookup"><span data-stu-id="9af0c-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="9af0c-104">Naujoje prekybos operacijų paradigmoje pardavėjai siekia teikti personalizuotą klientų įtraukimą bei daugiakanales funkcijas ir užtikrinti sklandžią sąveiką.</span><span class="sxs-lookup"><span data-stu-id="9af0c-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="9af0c-105">Kadangi yra tiek daug pasirinkimų, vartotojai apsipirks ten, kur jiems palankiausia.</span><span class="sxs-lookup"><span data-stu-id="9af0c-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="9af0c-106">Daugeliu atvejų kainos ir produktai vartotojams nebėra svarbiausi veiksniai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="9af0c-107">Siekdami pagerinti klientų patirtį, pardavėjai savo atsargas turi matyti realiuoju laiku, pateikiamas iš visų kanalų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="9af0c-108">Vienas holistinis visų atsargų rodinys gali padėti optimizuoti užsakymų įvykdymą, paskirstymą ir platinimą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="9af0c-109">Todėl paskirstytų užsakymų tvarkymo (DOM) sistemos taikymas ir įgyvendinimas pardavėjams tampa vis didesne būtinybe.</span><span class="sxs-lookup"><span data-stu-id="9af0c-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="9af0c-110">DOM optimizuoja užsakymų įvykdymą sudėtingame sistemų ir procesų tinkle.</span><span class="sxs-lookup"><span data-stu-id="9af0c-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="9af0c-111">Pasikliaudama vienu visuotiniu visos organizacijos atsargų rodiniu, ji sumaniai tvarko užsakymus, kad jie būtų įvykdomi tiksliai ir ekonomiškiau.</span><span class="sxs-lookup"><span data-stu-id="9af0c-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="9af0c-112">Padidindama pardavėjo tiekimo grandinės efektyvumą, DOM pardavėjui padeda geriau patenkinti klientų lūkesčius.</span><span class="sxs-lookup"><span data-stu-id="9af0c-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="9af0c-113">Tolesnėje iliustracijoje rodomas pardavimo užsakymo ciklas DOM sistemoje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="9af0c-114">![Pardavimo užsakymo ciklas DOM kontekste](./media/flow.png "Pardavimo užsakymo ciklas DOM kontekste")</span><span class="sxs-lookup"><span data-stu-id="9af0c-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="9af0c-115">DOM nustatymas</span><span class="sxs-lookup"><span data-stu-id="9af0c-115">Set up DOM</span></span>

1. <span data-ttu-id="9af0c-116">Eikite į **Sistemos administravimas \> Sąranka \> Licencijos konfigūracija**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="9af0c-117">Skirtuke **Konfigūracijos raktai** išplėskite mazgą **Prekyba** ir pažymėkite žymės langelį **Paskirstytų užsakymų tvarkymas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="9af0c-118">Eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Sąranka \> DOM parametrai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="9af0c-119">Skirtuke **Bendra** nustatykite tolesnes reikšmes.</span><span class="sxs-lookup"><span data-stu-id="9af0c-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="9af0c-120">**Įjungti paskirstytų užsakymų tvarkymą** – šią parinktį nustatykite kaip **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="9af0c-121">**Patvirtinti „Bing“ žemėlapių naudojimą DOM sistemoje** – šią parinktį nustatykite kaip **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="9af0c-122">Šią parinktį nustatyti kaip **Taip** galite, tik jei kaip **Taip** taip pat nustatyta puslapio **Bendrai naudojami prekybos parametrai** (**„Retail“ ir „Commerce“ \> Būstinės sąranka \> Parametrai \> Bendrai naudojami prekybos parametrai**) skirtuke **„Bing“ žemėlapiai** esanti parinktis **Įjungti „Bing“ žemėlapius** ir jei lauke **„Bing“ žemėlapių raktas** įvestas tinkamas raktas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="9af0c-123">[„Bing“ žemėlapių kūrimo centro](https://www.bingmapsportal.com/) portalas leidžia apriboti prieigą prie jūsų „Bing“ žemėlapių API raktų iki jūsų nustatytų domenų rinkinio.</span><span class="sxs-lookup"><span data-stu-id="9af0c-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="9af0c-124">Naudodami šią funkciją klientai gali nustatyti griežtą reikšmių ar IP adresų diapazonų, pagal kuriuos bus tikrinamas raktas, rinkinį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="9af0c-125">Užklausos, esančios jūsų leidžiamųjų sąraše, bus apdorojamos įprastai, o užklausos ne iš jūsų sąrašo pateiks atsakymą apie draudžiamą prieigą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="9af0c-126">Domeno saugos įtraukimas į jūsų API raktą yra pasirinktinis, o palikti raktai veiks toliau.</span><span class="sxs-lookup"><span data-stu-id="9af0c-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="9af0c-127">Rakto leidžiamų sąrašas yra nepriklausomas nuo visų kitų raktų, todėl įgalina kiekvienam raktui naudoti skirtingas taisykles.</span><span class="sxs-lookup"><span data-stu-id="9af0c-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="9af0c-128">Paskirstytų užsakymų tvarkymas nepalaiko domene nurodytų ypatybių nustatymo.</span><span class="sxs-lookup"><span data-stu-id="9af0c-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="9af0c-129">**Saugojimo laikotarpis dienomis** – nurodykite, kiek laiko sistemoje laikomi DOM vykdymų metu generuojami įvykdymo planai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="9af0c-130">Paketinė užduotis **DOM įvykdymo duomenų naikinimo užduoties sąranka** panaikins visus įvykdymo planus, kurie yra senesni nei čia jūsų nurodytas dienų skaičius.</span><span class="sxs-lookup"><span data-stu-id="9af0c-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="9af0c-131">**Atmetimo laikotarpis (dienomis)** – nurodykite, kiek laiko turi praeiti, kol atmestą užsakymo eilutę bus galima priskirti tai pačiai vietai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="9af0c-132">Skirtuke **Sprendimo priemonė** nustatykite tolesnes reikšmes.</span><span class="sxs-lookup"><span data-stu-id="9af0c-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="9af0c-133">**Didžiausias automatinio įvykdymo bandymų skaičius** – nurodykite, kiek kartų DOM mechanizmas bandys kokią nors užsakymo eilutę tarpininkaudamas perkelti į kokią nors vietą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="9af0c-134">Jei DOM mechanizmui kokios nors užsakymo eilutės tarpininkaujant perkelti į kokią nors vietą nepavyks nurodytą mėginimų kartų skaičių, jis užsakymo eilutę pažymės kaip išimtį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="9af0c-135">Tada būsimų vykdymų metu jis tą eilutę praleis, kol būsena nebus iš naujo nustatyta rankiniu būdu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="9af0c-136">**Vietos parduotuvių regiono spindulys** – įveskite reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="9af0c-137">Šis laukas padeda nustatyti, kaip vietos yra grupuojamos ir laikomos vienodomis atstumo atžvilgiu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="9af0c-138">Pavyzdžiui, jei įvedate **100**, kiekviena parduotuvė ar platinimo centras, nuo įvykdymo adreso nutolę iki 100 mylių spinduliu, atstumo atžvilgiu laikomi vienodais.</span><span class="sxs-lookup"><span data-stu-id="9af0c-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="9af0c-139">**Sprendimo priemonės tipas** – pasirinkite reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="9af0c-140">Su prekyba yra išleistos dviejų tipų sprendimo priemonės: **gamybos sprendimo priemonė** ir **supaprastintoji sprendimo priemonė**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="9af0c-141">Visoms mašinoms, kuriose bus vykdoma DOM sistema (t. y., visiems serveriams, priklausantiems grupei DOMBatch), reikia parinkti **gamybos sprendimo priemonę**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="9af0c-142">Gamybos sprendimo priemonei reikia specialaus licencijos rakto, kuris pagal numatytuosius parametrus yra licencijuojamas ir įdiegiamas gamybos aplinkose.</span><span class="sxs-lookup"><span data-stu-id="9af0c-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="9af0c-143">Ne gamybos aplinkose šį licencijos raktą reikia įdiegti rankiniu būdu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="9af0c-144">Norėdami rankiniu būdu įdiegti šį licencijos raktą, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="9af0c-145">„Microsoft Dynamics“ portale „Lifecycle Services“ atidarykite biblioteką Bendrai naudojamas turtas, kaip turto tipą pasirinkite **Modelis** ir atsisiųskite **DOM licencijos** failą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="9af0c-146">Paleiskite „Microsoft“ informacinių interneto paslaugų (IIS) tvarkytuvą, dešiniuoju pelės mygtuku spustelėkite **AOSService svetainė** ir pasirinkite **Naršyti**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="9af0c-147">Atidaromas „Windows Explorer“ langas su katalogu **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="9af0c-148">Pasižymėkite \<AOS Service root\> kelią, nes jį naudosite atlikdami kitą veiksmą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="9af0c-149">Nukopijuokite kataloge **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** esantį konfigūracijos failą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="9af0c-150">Eikite į būstinės klientą ir atidarykite puslapį **DOM parametrai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="9af0c-151">Skirtuko **Sprendimo priemonė** lauke **Sprendimo priemonės tipas** pasirinkite **Gamybos sprendimo priemonė** ir įsitikinkite, kad nerodoma klaidų pranešimų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="9af0c-152">Supaprastintoji sprendimo priemonė suteikiama tam, kad pardavėjai DOM funkciją galėtų išbandyti nediegdami specialios licencijos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="9af0c-153">Organizacijos supaprastintosios sprendimo priemonės neturėtų naudoti gamybos aplinkose.</span><span class="sxs-lookup"><span data-stu-id="9af0c-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="9af0c-154">Gamybos sprendimo patobulina veikimą (ribojama, kiek užsakymų ir užsakymų eilučių galima apdoroti vieno vykdymo metu) ir rezultatų konvergavimą (kai kuriose situacijose naudojant tam tikrą užsakymų paketą galima gauti ne geriausią rezultatą).</span><span class="sxs-lookup"><span data-stu-id="9af0c-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="9af0c-155">Kai kurioms taisyklės, pvz., **Daliniai užsakymai** ir **Maksimalus vietų skaičius** reikalauja gamybos sprendimo priemonės.</span><span class="sxs-lookup"><span data-stu-id="9af0c-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="9af0c-156">Grįžkite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Sąranka \> DOM parametrai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="9af0c-157">Skirtuke **Numeracijos** įvairiems DOM objektams priskirkite reikiamas numeracijas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9af0c-158">Kad objektams būtų galima priskirti numeracijas, jos turi būti apibrėžtos puslapyje **Numeracijos** (**Organizacijos administravimas \> Numeracijos \> Numeracijos**).</span><span class="sxs-lookup"><span data-stu-id="9af0c-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="9af0c-159">DOM funkcija palaiko galimybę apibrėžti įvairių tipų DOM taisykles, o organizacijos pagal savo verslo poreikius gali sukonfigūruoti keletą taisyklių.</span><span class="sxs-lookup"><span data-stu-id="9af0c-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="9af0c-160">DOM taisykles galima apibrėžti vietų grupei arba atskiroms vietoms bei konkrečiai produktų kategorijai, konkrečiam produktui ar variantui.</span><span class="sxs-lookup"><span data-stu-id="9af0c-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="9af0c-161">Norėdami sukurti vietų grupę, kurią reikia naudoti su DOM taisyklėmis, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="9af0c-162">Eikite į **„Retail“ ir „Commerce“ \> Kanalų sąranka \> Įvykdymo grupės**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="9af0c-163">Pasirinkite **Nauja** ir įveskite naujosios grupės pavadinimą bei aprašą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="9af0c-164">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-164">Select **Save**.</span></span>
    4. <span data-ttu-id="9af0c-165">Norėdami į grupę įtraukti vieną vietą, pasirinkite **Įtraukti eilutę**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="9af0c-166">Jei norite įtraukti kelias vietas, pasirinkite **Įtraukti eilučių**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="9af0c-167">„Commerce“ 10.0.12 ir naujesnėse versijose **Galimybė nurodyti vietas kaip „Siuntimas“ arba „Paėmimas“ įjungta įvykdymo grupėje** turi būti įjungta **funkcijų valdymo** darbo srityje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="9af0c-168">Šia funkcija įtraukiamos naujos konfigūracijos į **įvykdymo grupės** puslapį, kad galėtumėte nustatyti, ar sandėlis gali būti naudojamas siuntimui, ar sandėlis ir parduotuvė kartu gali būti naudojami siuntimui ir (arba) paėmimui.</span><span class="sxs-lookup"><span data-stu-id="9af0c-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="9af0c-169">Įjungus šia funkciją, bus atnaujintos vietos pasirinkimo parinktys, kai EKA kuriate paėmimo ar siuntimo užsakymus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="9af0c-170">Įjungus šią funkciją taip pat atnaujinami puslapiai EKA, kai pasirenkamos operacijos „siųsti viską“ arba „siųsti pasirinktus“.</span><span class="sxs-lookup"><span data-stu-id="9af0c-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="9af0c-171">Norėdami apibrėžti taisykles, eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Sąranka \> Tvarkyti taisykles**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="9af0c-172">Šiuo metu palaikomos tolesnės DOM taisyklės.</span><span class="sxs-lookup"><span data-stu-id="9af0c-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="9af0c-173">**Minimalių atsargų taisyklė** – šio tipo taisyklė organizacijoms leidžia kitu nei užsakymų įvykdymas tikslu „aptverti“ konkretų produkto kiekį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="9af0c-174">Pavyzdžiui, organizacijos gali norėti, kad DOM užsakymams įvykdyti pasiekiamomis laikytų ne visas parduotuvėje esančias atsargas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="9af0c-175">Jos gali norėti kažkiek atsargų rezervuoti į parduotuvę užeinantiems klientams.</span><span class="sxs-lookup"><span data-stu-id="9af0c-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="9af0c-176">Kai naudojama šio tipo taisyklė, galite nustatyti minimalias norimas išlaikyti tam tikros produktų kategorijos, atskiro produkto ar produkto varianto vienoje vietoje ar vietų grupėje atsargas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="9af0c-177">**Įvykdymo vietos prioriteto taisyklė** – šio tipo taisyklė organizacijoms leidžia nustatyti vietų hierarchiją ir prioritetą, į kurį atsižvelgia DOM mechanizmas, bandydamas nustatyti įvykdymo vietas konkretiems produktams.</span><span class="sxs-lookup"><span data-stu-id="9af0c-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="9af0c-178">Tinkamas prioritetų intervalas yra nuo 1 iki 10 – 1 yra didžiausias prioritetas, o 10 – mažiausias.</span><span class="sxs-lookup"><span data-stu-id="9af0c-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="9af0c-179">Į didesnio prioriteto vietas atsižvelgiama pirmiau nei į mažesnio prioriteto vietas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="9af0c-180">Jei taisyklė nustatoma kaip labai ribota, užsakymai tarpininkaujant perkeliami tik į tas vietas, kurioms nustatyti prioritetai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="9af0c-181">**Dalinių užsakymų taisyklė** – ši taisyklė organizacijoms leidžia nustatyti, ar užsakymą arba užsakymo eilutes galima įvykdyti iš dalies.</span><span class="sxs-lookup"><span data-stu-id="9af0c-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="9af0c-182">Galimi tolesni parametrai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-182">The following parameters are available:</span></span>

        - <span data-ttu-id="9af0c-183">**Įvykdyti dalinius užsakymus?**</span><span class="sxs-lookup"><span data-stu-id="9af0c-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="9af0c-184">– Jei ši parinktis nustatoma kaip **Taip**, DOM gali įvykdyti tik užsakymo eilutės kiekio dalį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="9af0c-185">Iš dalies įvykdoma užsakymo eilutę išskaidant.</span><span class="sxs-lookup"><span data-stu-id="9af0c-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="9af0c-186">**Įvykdyti dalines eilutes?**</span><span class="sxs-lookup"><span data-stu-id="9af0c-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="9af0c-187">– Jei ši parinktis nustatoma kaip **Taip**, DOM gali įvykdyti dalinį užsakymo eilučių kiekį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="9af0c-188">Iš dalies įvykdoma užsakymo eilutę išskaidant.</span><span class="sxs-lookup"><span data-stu-id="9af0c-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="9af0c-189">**Užsakymą įvykdyti tik iš vienos vietos** – jei ši parinktis nustatoma kaip **Taip**, DOM užtikrina, kad visos užsakymo eilutės būtų įvykdomos iš vienos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="9af0c-190">Tolesnėje lentelėje paaiškinama, kaip veikia nustatytas šių parametrų derinys.</span><span class="sxs-lookup"><span data-stu-id="9af0c-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="9af0c-191">Derinio numeris</span><span class="sxs-lookup"><span data-stu-id="9af0c-191">Combination number</span></span> | <span data-ttu-id="9af0c-192">Įvykdyti dalinius užsakymus</span><span class="sxs-lookup"><span data-stu-id="9af0c-192">Fulfill partial orders</span></span> | <span data-ttu-id="9af0c-193">Įvykdyti dalines eilutes</span><span class="sxs-lookup"><span data-stu-id="9af0c-193">Fulfill partial lines</span></span> | <span data-ttu-id="9af0c-194">Užsakymą įvykdyti tik iš vienos vietos</span><span class="sxs-lookup"><span data-stu-id="9af0c-194">Fulfill order from one location only</span></span> | <span data-ttu-id="9af0c-195">Aprašas</span><span class="sxs-lookup"><span data-stu-id="9af0c-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="9af0c-196">1</span><span class="sxs-lookup"><span data-stu-id="9af0c-196">1</span></span>    | <span data-ttu-id="9af0c-197">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-197">Yes</span></span>                    | <span data-ttu-id="9af0c-198">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-198">Yes</span></span>                   | <span data-ttu-id="9af0c-199">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-199">Yes</span></span>                                  | <span data-ttu-id="9af0c-200">Vieno DOM vykdymo metu galima įvykdyti kelias užsakymo eilutes, o atskiras eilutes galima įvykdyti iš dalies, tačiau visos eilutės turi būti iš tos pačios vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="9af0c-201">(Šis derinys šiuo metu nėra palaikomas.)</span><span class="sxs-lookup"><span data-stu-id="9af0c-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="9af0c-202">2</span><span class="sxs-lookup"><span data-stu-id="9af0c-202">2</span></span>    | <span data-ttu-id="9af0c-203">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-203">Yes</span></span>                    | <span data-ttu-id="9af0c-204">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-204">No</span></span>                    | <span data-ttu-id="9af0c-205">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-205">Yes</span></span>                                  | <span data-ttu-id="9af0c-206">Vieno DOM vykdymo metu galima įvykdyti kelias užsakymo eilutes, tačiau atskirų eilučių negalima įvykdyti iš dalies ir visos įvykdytos eilutės turi būti iš tos pačios vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="9af0c-207">(Šis derinys šiuo metu nėra palaikomas.)</span><span class="sxs-lookup"><span data-stu-id="9af0c-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="9af0c-208">3</span><span class="sxs-lookup"><span data-stu-id="9af0c-208">3</span></span>    | <span data-ttu-id="9af0c-209">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-209">Yes</span></span>                    | <span data-ttu-id="9af0c-210">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-210">Yes</span></span>                   | <span data-ttu-id="9af0c-211">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-211">No</span></span>                                   | <span data-ttu-id="9af0c-212">Vieno DOM vykdymo metu galima įvykdyti kelias užsakymo eilutes, atskiras eilutes galima įvykdyti iš dalies ir kiekvieną eilutę galima įvykdyti iš daugiau nei vienos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="9af0c-213">4\*</span><span class="sxs-lookup"><span data-stu-id="9af0c-213">4\*</span></span>  | <span data-ttu-id="9af0c-214">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-214">No</span></span>                     | <span data-ttu-id="9af0c-215">Netaikoma</span><span class="sxs-lookup"><span data-stu-id="9af0c-215">Not applicable</span></span>        | <span data-ttu-id="9af0c-216">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-216">No</span></span>                                   | <span data-ttu-id="9af0c-217">Būtina įvykdyti visas užsakymo eilutes, atskirų eilučių negalima įvykdyti iš dalies, o kiekvieną užsakymo eilutę galima įvykdyti iš skirtingos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="9af0c-218">5\*</span><span class="sxs-lookup"><span data-stu-id="9af0c-218">5\*</span></span>  | <span data-ttu-id="9af0c-219">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-219">No</span></span>                     | <span data-ttu-id="9af0c-220">Netaikoma</span><span class="sxs-lookup"><span data-stu-id="9af0c-220">Not applicable</span></span>        | <span data-ttu-id="9af0c-221">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-221">Yes</span></span>                                  | <span data-ttu-id="9af0c-222">Būtina įvykdyti visas užsakymo eilutes, atskirų eilučių negalima įvykdyti iš dalies, o visas užsakymo eilutes galima pristatyti tik iš vienos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="9af0c-223">6\*</span><span class="sxs-lookup"><span data-stu-id="9af0c-223">6\*</span></span>  | <span data-ttu-id="9af0c-224">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-224">No</span></span>                     | <span data-ttu-id="9af0c-225">Netaikoma</span><span class="sxs-lookup"><span data-stu-id="9af0c-225">Not applicable</span></span>        | <span data-ttu-id="9af0c-226">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-226">No</span></span>                                   | <span data-ttu-id="9af0c-227">Šis derinys veikia kaip 4 derinys, nes, kai parinktis **Įvykdyti dalinius užsakymus** yra nustatyta kaip **Ne**, parinkties **Įvykdyti dalines eilutes** negalima nustatyti kaip **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="9af0c-228">7\*</span><span class="sxs-lookup"><span data-stu-id="9af0c-228">7\*</span></span>  | <span data-ttu-id="9af0c-229">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-229">No</span></span>                     | <span data-ttu-id="9af0c-230">Netaikoma</span><span class="sxs-lookup"><span data-stu-id="9af0c-230">Not applicable</span></span>        | <span data-ttu-id="9af0c-231">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-231">Yes</span></span>                                  | <span data-ttu-id="9af0c-232">Šis derinys veikia kaip 5 derinys, nes, kai parinktis **Įvykdyti dalinius užsakymus** yra **Ne**, parinktis **Įvykdyti dalines eilutes** negali būti **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="9af0c-233">8</span><span class="sxs-lookup"><span data-stu-id="9af0c-233">8</span></span>    | <span data-ttu-id="9af0c-234">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-234">Yes</span></span>                    | <span data-ttu-id="9af0c-235">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-235">No</span></span>                    | <span data-ttu-id="9af0c-236">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-236">No</span></span>                                   | <span data-ttu-id="9af0c-237">Vieno DOM vykdymo metu galima įvykdyti kelias užsakymo eilutes, tačiau atskirų eilučių negalima įvykdyti iš dalies, o įvairias užsakymo eilutes galima įvykdyti iš daugiau nei vienos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="9af0c-238">9\*</span><span class="sxs-lookup"><span data-stu-id="9af0c-238">9\*</span></span>  | <span data-ttu-id="9af0c-239">Ne</span><span class="sxs-lookup"><span data-stu-id="9af0c-239">No</span></span>                     | <span data-ttu-id="9af0c-240">Netaikoma</span><span class="sxs-lookup"><span data-stu-id="9af0c-240">Not applicable</span></span>        | <span data-ttu-id="9af0c-241">Taip</span><span class="sxs-lookup"><span data-stu-id="9af0c-241">Yes</span></span>                                  | <span data-ttu-id="9af0c-242">Būtina įvykdyti visas užsakymo eilutes ir jas visas būtina įvykdyti tik iš vienos vietos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="9af0c-243">\* Jei parinktis **Įvykdyti dalinius užsakymus** yra nustatyta kaip **Ne**, visada laikoma, kad parinktis **Įvykdyti dalines eilutes** yra nustatyta kaip **Ne** – nesvarbu, kaip ji nustatyta iš tikrųjų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="9af0c-244">„Retail” 10.0.5 versijoje parametras **Užsakymą įvykdyti tik iš vienos vietos** buvo pakeistas į **Maksimalus įvykdymo vietų skaičius**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="9af0c-245">Užuot leidę vartotojui konfigūruoti, ar užsakymai gali būti įvykdyti iš vienos ar iš visų įmanomų vietų, vartotojai nuo šiol gali nurodyti, ar įvykdyti galima iš nustatyto vietų (iki 5) rinkinio ar iš visų įmanomų vietų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="9af0c-246">Tai suteikia daugiau lankstumo atsižvelgiant į vietas, iš kurių galima įvykdyti užsakymą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="9af0c-247">Ši taisyklė veikia tik su gamybos sprendimo priemone.</span><span class="sxs-lookup"><span data-stu-id="9af0c-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="9af0c-248">**Neprijungtos įvykdymo vietos taisyklė** – ši taisyklė organizacijoms leidžia tam tikrą vietą ar vietų grupę nurodyti kaip neprijungtą ar nepasiekiamą DOM sistemai, kad toms vietoms nebūtų galima priskirti užsakymų, kuriuos reikia įvykdyti.</span><span class="sxs-lookup"><span data-stu-id="9af0c-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="9af0c-249">**Didžiausio atmetimų skaičiaus taisyklė** – ši taisyklė organizacijoms leidžia nustatyti atmetimų ribą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="9af0c-250">Kai bus pasiekta ši riba, DOM doroklė užsakymą arba užsakymo eilutę pažymės kaip išimtį ir jų neįtrauks į kitą apdorojimo etapą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="9af0c-251">Tam tikrai vietai priskyrus užsakymo eilučių, ta vieta gali priskirtą užsakymo eilutę atmesti, nes dėl tam tikrų priežasčių ji gali tos eilutės negalėti įvykdyti.</span><span class="sxs-lookup"><span data-stu-id="9af0c-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="9af0c-252">Atmestos eilutės yra pažymimos kaip išimtys ir grąžinamos į telkinį, kad būtų apdorojamos kito vykdymo metu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="9af0c-253">Kito vykdymo metu DOM atmestą eilutę bandys priskirti kitai vietai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="9af0c-254">Naujoji vieta taip pat gali atmesti priskirtą užsakymo eilutę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="9af0c-255">Toks priskyrimo ir atmetimo ciklas gali įvykti keletą kartų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="9af0c-256">Kai atmetimų skaičius pasieks nustatytą ribą, DOM užsakymo eilutę pažymės kaip nuolatinę išimtį ir jos nebeims priskirti.</span><span class="sxs-lookup"><span data-stu-id="9af0c-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="9af0c-257">DOM tokią užsakymo eilutę iš naujo priskirti svarstys, tik jei vartotojas rankiniu būdu iš naujo nustatys užsakymo eilutės būseną.</span><span class="sxs-lookup"><span data-stu-id="9af0c-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="9af0c-258">**Didžiausio atstumo taisyklė** – ši taisyklė organizacijoms leidžia nustatyti didžiausią atstumą, kuriuo gali būti nutolusi vieta ar vietų grupė, iš kurios įvykdomas užsakymas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="9af0c-259">Jei vietai nustatomos persidengiančios didžiausio atstumo taisyklės, DOM taikys tai vietai nustatytą trumpiausią didžiausią atstumą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="9af0c-260">**Didžiausio užsakymų skaičiaus taisyklė** – ši taisyklė organizacijoms leidžia nustatyti didžiausią užsakymų skaičių, kurį vieta ar vietų grupė gali apdoroti per kalendorinę dieną.</span><span class="sxs-lookup"><span data-stu-id="9af0c-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="9af0c-261">Jei per vieną dieną kokiai nors vietai priskiriamas didžiausias užsakymų skaičius, DOM likusią tą kalendorinę dainą tai vietai daugiau užsakymų nepriskirs.</span><span class="sxs-lookup"><span data-stu-id="9af0c-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="9af0c-262">Toliau pateikiama keletas bendrų atributų, kuriuos galima nustatyti visų ankstesnių tipų taisyklėms.</span><span class="sxs-lookup"><span data-stu-id="9af0c-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="9af0c-263">**Pradžios data** ir **Pabaigos data** – naudojant šiuos laukus, kiekvieną taisyklę galima padaryti priklausomą nuo datos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="9af0c-264">**Išjungta** – DOM vykdymo metu svarstoma tik apie tas taisykles, kuriose šio lauko reikšmė yra **Ne**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="9af0c-265">**Labai ribota** – taisyklę galima nustatyti kaip labai ribotą arba nelabai ribotą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="9af0c-266">Kiekvienas DOM vykdymas atliekamas du kartus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="9af0c-267">Pirmą kartą kiekviena taisyklė laikoma labai ribota taisykle, neatsižvelgiant į šio lauko parametrą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="9af0c-268">Kitaip tariant, pritaikoma kiekviena taisyklė.</span><span class="sxs-lookup"><span data-stu-id="9af0c-268">In other words, every rule is applied.</span></span> <span data-ttu-id="9af0c-269">Vienintelė išimtis yra taisyklė **Vietos prioritetas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="9af0c-270">Antrą kartą taisyklės, kurios nebuvo nustatytos kaip labai ribotos, yra pašalinamos ir vietoms priskiriamas tas užsakymas ar tos užsakymo eilutės, kurios nebuvo priskirtos vietoms pritaikius visas taisykles.</span><span class="sxs-lookup"><span data-stu-id="9af0c-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="9af0c-271">Naudojant įvykdymo profilius grupuojamas taisyklių, juridinių subjektų, pardavimo užsakymų kilmių ir pristatymo būdų rinkinys.</span><span class="sxs-lookup"><span data-stu-id="9af0c-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="9af0c-272">Kiekvienas DOM vykdymas atliekamas konkrečiam įvykdymo profiliui.</span><span class="sxs-lookup"><span data-stu-id="9af0c-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="9af0c-273">Taip organizacijos tam tikras taisykles gali nustatyti ir vykdyti tam tikriems juridiniams subjektams (užsakymuose su konkrečiomis pardavimo užsakymų kilmėmis ir pristatymo būdais).</span><span class="sxs-lookup"><span data-stu-id="9af0c-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="9af0c-274">Todėl, jei skirtingoms pardavimo užsakymų kilmėms ar skirtingiems pristatymo būdams reikia vykdyti skirtingas taisykles, įvykdymo profilius galima nustatyti atitinkamai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="9af0c-275">Norėdami nustatyti įvykdymo profilius, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="9af0c-276">Eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Sąranka \> Įvykdymo profiliai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="9af0c-277">Pasirinkite **Naujas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-277">Select **New**.</span></span>
    3. <span data-ttu-id="9af0c-278">Įveskite reikšmes laukuose **Profilis** ir **Aprašas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="9af0c-279">Nustatykite parinktį **Automatiškai taikyti rezultatą**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="9af0c-280">Jei šią parinktį nustatysite kaip **Taip**, profilio DOM vykdymo rezultatai bus automatiškai pritaikyti pardavimo užsakymų eilutėms.</span><span class="sxs-lookup"><span data-stu-id="9af0c-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="9af0c-281">Jei ją nustatote kaip **Ne**, rezultatus galima peržiūrėti tik įvykdymo plane.</span><span class="sxs-lookup"><span data-stu-id="9af0c-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="9af0c-282">Jie nebus taikomi pardavimo užsakymų eilutėms.</span><span class="sxs-lookup"><span data-stu-id="9af0c-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="9af0c-283">Jei norite, kad DOM profilis būtų vykdomas užsakymams su visomis pardavimo užsakymų kilmėmis, įskaitant užsakymus, kurių pardavimo užsakymo kilmė yra nenustatyta, parinktį **Apdoroti užsakymus be nurodytos pardavimo kilmės** nustatykite kaip **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="9af0c-284">Norėdami profilį vykdyti tik kelioms pardavimo užsakymų kilmėms, jas galite nustatyti puslapyje **Pardavimo kilmės**, kaip paaiškinta vėliau.</span><span class="sxs-lookup"><span data-stu-id="9af0c-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9af0c-285">„Commerce“ 10.0.12 ir naujesnėje versijoje **Galimybė priskirti įvykdymo grupę įvykdymo profiliui** turi būti įjungta **funkcijų valdymo** darbo srityje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="9af0c-286">Šia funkcija įtraukiama nauja konfigūracija į **įvykdymo profilio** puslapį, kuris gali būti susietas su viena įvykdymo grupe.</span><span class="sxs-lookup"><span data-stu-id="9af0c-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="9af0c-287">Jei pasirinksite įvykdymo grupę, to įvykdymo profilio DOM taisyklės bus veiksmingai vykdomos į įvykdymo grupę įtrauktuose siuntimo sandėliuose.</span><span class="sxs-lookup"><span data-stu-id="9af0c-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="9af0c-288">Norėdami veiksmingai naudoti šią funkciją, įsitikinkite, kad yra viena įvykdymo grupė, į kurią įtraukti visi siuntimo sandėliai, ir tada susiekite tą įvykdymo grupę su įvykdymo profiliu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="9af0c-289">„FastTab“ **Juridiniai subjektai** pasirinkite **Įtraukti**, tada – juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="9af0c-290">„FastTab“ **Taisyklės** pasirinkite **Įtraukti**, tada – su profiliu susietiną taisyklę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="9af0c-291">Kartokite ankstesnius du veiksmus tol, kol su profiliu bus susietos visos reikiamos taisyklės.</span><span class="sxs-lookup"><span data-stu-id="9af0c-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="9af0c-292">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-292">Select **Save**.</span></span>
    10. <span data-ttu-id="9af0c-293">Veiksmų srities skirtuke **Sąranka** pasirinkite **Pristatymo būdai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="9af0c-294">Puslapyje **Pristatymo būdai** pasirinkite **Naujas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="9af0c-295">Lauke **Įmonė** pasirinkite juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="9af0c-296">Įmonių sąraše rodomi tik jūsų anksčiau įtraukti juridiniai subjektai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="9af0c-297">Lauke **Pristatymo būdas** pasirinkite su šiuo profiliu susietiną pristatymo būdą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="9af0c-298">Pristatymo būdo negalima susieti su keliais aktyviais profiliais.</span><span class="sxs-lookup"><span data-stu-id="9af0c-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="9af0c-299">Kartokite ankstesnius du veiksmus tol, kol su profiliu bus susieti visi reikiami pristatymo būdai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="9af0c-300">Puslapį **Pristatymo būdai** uždarykite.</span><span class="sxs-lookup"><span data-stu-id="9af0c-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="9af0c-301">Veiksmų srities skirtuke **Sąranka** pasirinkite **Pardavimo užsakymų kilmės**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="9af0c-302">Puslapyje **Pardavimo kilmės** pasirinkite **Nauja**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="9af0c-303">Lauke **Įmonė** pasirinkite juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="9af0c-304">Įmonių sąraše rodomi tik jūsų anksčiau įtraukti juridiniai subjektai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="9af0c-305">Lauke **Pardavimo kilmė** pasirinkite su šiuo profiliu susietiną pardavimo kilmę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="9af0c-306">Pardavimo kilmės negalima susieti su keliais aktyviais profiliais.</span><span class="sxs-lookup"><span data-stu-id="9af0c-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="9af0c-307">Kartokite ankstesnius du veiksmus tol, kol su profiliu bus susietos visos pardavimo kilmės.</span><span class="sxs-lookup"><span data-stu-id="9af0c-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="9af0c-308">Puslapį **Pardavimo kilmės** uždarykite.</span><span class="sxs-lookup"><span data-stu-id="9af0c-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="9af0c-309">Parinktį **Įjungti profilį** nustatykite kaip **Taip**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="9af0c-310">Jei sąrankoje yra klaidų, gaunate įspėjamąjį pranešimą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="9af0c-311">DOM apdorojimas</span><span class="sxs-lookup"><span data-stu-id="9af0c-311">DOM processing</span></span>

<span data-ttu-id="9af0c-312">DOM sistema bus vykdoma tik paketinėje užduotyje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="9af0c-313">Norėdami sukonfigūruoti paketinę užduotį DOM vykdymams, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="9af0c-314">Eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Paketinis apdorojimas \> DOM doroklės užduoties sąranka**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="9af0c-315">„FastTab“ **Parametrai** lauke **Įvykdymo profilis** pasirinkite profilį, kuriam turi būti vykdoma DOM sistema.</span><span class="sxs-lookup"><span data-stu-id="9af0c-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="9af0c-316">„FastTab“ **Vykdyti fone** lauke **Paketų grupė** pasirinkite sukonfigūruotą paketų grupę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="9af0c-317">Lauke **Užduoties aprašas** įveskite paketinės užduoties pavadinimą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="9af0c-318">Pasirinkite **Pasikartojimas** ir nustatykite paketinės užduoties pasikartojimą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="9af0c-319">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-319">Select **OK**.</span></span>

<span data-ttu-id="9af0c-320">Apdorojimo metu DOM užsakymą ir užsakymo eilutes svarstys taip, kaip aprašyta toliau.</span><span class="sxs-lookup"><span data-stu-id="9af0c-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="9af0c-321">Užsakymo eilutės, atitinkančios DOM profilyje nustatytus pardavimo užsakymų kilmių, pristatymo būdų ir juridinių subjektų kriterijus bei bet kuriuos iš tolesnių kriterijų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="9af0c-322">Jos yra sukurtos iš prekybos kanalų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="9af0c-323">Jų niekada tarpininkaudama neperkėlė DOM.</span><span class="sxs-lookup"><span data-stu-id="9af0c-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="9af0c-324">Jas tarpininkaudama yra perkėlusi DOM, tačiau jos yra pažymėtos kaip išimtys ir nesiekia didžiausios mėginimų ribos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="9af0c-325">Pristatymo būdas nėra paėmimas ar elektroninis pristatymas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="9af0c-326">Jos nėra pažymėtos pristatyti.</span><span class="sxs-lookup"><span data-stu-id="9af0c-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="9af0c-327">Jos nėra rankiniu būdu neįtrauktos.</span><span class="sxs-lookup"><span data-stu-id="9af0c-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="9af0c-328">Nesulaikyti užsakymai</span><span class="sxs-lookup"><span data-stu-id="9af0c-328">Orders that aren't on hold</span></span>

<span data-ttu-id="9af0c-329">Pritaikiusi taisykles, atsargų apribojimus ir optimizavusi, DOM pasirenka arčiausiai kliento pristatymo adreso esančią vietą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="9af0c-330">![Pardavimo užsakymų kriterijai](./media/ordercriteria.png "Pardavimo užsakymų kriterijai")</span><span class="sxs-lookup"><span data-stu-id="9af0c-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="9af0c-331">DOM vykdymų rezultatai</span><span class="sxs-lookup"><span data-stu-id="9af0c-331">Results of DOM runs</span></span>

<span data-ttu-id="9af0c-332">Jei įvykdymo profilis nustatytas kaip **Automatiškai taikyti**, vykdymo rezultatai bus automatiškai pritaikyti pardavimo užsakymų eilutėms, o įvykdymo planą bus galima peržiūrėti atskirai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="9af0c-333">Tačiau, jei įvykdymo profilis nėra nustatytas kaip **Automatiškai taikyti**, vykdymo rezultatus galima matyti tik įvykdymo plano rodinyje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="9af0c-334">Norėdami peržiūrėti visus sugeneruotus įvykdymo planus, atlikite tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="9af0c-335">Eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Paskirstytų užsakymų tvarkymas**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="9af0c-336">Darbo srityje **Paskirstytų užsakymų tvarkymas** pasirinkite plytelę **Įvykdymo planai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="9af0c-337">Norėdami peržiūrėti konkretų užsakymo įvykdymo planą, pasirinkite jo ID.</span><span class="sxs-lookup"><span data-stu-id="9af0c-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="9af0c-338">Įvykdymo plano išsamios užsakymo informacijos dalyje rodomos pradinės pardavimo užsakymo eilutės, kurioms buvo taikomas vykdymas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="9af0c-339">Be standartinių su pardavimo užsakymų eilutėmis susijusių laukų išsamios užsakymo informacijos dalyje taip pat yra tolesni trys su DOM susiję laukai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="9af0c-340">**Įvykdymo tipas** – šis laukas nurodo, ar pardavimo užsakymo eilutė tarpininkaujant į vietą perkelta visiškai, iš dalies ar apskritai neperkelta.</span><span class="sxs-lookup"><span data-stu-id="9af0c-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="9af0c-341">**Išskaidyta** – šis laukas nurodo, ar viena pardavimo užsakymo eilutė išskaidyta ir tarpininkaujant perkelta į skirtingas vietas.</span><span class="sxs-lookup"><span data-stu-id="9af0c-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="9af0c-342">**Įvykdymo vietų skaičius** – šis laukas nurodo, kiek įvykdymo eilučių buvo sukurta vienai pardavimo užsakymo eilutei (pagal vietų, į kurias tarpininkaujant buvo perkelta pradinė pardavimo užsakymo eilutė, skaičių).</span><span class="sxs-lookup"><span data-stu-id="9af0c-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="9af0c-343">Išsamios užsakymo įvykdymo informacijos dalyje rodomas pradinių pardavimo užsakymo eilučių priskyrimas skirtingoms vietoms ir jų kiekiai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="9af0c-344">Užsakymo eilučių veiksmai ir būsenos</span><span class="sxs-lookup"><span data-stu-id="9af0c-344">Order line actions and statuses</span></span>

<span data-ttu-id="9af0c-345">Toliau aprašomi užsakymo eilutės parametrai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-345">The following describes settings on the order line.</span></span> <span data-ttu-id="9af0c-346">Norėdami atidaryti užsakymo eilutę, eikite į **„Retail“ ir „Commerce“ \> Klientai \> Visi pardavimo užsakymai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="9af0c-347">Jei pardavimo užsakymo eilutės skirtuke **Bendra** esančią parinktį **Neįtraukti į DOM apdorojimą** nustatysite kaip **Taip**, užsakymas ar užsakymo eilutė nebus įtraukti į DOM apdorojimo procesą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="9af0c-348">Pardavimo užsakymo eilutės skirtuke **Bendra** esantį lauką **DOM būsena** galima nustatyti kaip vieną iš tolesnių reikšmių.</span><span class="sxs-lookup"><span data-stu-id="9af0c-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="9af0c-349">**Nėra** – užsakymo eilutė niekada tarpininkaujant neperkelta.</span><span class="sxs-lookup"><span data-stu-id="9af0c-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="9af0c-350">**Baigta** – užsakymo eilutė sėkmingai tarpininkaujant perkelta ir priskirta vietai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="9af0c-351">**Išimtis** – užsakymo eilutė tarpininkaujant perkelta, tačiau jos negalima priskirti vietai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="9af0c-352">Išimtys turi kelis toliau nurodytus potipius, kuriuos galima peržiūrėti DOM darbo srityje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="9af0c-353">**Nėra kiekio** – vietose nėra kiekio, kuriam būtų galima priskirti užsakymą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="9af0c-354">**Didžiausias atmetimų skaičius** – užsakymo eilutė pasiekė didžiausią atmetimų ribą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="9af0c-355">**Duomenų modifikavimo konfliktas** – nuo tada, kai pardavimo užsakymas buvo tarpininkaujant perkeltas, pakeista užsakymo eilutė.</span><span class="sxs-lookup"><span data-stu-id="9af0c-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="9af0c-356">Todėl įvykdymo plano užsakymui taikyti negalima.</span><span class="sxs-lookup"><span data-stu-id="9af0c-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="9af0c-357">**Konkrečios užsakymo eilutės išimtis** – yra kelios užsakymo eilutės išimtys.</span><span class="sxs-lookup"><span data-stu-id="9af0c-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="9af0c-358">Įvedant pardavimo užsakymus, DOM galima vykdyti interaktyviuoju režimu.</span><span class="sxs-lookup"><span data-stu-id="9af0c-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="9af0c-359">Kai, įvesdami užsakymo eilutę, nurodote produktą ir kiekį, galite pasirinkti **Atnaujinti eilutę**, o tada dalyje **DOM** pasirinkti **Siūlyti įvykdymo vietą**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="9af0c-360">Tada matote DOM taisyklėmis paremtą sąrašą vietų, kurios gali įvykdyti užsakymo eilutėje nurodytą kiekį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="9af0c-361">Šis sąrašas surikiuotas pagal atstumą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-361">This list is sorted by distance.</span></span> <span data-ttu-id="9af0c-362">Pasirinkite vietą, kad pardavimo užsakymo eilutėje nustatytumėte atitinkamą objektą ir sandėlį.</span><span class="sxs-lookup"><span data-stu-id="9af0c-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="9af0c-363">Kad ši funkcija veiktų, turi būti aktyvus įvykdymo profilis, atitinkantis pardavimo eilutėje nurodytą pardavimo kilmę ir pristatymo būdą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="9af0c-364">Norėdami peržiūrėti pardavimo užsakymo eilutės DOM vykdymų žurnalus, pasirinkite **Pardavimo užsakymo eilutė**, tada dalyje **DOM** pasirinkite **Peržiūrėti DOM žurnalus**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="9af0c-365">DOM žurnaluose rodomi visi DOM sugeneruoti įvykiai ir žurnalai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="9af0c-366">Žurnalai gali padėti suprasti, kodėl užsakymo eilutei buvo priskirta konkreti vieta ir kokios taisyklės bei kokie apribojimai buvo svarstomi ją priskiriant.</span><span class="sxs-lookup"><span data-stu-id="9af0c-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="9af0c-367">Skirtuke **Valdyti** DOM žurnalus taip pat galima peržiūrėti pardavimo užsakymo antraštės lygyje.</span><span class="sxs-lookup"><span data-stu-id="9af0c-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="9af0c-368">DOM įvykdymo planų valymo užduoties vykdymas</span><span class="sxs-lookup"><span data-stu-id="9af0c-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="9af0c-369">Vykdant DOM apdorojimą, kuriami įvykdymo planai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="9af0c-370">Ilgainiui sistemoje bus laikoma daugybė įvykdymo planų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="9af0c-371">Norėdami valdyti sistemos laikomų įvykdymo planų skaičių, galite sukonfigūruoti paketinę užduotį, kurį pagal lauko **Saugojimo laikotarpis dienomis** reikšmę panaikintų senesnius įvykdymo planus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="9af0c-372">Eikite į **„Retail“ ir „Commerce“ \> Paskirstytų užsakymų tvarkymas \> Paketinis apdorojimas \> DOM įvykdymo duomenų naikinimo užduoties sąranka**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="9af0c-373">Lauke **Paketų grupė** pasirinkite sukonfigūruotą paketų grupę.</span><span class="sxs-lookup"><span data-stu-id="9af0c-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="9af0c-374">Pasirinkite **Pasikartojimas** ir nustatykite paketinės užduoties pasikartojimą.</span><span class="sxs-lookup"><span data-stu-id="9af0c-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="9af0c-375">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9af0c-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="9af0c-376">Daugiau informacijos</span><span class="sxs-lookup"><span data-stu-id="9af0c-376">More information</span></span>

<span data-ttu-id="9af0c-377">Naudojant DOM funkciją reikėtų atsižvelgti į tolesnius dalykus.</span><span class="sxs-lookup"><span data-stu-id="9af0c-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="9af0c-378">Šiuo metu DOM analizuoja tik tuos užsakymus, kurie yra sukurti iš prekybos kanalų.</span><span class="sxs-lookup"><span data-stu-id="9af0c-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="9af0c-379">Kai parinktis **Prekyba** yra nustatyta kaip **Taip**, pardavimo užsakymai identifikuojami kaip mažmeninės prekybos pardavimo užsakymai.</span><span class="sxs-lookup"><span data-stu-id="9af0c-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="9af0c-380">Su išplėstinėmis sandėlio valdymo funkcijomis „Microsoft“ DOM neišbandė.</span><span class="sxs-lookup"><span data-stu-id="9af0c-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="9af0c-381">Klientai ir partneriai turi atidžiai nustatyti, ar DOM yra suderinama su jiems aktualiomis išplėstinėmis sandėlio valdymo galimybėmis ir procesais.</span><span class="sxs-lookup"><span data-stu-id="9af0c-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="9af0c-382">DOM pasiekiama tik naudojant „Commerce“ debesies versiją.</span><span class="sxs-lookup"><span data-stu-id="9af0c-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="9af0c-383">Vietinėse įdiegtyse ji nėra palaikoma.</span><span class="sxs-lookup"><span data-stu-id="9af0c-383">It isn't supported in on-premises deployments.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]