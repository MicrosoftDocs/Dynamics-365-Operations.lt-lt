---
title: Mažmeninės prekybos kanalų atsargų pasiekiamumo apskaičiavimas
description: Šioje temoje aprašoma, kaip įmonė gali naudoti „Microsoft Dynamics 365 Commerce“, kad galėtų peržiūrėti įvertintą produktų pasiūlą internetinių ir fizinių parduotuvių kanaluose.
author: hhainesms
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: hhaines
ms.search.validFrom: 2020-02-11
ms.dyn365.ops.version: Release 10.0.10
ms.openlocfilehash: fdf6df7e393bcc401e770bd1b8afcaedcadc2660
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937439"
---
# <a name="calculate-inventory-availability-for-retail-channels"></a><span data-ttu-id="6d8f1-103">Mažmeninės prekybos kanalų atsargų pasiekiamumo apskaičiavimas</span><span class="sxs-lookup"><span data-stu-id="6d8f1-103">Calculate inventory availability for retail channels</span></span>

[!include [banner](../includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="6d8f1-104">Šioje temoje aprašoma, kaip įmonė gali naudoti „Microsoft Dynamics 365 Commerce“, kad galėtų peržiūrėti įvertintą produktų pasiūlą internetinių ir fizinių parduotuvių kanaluose.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-104">This topic describes how a company can use Microsoft Dynamics 365 Commerce to view estimated on-hand availability for products in the online and store channels.</span></span>

## <a name="accuracy-of-inventory-availability"></a><span data-ttu-id="6d8f1-105">Atsargų pasiekiamumo tikslumas</span><span class="sxs-lookup"><span data-stu-id="6d8f1-105">Accuracy of inventory availability</span></span>

<span data-ttu-id="6d8f1-106">„Commerce“ naudoja keletą serverių ir duomenų bazių, kad būtų užtikrintas išplečiamumas ir efektyvumas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-106">Commerce uses multiple servers and databases to ensure scalability and performance.</span></span> <span data-ttu-id="6d8f1-107">Todėl svarbu suprasti, kad turimos atsargų vertės, teikiamos per elektroninio kasos aparato (EKA) programą, elektroninės prekybos atsargų pasiekiamumo programų sąsajas (API) ir turimų atsargų puslapius „Commerce Headquarters“, realiu laiku negali būti 100 proc. tikslios.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-107">Therefore, it's important that you understand that the available inventory values that are provided through the point of sale (POS) application, the e-commerce inventory availability application programming interfaces (APIs), and the on-hand inventory pages in Commerce headquarters might not be 100 percent accurate in real time.</span></span> <span data-ttu-id="6d8f1-108">Jeigu operacijos, sukurtos interneto ar fizinės parduotuvės kanalo produktams, dar nebuvo sinchronizuotos su štabo serveriu ir duomenų baze, turimų atsargų štabo gali nebūti rodoma tiksli šių produktų realaus laiko atsargų vertė.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-108">If transactions that are created for products in the online or store channel haven't yet been synced to headquarters, the on-hand inventory pages in headquarters might not show an accurate real-time inventory value for those products.</span></span> <span data-ttu-id="6d8f1-109">Ir atvirkščiai, jei sukonfigūravote savo įmonę taip, kad štabo kitos integruotos programos vartotojai galėtų parduoti, gauti, grąžinti ar kitaip koreguoti atsargas iš parduotuvės ar internetinio sandėlio, EKA arba interneto kanalas gali neturėti visos informacijos, kurios reikia norint rodyti tikslią atsargų vertes realiu laiku.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-109">Conversely, if you configured your company so that users in headquarters or other integrated applications can sell, receive, return, or otherwise adjust inventory out of a store or online warehouse, the POS or online channel might not have all the information that is required to show accurate real-time values for items.</span></span>

<span data-ttu-id="6d8f1-110">Tačiau svarbu suprasti, kad visi turimi atsargų prieinamumo duomenys, pateikiami per visą darbo dieną, yra laikomi numatoma verte.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-110">It's critical to understand that all on-hand availability data that is provided during the operational day is considered an estimated value.</span></span> <span data-ttu-id="6d8f1-111">Todėl, jei bandysite palyginti turimų atsargų informaciją, kurią pateikia programa, su faktinėmis fizinėmis atsargomis lentynose, arba jei bandysite lyginti turimų atsargų vertes, kurios rodomos EKA, su turimais duomenimis, kuriuos galite rasti štabą tame pačiame sandėlyje, vertės gali skirtis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-111">Therefore, if you try to compare the on-hand inventory information that the application provides with actual physical inventory on the shelves, or if you try to compare the on-hand values that are shown in POS with the on-hand data that you find for the same warehouse in headquarters, the values might differ.</span></span> <span data-ttu-id="6d8f1-112">Tokio skirtum per darbo dieną reikia tikėtis ir jis neturėtų būti laikomas problema.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-112">This difference during the operational day is expected and should not be considered an issue.</span></span> <span data-ttu-id="6d8f1-113">Jei norite patikrinti duomenis ir įsitikinti, kad vertės, pateiktos atsargų pasiekiamumo EKA ir štabas, atitinka faktinius fizinius vienetus, kuriuos matote parduotuvėje arba sandėlio lentynose, geriausia, kad tai būtų daroma, kai tos dienos kanalo operacijos nebevykdomos ir visos operacijos buvo tinkamai sinchronizuotos tarp štabo ir kanalo.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-113">If you want to audit data and make sure that the values provided in POS, APIs, and headquarters match the actual physical units that you find on your store or warehouse shelves, the best time to do it is after channel operations have stopped for the day and all transactions have been correctly synced between headquarters and the channels.</span></span>

## <a name="channel-side-inventory-calculation"></a><span data-ttu-id="6d8f1-114">Kanalo atsargų skaičiavimas</span><span class="sxs-lookup"><span data-stu-id="6d8f1-114">Channel-side inventory calculation</span></span>

<span data-ttu-id="6d8f1-115">Kanalo atsargų skaičiavimas yra mechanizmas, kuris „Commerce Headquarters" laiko paskutinių žinomus kanalo atsargų duomenis ir lemia papildomus atsargų pokyčius, atliktus kanalo pusėje, kurios neįtrauktos į tą pradinį kanalą, kad būtų apskaičiuotos beveik realiuoju laiku įvertintos turimos atsargos.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-115">The channel-side inventory calculation is a mechanism that takes the last-known channel inventory data in Commerce headquarters as a baseline, and then factors in additional inventory changes that occurred on the channel side that aren't included in that baseline to calculate a near-real-time estimated on-hand inventory.</span></span> 

<span data-ttu-id="6d8f1-116">Šios atsargų pakeitimai šiuo metu yra atsižvelgiama į kanalo atsargų skaičiavimo logiką:</span><span class="sxs-lookup"><span data-stu-id="6d8f1-116">The following inventory changes are currently considered in the channel-side inventory calculation logic:</span></span>

- <span data-ttu-id="6d8f1-117">Atsargos, parduotos parduotuvėse vykdant grynųjų pinigų ir perkėlimo užsakymus</span><span class="sxs-lookup"><span data-stu-id="6d8f1-117">Inventory sold through cash-and-carry orders in store</span></span>
- <span data-ttu-id="6d8f1-118">Atsargos, parduotos per kliento užsakymus parduotuvės arba interneto kanale</span><span class="sxs-lookup"><span data-stu-id="6d8f1-118">Inventory sold through customer orders in store or online channel</span></span>
- <span data-ttu-id="6d8f1-119">Atsargos grąžintos į parduotuvę</span><span class="sxs-lookup"><span data-stu-id="6d8f1-119">Inventory returned to store</span></span>
- <span data-ttu-id="6d8f1-120">Atsargos įvykdytos (paėmimas, pakuotė, laivas) iš parduotuvės sandėlio</span><span class="sxs-lookup"><span data-stu-id="6d8f1-120">Inventory fulfilled (pick, pack, ship) from store warehouse</span></span>

<span data-ttu-id="6d8f1-121">Norint naudoti kanalo atsargų skaičiavimą, kaip būtinąsias sąlygas į kanalo duomenų bazes turi būti siunčiamas periodinis atsargų duomenų vaizdas iš būstinės, kurią sukūrė produkto prieinamumo **užduotis**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-121">To use the channel-side inventory calculation, as a prerequisite a periodic snapshot of inventory data from headquarters created by the **Product availability** job must be sent to the channel databases.</span></span> <span data-ttu-id="6d8f1-122">Momentinė kopija rodo informaciją, kurią štabus turi apie atsargų pasiekiamumą pagal tam tikrą produktą arba produkto variantą ir sandėlį.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-122">The snapshot represents the information that headquarters has about inventory availability for a specific combination of a product or product variant and a warehouse.</span></span> <span data-ttu-id="6d8f1-123">Ji apima tik atsargų operacijas, kurios buvo apdorotos ir užregistruotos būstinėje tuo metu, kai buvo paimta momentinė kopija, ir ji gali būti ne 100 procentų tiksli realiuoju laiku dėl pastovaus pardavimo apdorojimo, vykstainio paskirstytuose serveriuose.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-123">It includes only the inventory transactions that were processed and posted in headquarters at the time when the snapshot was taken, and it might not be 100 percent accurate in real time because of the constant sales processing that occurs across distributed servers.</span></span>

- <span data-ttu-id="6d8f1-124">Jei produkto atsargos buvo parduotos parduotuvės sandėlyje naudojant kasos aparatą arba nesinchronizuojamo kliento užsakymo pardavimo EKA programoje režimą, štabas karto neturės informacijos apie susijusią pardavimo atsargų išdavimo operaciją.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-124">If inventory was sold for a product in a store through a cash-and-carry or asynchronous customer order sale in the POS application, headquarters won't immediately have information about the related inventory issue transaction for the sale.</span></span> <span data-ttu-id="6d8f1-125">Štave bus informacijos apie atsargas, parduotas tokio parduotuvės pardavimo būdu, tik po to, kai P užduotis įkels susijusią operaciją iš parduotuvės kanalo duomenų bazės į štabą ir bus sukurtas susijęs pardavimo užsakymas naudojant išrašo registravimą arba duomenų perdavimo mažais kiekiais registravimo procesą.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-125">Headquarters will have information about the inventory that is sold for these types of store sales only after the P-job uploads the related transaction from the store's channel database into headquarters and the related sales orders are created through statement posting or the trickle feed posting processes.</span></span> <span data-ttu-id="6d8f1-126">Štabo užsakymo kūrimo procesas sukuria susijusias atsargų operacijas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-126">The process of creating the orders in headquarters creates the related inventory transactions.</span></span> 
- <span data-ttu-id="6d8f1-127">El. prekybos kanalo užsakymų atveju štabas turi informacijos apie atsargų operacijas tik po to, kai operacijos nusiunčiamos į štabų naudojant P užduotį ir užbaigiamas užsakymų sinchronizavimo procesas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-127">For e-commerce channel orders, headquarters has information about the inventory transactions only after the transactions are sent to headquarters through the P-job and the order synchronization process is completed.</span></span>

<span data-ttu-id="6d8f1-128">Norėdami padaryti „Commerce Headquarters“ atsargų momentinę kopiją atlikite šiuos veiksmus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-128">To take a snapshot of inventory in Commerce headquarters, follow these steps.</span></span>

1. <span data-ttu-id="6d8f1-129">Eikite į **Mažmeninė prekyba ir prekyba \> „Retail“ ir „Commerce“ IT \> Produktai ir atsargos \> Produkto pasiekiamumas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-129">Go to **Retail and Commerce \> Retail and Commerce IT \> Products and inventory \> Product availability**.</span></span>
1. <span data-ttu-id="6d8f1-130">Pasirinkite **Gerai**, jei norite vykdyti užduotį **Produkto pasiekiamumas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-130">Select **OK** to run the **Product availability** job.</span></span> <span data-ttu-id="6d8f1-131">Taip pat galite suplanuoti šią užduotį, kad ji būtų paleista pakete.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-131">You can also schedule this job to run in batch.</span></span>

<span data-ttu-id="6d8f1-132">Pasibaigus užduoties **Produkto pasiekiamumas** vykdymui, užfiksuoti duomenys turi būti perduoti į el. prekybos kanalo duomenų bazes, kad skaičiuojant turimas atsargas būtų galima atsižvelgti į naujausias štabo momentines kopijas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-132">After the **Product availability** job has finished running, the data that was captured must be pushed to the channel databases, so that the latest headquarters inventory snapshot can be considered in the channel-side calculation of estimated on-hand inventory.</span></span>

<span data-ttu-id="6d8f1-133">Norėdami sinchronizuoti momentinės kopijos duomenis iš būstinės į savo kanalų duomenų bazes, atlikite šiuos veiksmus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-133">To sync snapshot data from headquarters to your channel databases, follow these steps.</span></span>

1. <span data-ttu-id="6d8f1-134">Eikite į **Mažmeninė prekyba ir prekyba \> Mažmeninės prekybos ir prekybos IT \> Paskirstymo grafikas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-134">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="6d8f1-135">Paleiskite užduotį **1130** (**Produkto pasiekiamumas**), norėdami sinchronizuoti momentinės kopijos, kurią užduotis **Produkto pasiekiamumas** sukūrė iš štabą, duomenis su kanalų duomenų bazėmis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-135">Run the **1130** (**Product availability**) job to sync the snapshot data that the **Product availability** job has created from headquarters to your channel databases.</span></span>

## <a name="inventory-availability-apis-for-e-commerce"></a><span data-ttu-id="6d8f1-136">Atsargų prieinamumo API el. prekybai</span><span class="sxs-lookup"><span data-stu-id="6d8f1-136">Inventory availability APIs for e-commerce</span></span>

<span data-ttu-id="6d8f1-137">„Commerce" pateikia toliau nurodytus el. komercijos scenarijų API, siekiant pateikti užklausą dėl produkto atsargų prieinamumo:</span><span class="sxs-lookup"><span data-stu-id="6d8f1-137">Commerce provides the following APIs for e-commerce scenarios to query inventory availability of a product:</span></span>

- <span data-ttu-id="6d8f1-138">**GetEstimatedAvailability – naudokite šią API, norėdami pateikti užklausą dėl produkto arba produkto varianto interneto kanalo sandėlyje ar sandėliuose, kurie susieti su interneto kanalo** įvykdymo grupe.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-138">**GetEstimatedAvailability** – Use this API to query inventory for a product or product variant in the online channel warehouse or warehouses that are linked to the online channel's fulfillment group.</span></span>
- <span data-ttu-id="6d8f1-139">**GetEstimatedProductWarehouseAvailability** – naudokite šią API, norėdami užklausti, kiek prekės produkto ar jo varianto yra konkrečiame sandėlyje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-139">**GetEstimatedProductWarehouseAvailability** – Use this API to query inventory for a product or product variant from a specific warehouse.</span></span>

> [!NOTE]
> <span data-ttu-id="6d8f1-140">Šie APIs pakeičia **GetProductAvailabilities** ir **GetAvailableInventoryNearby** API „Commerce“ versijoje 10.0.7 ir ankstesnėse.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-140">These APIs replace the **GetProductAvailabilities** and **GetAvailableInventoryNearby** APIs in Commerce release 10.0.7 and earlier.</span></span>

<span data-ttu-id="6d8f1-141">Abi API vidiniai naudoja kanalo pusės skaičiavimo logiką ir grąžina įvertintą faktiškai turimą kiekį, bendrą turimus kiekius, **matavimo** **vienetą** **(UoM)** **ir** pageidaujamo produkto bei sandėlio atsargų lygį.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-141">Both APIs internally use the channel-side calculation logic and return estimated **physical available** quantity, **total available** quantity, **unit of measure (UoM)**, and **inventory level** for the requested product and warehouse.</span></span> <span data-ttu-id="6d8f1-142">Grąžinamos gali būti rodomos jūsų elektroninės prekybos svetainėje, jei norite, arba jos gali būti naudojamos kitoms verslo logikoms suaktyvinti elektroninės prekybos svetainėje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-142">The returned values can be shown on your e-commerce site if you want, or they can be used to trigger other business logic on your e-commerce site.</span></span> <span data-ttu-id="6d8f1-143">Pavyzdžiui, galite neleisti pirkti produktų, kurių atsargų lygis „nėra atsargose".</span><span class="sxs-lookup"><span data-stu-id="6d8f1-143">For example, you can prevent the purchase of products with an "out of stock" inventory level.</span></span>

<span data-ttu-id="6d8f1-144">Nors kitos „Commerce“ serveryje esančios API gali patekti tiesiai į štabo, kad galėtų gauti turimų produktų atsargų kiekius, nerekomenduojame jų naudoti elektroninės prekybos aplinkoje dėl galimų našumo problemų ir susijusio poveikio, kurį šios dažnos užklausos gali turėti jūsų štabo serveriuose.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-144">Although other APIs that are available in Commerce can go directly to headquarters to fetch on-hand quantities for products, we don't recommend that they be used in an e-commerce environment because of potential performance issues and the impact that these frequent requests can have on your headquarters servers.</span></span> <span data-ttu-id="6d8f1-145">Be to, kartu su kanalo skaičiavimu du pirmiau nurodyti API gali pateikti tikslesnį produkto prieinamumo įvertinimą, atsižvelgdami į kanaluose sukurtas operacijas, kurių būstinė dar nežinoma.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-145">Additionally, with channel-side calculation, the two APIs mentioned above can provide a more accurate estimate of a product's availability by taking into account the transactions created in the channels that aren’t yet known to headquarters.</span></span>

<span data-ttu-id="6d8f1-146">Prieš jums naudojant abi anksčiau paminėtas API programas, turite išjungti realaus laiko paslaugų skambučius atsargų paieškai iš EKA programos, pirmiausia turite įjungti **Optimizuoto produkto prieinamumo skaičiavimo** funkciją per **Funkcijų valdymo** darbo sritį štabe.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-146">To use the two APIs, you must enable the **Optimized product availability calculation** feature through the **Feature management** workspace in headquarters.</span></span> <span data-ttu-id="6d8f1-147">Jei jūsų interneto ir parduotuvės kanalai naudoja tuos pačius įvykdymo sandėlius, taip pat turite įgalinti patobulintos el. komercijos kanalų atsargų skaičiavimo logikos priemonę, kad kanalų skaičiavimo logika būtų taikoma dviem API, kad būtų atsižvelgiama į neužregistruotas operacijas (grynųjų pinigų ir perkėlimo, kliento užsakymus, grąžinimus), sukurtą **parduotuvės kanale**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-147">If your online and store channels use the same fulfillment warehouses, you must also enable the **Enhanced e-Commerce channel-side inventory calculation logic** feature to have the channel-side calculation logic within the two APIs to factor in the unposted transactions (cash-and-carry, customer orders, returns) created in the store channel.</span></span> <span data-ttu-id="6d8f1-148">Įjungus šias funkcijas, **reikia paleisti užduotį** **1070** (kanalo konfigūracija).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-148">You will need to run the **1070** (**Channel configuration**) job after enabling these features.</span></span>

<span data-ttu-id="6d8f1-149">Norėdami nurodyti, kaip produktų kiekis turi būti grąžintas API išeiga, atlikite šiuos veiksmus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-149">To define how product quantity should be returned in the API output, follow these steps.</span></span>

1. <span data-ttu-id="6d8f1-150">Eikite į **Mažmeninė prekyba ir prekyba \> Būstinės sąranka \> Parametrai \> Prekybos parametrai**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-150">Go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce parameters**.</span></span>
1. <span data-ttu-id="6d8f1-151">Pasirinkite skirtuką Atsargos ir tada el. komercijos „FastTab" atsargų prieinamumo API sukonfigūruokite kiekio vertę **API** **išeigos** **parametre**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-151">Select the **Inventory** tab, and then on the **Inventory availability APIs for e-Commerce** FastTab configure the value of the **Quantity in API output** setting.</span></span>
1. <span data-ttu-id="6d8f1-152">Vykdykite paskirstymo grafiko užduotį **1070** (**Kanalo konfigūracija**), kad sinchronizuotumėte naujausius nustatymus kanaluose.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-152">Run the **1070** (**Channel configuration**) job to sync the latest setting to channels.</span></span>

<span data-ttu-id="6d8f1-153">**API išeigos** parametrų kiekis pateikia tris pasirinktis:</span><span class="sxs-lookup"><span data-stu-id="6d8f1-153">The **Quantity in API output** setting provides three options:</span></span>

- <span data-ttu-id="6d8f1-154">**Grąžinti atsargų kiekį –** faktinis turimas ir bendras turimas pageidaujamo produkto kiekis grąžinamas į API išeigą.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-154">**Return inventory quantity** - Physical available and total available quantity of a requested product are returned in API output.</span></span>
- <span data-ttu-id="6d8f1-155">**Grąžinamų atsargų kiekio, atimamo atsargų buferį, buferis – API išeiga grąžintas kiekis koreguojamas atėmus** atsargų buferio vertę.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-155">**Return inventory quantity subtracting inventory buffer** - The quantity returned in the API output is adjusted by subtracting the inventory buffer value.</span></span> <span data-ttu-id="6d8f1-156">Daugiau informacijos apie atsargų buferį ieškokite Konfigūruoti [atsargų buferius ir atsargų lygius](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-156">For more information about the inventory buffer, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>
- <span data-ttu-id="6d8f1-157">**Negrąžinti atsargų** kiekio – API išeigai grąžinamas tik atsargų lygis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-157">**Not return inventory quantity** - Only the inventory level is returned in the API output.</span></span> <span data-ttu-id="6d8f1-158">Daugiau informacijos apie atsargų lygius ieškokite Konfigūruoti [atsargų buferius ir atsargų lygius](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-158">For more information about inventory levels, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>

<span data-ttu-id="6d8f1-159">API parametrą `QuantityUnitTypeValue` galite naudoti vieneto tipui, kuriuo API turėtų būti naudojamas grąžinamas kiekis, nurodyti.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-159">You can use the `QuantityUnitTypeValue` API parameter to specify the unit type in which you would like the APIs to return quantity.</span></span> <span data-ttu-id="6d8f1-160">Šis parametras palaiko **atsargų vienetą** (numatytąjį), **pirkimo vienetą ir pardavimo** **vieneto** pasirinktis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-160">This parameter supports the **inventory unit** (default), **purchase unit**, and **sell unit** options.</span></span> <span data-ttu-id="6d8f1-161">Grąžintas kiekis apvalinamas iki nustatyto atitinkamos matavimo vieneto (mat. vnt.) valdymo vieneto tikslumo.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-161">The returned quantity is rounded to the defined precision of the corresponding unit of measure (UOM) in headquarters.</span></span>

<span data-ttu-id="6d8f1-162">**GetEstimatedAvailability** API siūlo šiuos įvesties parametrus, kurie palaiko skirtingus užklausų scenarijus:</span><span class="sxs-lookup"><span data-stu-id="6d8f1-162">The **GetEstimatedAvailability** API offers the following input parameters to support different query scenarios:</span></span>

- <span data-ttu-id="6d8f1-163">`DefaultWarehouseOnly` – naudoti šį parametrą norint pateikti užklausą dėl produkto atsargų interneto kanalo numatytame sandėlyje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-163">`DefaultWarehouseOnly` - Use this parameter to query inventory for a product in the online channel's default warehouse.</span></span> 
- <span data-ttu-id="6d8f1-164">`FilterByChannelFulfillmentGroup` ir – naudoti šiuos du parametrus norint pateikti užklausą dėl produkto atsargų iš visų paėmimo vietų, esančių tam `SearchArea` tikroje ieškos srityje, pagal `longitude`, ir `latitude`, `radius`.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-164">`FilterByChannelFulfillmentGroup` and `SearchArea` - Use these two parameters to query inventory for a product from all pickup locations within a specific search area, based on `longitude`, `latitude`, and `radius`.</span></span> 
- <span data-ttu-id="6d8f1-165">`FilterByChannelFulfillmentGroup` ir – naudoti šiuos du parametrus norint pateikti užklausą dėl konkrečių sandėlių, kurie susieti su interneto kanalo įvykdymo grupe produkto atsargomis ir kurie sukonfigūruoti palaikyti tam tikrus `DeliveryModeTypeFilterValue` pristatymo būdus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-165">`FilterByChannelFulfillmentGroup` and `DeliveryModeTypeFilterValue` - Use these two parameters to query inventory for a product from specific warehouses that are linked to an online channel's fulfillment group and are configured to support certain modes of delivery.</span></span> <span data-ttu-id="6d8f1-166">Parametras `DeliveryModeTypeFilterValue`palaiko **visas** (numatytąsias), **siuntimo ir** **paėmimo** pasirinktis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-166">The `DeliveryModeTypeFilterValue` parameter supports the **all** (default), **shipping**, and **pickup** options.</span></span> <span data-ttu-id="6d8f1-167">Pavyzdžiui, scenarijuje, kai užsakymas tinkle gali būti įvykdytas iš kelių siuntimo sandėlių, galite naudoti šiuos du parametrus, norėdami pateikti užklausą dėl produkto atsargų prieinamumo visuose siuntimo sandėliuose.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-167">For example, in a scenario where an online order can be fulfilled from multiple shipping warehouses, you can use these two parameters to query a product's inventory availability in all of those shipping warehouses.</span></span> <span data-ttu-id="6d8f1-168">API šiuo atveju grąžina kiekvieno siuntimo sandėlio turimo produkto kiekį ir atsargų lygį, pridėjus sudėtinį kiekį ir agreguotas visų siuntimo sandėlių, esančių užklausos aprėnyje, atsargų lygį.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-168">The API in this case returns the product's on-hand quantity and inventory level in each of the shipping warehouses, plus an aggregated quantity and an aggregated inventory level from all shipping warehouses in the query scope.</span></span>
 
<span data-ttu-id="6d8f1-169">„Commerce buy box", parduotuvės išrinkiklis, pageidavimų sąrašas, krepšelis ir krepšelio piktogramų moduliai naudoja anksčiau paminėtos API ir parametrus, kad būtų rodomi atsargų lygio pranešimai el. komercijos svetainėje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-169">The Commerce buy box, store selector, wishlist, cart, and cart icon modules consume the APIs and parameters mentioned above to display inventory level messages across the e-commerce site.</span></span> <span data-ttu-id="6d8f1-170">„Commerce" svetainės generatoriuje pateikiami įvairūs atsargų parametrai, leidžiantys valdyti reklamavimo ir pirkimo elgseną.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-170">Commerce site builder provides various inventory settings to control merchandising and purchase behavior.</span></span> <span data-ttu-id="6d8f1-171">Daugiau informacijos žr. [Atsargų parametrų taikymas](inventory-settings.md).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-171">For more information, see [Apply inventory settings](inventory-settings.md).</span></span>

## <a name="pos-inventory-lookup-with-channel-side-calculation"></a><span data-ttu-id="6d8f1-172">EKA atsargų peržvalga naudojant kanalo skaičiavimą</span><span class="sxs-lookup"><span data-stu-id="6d8f1-172">POS inventory lookup with channel-side calculation</span></span>

<span data-ttu-id="6d8f1-173">„Commerce“ leidime 10.0.9 ir ankstesnėse versijose EKA operacija **Atsargų peržvalga** naudojo paslaugos realiu laiku iškvietą į štabe, kad gautų pasirinkto produkto atsargų informaciją tiek iš dabartinės vartotojo parduotuvės, tiek iš visų kitų parduotuvių, kurios sukonfigūruotos vykdymo grupėje kaip parduotuvės kanalo konfigūracijos dalis.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-173">In the Commerce release 10.0.9 and earlier, the **Inventory lookup** operation in POS used a real-time service call to headquarters to get inventory information for the selected product for both the user's current store and any other stores that are configured for the fulfillment group as part of the channel configuration for the store.</span></span> <span data-ttu-id="6d8f1-174">Naudojant „Commerce“ leidime 10.0.10" ir vėliau galima išjungti „Commerce“ leidime 10.0.10 ir vėliau galima išjungti „Commerce“ leidime 10.0.10 paslaugos iškleidimą į būstines ir vietoj to naudoti kanalo skaičiavimą „Commerce" serveryje, kad nustatytumėte turimas atsargas, kurios faktiškai galimos parduotuvei ir bet kokioms kitoms vietų, apibrėžtų įvykdymo grupėje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-174">In Commerce release 10.0.10 and later, you can turn off real-time service calls to headquarters and instead use channel-side calculation on the Commerce server to determine the on-hand inventory that is physically available for the store and any other locations that are defined in the fulfillment group.</span></span> <span data-ttu-id="6d8f1-175">Ši kanalo apskaičiuotų atsargų konfigūracija taip pat naudinga vietose, kur interneto ryšys yra nepatikimas, nes jums nereikia būti prisijungus prie interneto, kad galėtumėte gauti atsargų peržvalgas iš štabo.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-175">This channel-calculated inventory configuration is also useful for locations where internet connectivity is unreliable, because you don't have to be online to get inventory lookups headquarters.</span></span>

<span data-ttu-id="6d8f1-176">Kai kanalo skaičiavimas tinkamai sukonfigūruotas ir valdomas, jis gali teikti patikimesnį dabartinių parduotuvės atsargų įvertinimą, nes jis naudoja transakcijų duomenis, kurie yra komercijos kanalo duomenų bazėje, tačiau apie kuriuos štabas dar gali neturėti informacijos.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-176">When channel-side calculation is correctly configured and managed, it can provide a more reliable estimate of the current store inventory because it uses the transactional data that is in the Commerce channel database but that headquarters might not yet have information about.</span></span> <span data-ttu-id="6d8f1-177">Pvz., jei naudojate esamą atsargų peržvalgų EKA paslaugos realiu laiku iškvietą, štabas tikriausiai dar nebus informacijos apie produkto pardavimą už grynuosius pinigus, kuris ką tik buvo įvykdytas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-177">For example, if you use the existing real-time service call for inventory lookups in POS, headquarters probably won't yet have information about a cash-and-carry sale that just occurred for a product.</span></span> <span data-ttu-id="6d8f1-178">Todėl produkto turimų atsargų vertė, kurią pateikia štabas, veikiausiai viršys faktines parduotuvės turimas atsargas pagal vieną vienetą.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-178">Therefore, the on-hand inventory value that headquarters returns for that product will probably exceed the store's actual on-hand inventory by one unit.</span></span> <span data-ttu-id="6d8f1-179">Tačiau, jei naudojate kanalo skaičiavimą, pardavimas už grynuosius pinigus gali būti įtrauktas į skaičiavimą ir atimtas iš turimų atsargų vertės, kuri rodoma.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-179">However, if you use channel-side calculation, the cash-and-carry sale can be factored into the calculation and deducted from the on-hand value that is shown.</span></span> <span data-ttu-id="6d8f1-180">Nors vertės, kurias teikia ir kanalų skaičiavimas, ir paslaugos realiu laiku iškvieta yra tik turimų atsargų įvertinimas, vertė, kurią pateikia kanalo skaičiavimas, yra daug labiau tikėtina, kad yra tiksli dabartinėje parduotuvėje.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-180">Although the values that both the channel-side calculation and the real-time service call provide are only estimates of on-hand inventory, the value that the channel-side calculation provides is much more likely to be accurate for the current store.</span></span>

<span data-ttu-id="6d8f1-181">Norėdami konfigūruoti EKA atsargų peržvalgos operaciją būstinėje, kad ji būtų naudojama kanalo skaičiavimo logikai ir **išjungtas** realaus laiko paslaugų iškvietimas, atlikite šiuos veiksmus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-181">To configure the POS **Inventory lookup** operation in headquarters to use the channel-side calculation logic and turn off real-time service call, follow these steps.</span></span>

1. <span data-ttu-id="6d8f1-182">Eikite į **Mažmeninį prekyba ir komercija \> Kanalo sąranka \> EKA sąranka \> EKA profiliai \> Funkcionalumo profiliai**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-182">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span>
1. <span data-ttu-id="6d8f1-183">Pasirinkite funkcijų šabloną.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-183">Select a functionality profile.</span></span>
1. <span data-ttu-id="6d8f1-184">„FastTab“ **Funkcijos**, skyriuje **Atsargų pasiekiamumo skaičiavimas**, pakeiskite lauko **Atsargų pasiekiamumo skaičiavimo būdas** vertę iš **Paslauga realiu laiku** į **Kanalas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-184">On the **Functions** FastTab, in the **Inventory availability calculation** section, change the value of **Inventory availability calculation mode** from **Real time service** to **Channel**.</span></span> <span data-ttu-id="6d8f1-185">Pagal numatytuosius parametrus visi funkcijų profiliai naudoja paslaugos realiu laiku iškvietimus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-185">By default, all functionality profiles use real-time service calls.</span></span> <span data-ttu-id="6d8f1-186">Todėl, jei norite naudoti kanalo skaičiavimo logiką, turite pakeisti šio lauko vertę.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-186">You must change the value of this field if you want to use channel-side calculation logic.</span></span> <span data-ttu-id="6d8f1-187">Atlikus šį pakeitimą bus paveiktos visos mažmeninės prekybos parduotuvės, kurios yra susijusios su pasirinktu funkcijų šablonu.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-187">Every retail store that is linked to the selected functionality profile will be affected by this change.</span></span>

<span data-ttu-id="6d8f1-188">Tada turite sinchronizuoti kanalų keitimus naudodami paskirstymo grafiko procesą štabe ir atlikdami tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-188">You must then sync the changes to the channels through the distribution schedule process in headquarters by following these steps.</span></span>

1. <span data-ttu-id="6d8f1-189">Eikite į **Mažmeninė prekyba ir prekyba \> Mažmeninės prekybos ir prekybos IT \> Paskirstymo grafikas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-189">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="6d8f1-190">Vykdykite **1070** (**Kanalo konfigūracija**) užduotį.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-190">Run the **1070** (**Channel configuration**) job.</span></span>

<span data-ttu-id="6d8f1-191">Baigus konfigūruoti, informacijoje, kuri pateikiama apie faktiškai turimas atsargas, nebenaudojama paslaugos realiu laiku iškvieta, kai EKA programos vartotojas naudoja operaciją **Atsargų peržvalga** (standartiniai ir matricos rodiniai).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-191">After the configuration is completed, the information that is provided about physically available inventory no longer uses a real-time service call when a user in the POS application uses the **Inventory lookup** operation (standard and matrix views).</span></span> <span data-ttu-id="6d8f1-192">Vietoje to duomenys apie tos parduotuvės ir visų vykdymo grupės parduotuvių faktiškai turimas atsargas apskaičiuojami pagal paskutinę žinomą momentinę kopiją, kuri buvo pristatyta į kanalo duomenų bazę iš „Commerce Headquarters“.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-192">Instead, data about physically available inventory for the current store and all the stores in the fulfillment group is calculated based on the last-known snapshot that was delivered to the channel database from Commerce Headquarters.</span></span> <span data-ttu-id="6d8f1-193">Momentinės kopijos vertę detalizuoja kanalo skaičiavimas, kad būtų pakoreguota faktiškai turimų atsargų vertė remiantis pasirinkto produkto papildomomis pardavimo arba grąžinimo operacijomis, kurios yra kanalo duomenų bazėje, tačiau kurios nebuvo įtrauktos į paskutinę sinchronizuotą momentinę kopiją iš 1130 užduoties.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-193">The snapshot value is further refined by the channel-side calculation to adjust the physically available value, based on additional sales or return transactions that exist for the selected product in the channel database that were not included in the last synchronized snapshot from the 1130 job.</span></span> <span data-ttu-id="6d8f1-194">Jeigu kanalo duomenų bazėje nėra operacijų duomenų iš sandėlių ar parduotuvių, esančių vykdymo grupėje, joje nėra jokių papildomų operacijų, kurias būtų galima įtraukti perskaičiuojant vertę.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-194">If the channel database doesn't contain transactional data for any of the warehouses or stores in the fulfillment group, it contains no additional transactions that can be factored into a recalculation of the value.</span></span> <span data-ttu-id="6d8f1-195">Todėl geriausias šių sandėlių ar parduotuvių turimų atsargų įvertinimas yra paskutinės žinomos „Commerce Headquarters“ momentinės kopijos duomenys.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-195">Therefore, the best estimate of on-hand inventory that can be shown for those warehouses or stores is the data from the last-known Commerce Headquarters snapshot.</span></span>

<span data-ttu-id="6d8f1-196">EKA **Užsakymo vykdymas** ekranai taip pat įvertina kanalo skaičiavimą, kad parodytų turimas prekių atsargas, kai pasirenkama užsakymo vykdymo eilutė, o vartotojas peržiūri skydelį **Informacija**, skirtą pasirinktai prekei.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-196">The **Order fulfillment** screens of POS also leverage the channel side calculation to show on-hand inventory for items when an order fulfillment line is selected and a user views the **Details** panel for on-hand inventory for the selected item.</span></span>

## <a name="optimize-your-inventory-data"></a><span data-ttu-id="6d8f1-197">Optimizuokite atsargų duomenis</span><span class="sxs-lookup"><span data-stu-id="6d8f1-197">Optimize your inventory data</span></span>

<span data-ttu-id="6d8f1-198">Norint užtikrinti, kad atsargos būtų įvertintos kuo tiksliau, svarbu naudoti šias „Commerce“ paketines užduotis ir dažnai jas paleisti:</span><span class="sxs-lookup"><span data-stu-id="6d8f1-198">To ensure the best possible estimate of inventory, it's critical that you use the following Commerce batch jobs and run them frequently:</span></span>

- <span data-ttu-id="6d8f1-199">**P-užduotis** – P užduotis yra puslapyje **Paskirstymo grafikai** ir turi būti vykdoma dažnai.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-199">**P-job** – The P-job is found on the **Distribution schedules** page and should be run frequently.</span></span> <span data-ttu-id="6d8f1-200">Ši užduotis pateikia el. prekybos užsakymus, asinchroninius kliento užsakymus, kuriuos sukūrė EKA, ir grynųjų pinigų užsakymus, kuriuos EKA sukūrė iš kanalo duomenų bazių, į „Commerce Headquarters“, kad juos būtų galima apdoroti vėliau.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-200">This job brings e-Commerce orders, asynchronous customer orders that POS created, and cash-and-carry orders that POS created from the channel databases into Commerce Headquarters, so that they can be processed further.</span></span> <span data-ttu-id="6d8f1-201">Kol šie duomenys sinchronizuojami iš kanalo į „Commerce Headquarters", „Commerce Headquarters" neturi informacijos apie produktų, esančių sandėliuose, kurie susiję su šiomis operacijomis, atsargų koregavimus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-201">Until this data is synced from the channel to Commerce Headquarters, Commerce Headquarters has no information about inventory adjustments to products in the warehouses that result from those transactions.</span></span>
- <span data-ttu-id="6d8f1-202">**Sinchronizuoti užsakymus** – ši užduotis apdoroja neapdorotus operacijų duomenis „Commerce Headquarters“, kuriuos P užduotis teikia ir konvertuoja el. prekybos bei asinchronines kliento užsakymų operacijas į „Commerce Headquarters“ pardavimo užsakymus.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-202">**Synchronize orders** – This job processes the raw transactional data in Commerce Headquarters that the P-job provides and converts e-Commerce and asynchronous customer order transactions into sales orders in Commerce Headquarters.</span></span> <span data-ttu-id="6d8f1-203">Kol bus apdorota ši užduotis ir sukurti pardavimo užsakymai, nebus sukurtos jokios atsargų operacijos.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-203">Until this job is processed and the sales orders are created, no inventory transactions are created.</span></span> <span data-ttu-id="6d8f1-204">Todėl „Commerce Headquarters“ turimose atsargose neatsispindės operacijos.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-204">Therefore, on-hand inventory in Commerce Headquarters won't consider the transactions.</span></span>
- <span data-ttu-id="6d8f1-205">**Atlikti operacijų išrašų paketinį skaičiavimą** – grynųjų pinigų operacijų, kurios sukurtos parduotuvėje, atveju duomenų perdavimo mažais kiekiais registravimo procesas užtikrina, kad su pardavimu susiję atsargų procesai bus veiksmingai atnaujinami.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-205">**Calculate transactional statements in batch** – For cash-and-carry transactions that are created in the store, the trickle feed posting process ensures that inventory that is related to the sales is updated efficiently.</span></span> <span data-ttu-id="6d8f1-206">Norėdami pasiekti efektyviausią užsakymų už grynuosius pinigus atsargų operacijų apdorojimą įsitikinkite, kad sukonfigūravote savo sistemą naudoti [duomenų perdavimo mažais kiekiais registravimas](./trickle-feed.md).</span><span class="sxs-lookup"><span data-stu-id="6d8f1-206">To get the most efficient processing of inventory transactions for cash-and-carry orders, make sure that you configure your system to use [trickle feed posting](./trickle-feed.md).</span></span>
- <span data-ttu-id="6d8f1-207">**Atlikti operacijų išrašų paketinį registravimą** – ši užduotis taip pat reikalinga duomenų perdavimo mažais kiekiais registravimui.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-207">**Post transactional statements in batch** – This job is also required for trickle feed posting.</span></span> <span data-ttu-id="6d8f1-208">Po jos eina užduotis **Atlikti operacijų išrašų paketinį skaičiavimą**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-208">It follows the **Calculate transactional statements in batch** job.</span></span> <span data-ttu-id="6d8f1-209">Ši užduotis sistemingai registruoja apskaičiuotas sumas, kad „Commerce Headquarters“ būtų sukurti pardavimo už grynuosius pinigus pardavimo užsakymai ir „Commerce Headquarters“ tiksliau atspindėtų parduotuvės atsargas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-209">This job systematically posts the calculated statements, so that sales orders for cash-and-carry sales are created in Commerce Headquarters and Commerce Headquarters more accurately reflects your store's inventory.</span></span>
- <span data-ttu-id="6d8f1-210">**Produkto pasiekiamumas** – šia užduotimi sukuriama atsargų, esančių „Commerce Headquarters“, momentinė kopija.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-210">**Product availability** – This job creates the snapshot of inventory from Commerce Headquarters.</span></span>
- <span data-ttu-id="6d8f1-211">**1130 (produkto pasiekiamumas)** – ši užduotis randama puslapyje **Paskirstymo grafikai** ir turi būti vykdoma iškart po užduoties **Produkto pasiekiamumas**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-211">**1130 (Product availability)** – This job is found on the **Distribution schedules** page and should be run immediately after the **Product availability** job.</span></span> <span data-ttu-id="6d8f1-212">Ši užduotis perkelia atsargų momentinės kopijos duomenis iš „Commerce Headquarters“ į kanalų duomenų bazes.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-212">This job transports the inventory snapshot data from Commerce Headquarters to the channel databases.</span></span>

> [!NOTE]
> - <span data-ttu-id="6d8f1-213">Bendrai, geriausia praktika būtų vykdyti produkto **prieinamumą** ir **1130** darbus pagal valandas ir suplanuoti P-darbo sinchronizavimo užsakymus bei sumažinti su srauto talpinimu susijusius darbus tuo pačiu ar didesniu dažnumu.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-213">It is a best practice to run the **Product availability** and **1130** jobs on an hourly basis, and to schedule P-job, synchronize orders, and trickle feed posting-related jobs with the same or higher frequency.</span></span>
> - <span data-ttu-id="6d8f1-214">Dėl našumo priežasčių, kai kanalo atsargų pasiekiamumo skaičiavimai naudojami atsargų pasiekiamumo užklausai įvykdyti naudojant el. prekybos API arba naują EKA kanalo atsargų logiką, skaičiuojant naudojama talpykla, kad būtų nustatyta, ar praėjo pakankamai laiko, kad būtų protinga skaičiavimo logiką vykdyti dar kartą.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-214">For performance reasons, when channel-side inventory availability calculations are used to make an inventory availability request using the e-Commerce API's or the POS channel-side inventory logic, the calculation uses a cache to determine whether enough time has passed to justify running the calculation logic again.</span></span> <span data-ttu-id="6d8f1-215">Numatytoji talpykla nustatyta kaip 60 sekundžių.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-215">The default cache is set to 60 seconds.</span></span> <span data-ttu-id="6d8f1-216">Pavyzdžiui, jūs įjungėte kanalo skaičiavimą savo parduotuvei ir peržiūrėjote turimas produkto atsargas puslapyje **Atsargų peržvalga**.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-216">For example, you turned on channel-side calculation for your store and viewed the on-hand inventory for a product on the **Inventory lookup** page.</span></span> <span data-ttu-id="6d8f1-217">Jei tada vienas produkto vienetas parduodamas, puslapyje **Atsargų peržvalga** nebus rodomos sumažėjusios atsargos, kol talpykla nebus išvalyta.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-217">If one unit of the product is then sold, the **Inventory lookup** page won't show the reduced inventory until the cache has been cleared.</span></span> <span data-ttu-id="6d8f1-218">Po to, kai vartotojai užregistruos operacijas EKA, turi praeiti 60 sekundžių, kad būtų matomas turimų atsargų sumažėjimas.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-218">After users post transactions in POS, they should wait 60 seconds before they verify that the on-hand inventory has been reduced.</span></span>

<span data-ttu-id="6d8f1-219">Jei pagal jūsų verslo scenarijų reikia trumpesnio talpyklos laiko, pagalbos kreipkitės į savo produktų palaikymo tarnybos atstovą.</span><span class="sxs-lookup"><span data-stu-id="6d8f1-219">If your business scenario requires a smaller cache time, contact your product support representative for assistance.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
