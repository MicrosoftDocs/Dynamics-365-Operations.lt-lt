<span data-ttu-id="b61b7-101">Kopijuojant duomenų bazę iš vienos aplinkos į kitą, nukopijuota duomenų bazė taps visiškai funkcionali tik paleidus pakartotinio parengimo įrankį ir užtikrinus, kad visi „Retail“ komponentai yra atnaujinti.</span><span class="sxs-lookup"><span data-stu-id="b61b7-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b61b7-102">Rekomenduojame paleisti šią procedūrą, nepaisant to, ar naudojate „Retail“ komponentus, ar ne, nes „Retail“ funkcijos įtrauktos į visas aplinkas.</span><span class="sxs-lookup"><span data-stu-id="b61b7-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="b61b7-103">Prieš tęsdami turite įsitikinti, kad įvykdytos šios būtinosios sąlygos:</span><span class="sxs-lookup"><span data-stu-id="b61b7-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="b61b7-104">Jei naujinate į 2017 liepos mėn. leidimo versiją (taip pat vadinamą 7.2) 7.2.11792.56024, prieš paleisdami duomenų atnaujinimą toje aplinkoje, įdiekite programos X++ karštąsias pataisas paskirties aplinkoje.</span><span class="sxs-lookup"><span data-stu-id="b61b7-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="b61b7-105">Tai užkirs kelią įvairioms duomenų atnaujinimo metu atsirandančioms klaidoms:</span><span class="sxs-lookup"><span data-stu-id="b61b7-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="b61b7-106">KB 4036156 – „Retail“ neesminis versijos atnaujinimas – „Nenustatyta varianto numerio seka.“</span><span class="sxs-lookup"><span data-stu-id="b61b7-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="b61b7-107">Šiame pataisų pakete taip pat yra KB 4035399 ir KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="b61b7-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="b61b7-108">Turėkite omenyje, kad norint naudoti šį paketą, reikia turėti mažiausiai „Platform Update 9“.</span><span class="sxs-lookup"><span data-stu-id="b61b7-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="b61b7-109">Jei nesate tikri, įdiekite naujausius dvejetainius failus.</span><span class="sxs-lookup"><span data-stu-id="b61b7-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="b61b7-110">Jei atnaujinate iš „Microsoft Dynamics AX 2012“, prieš paleisdami duomenų atnaujinimą įdiekite šias programos X++ pataisas paskirties aplinkoje:</span><span class="sxs-lookup"><span data-stu-id="b61b7-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="b61b7-111">KB 4033183 – „Dynamics AX 2012 R2“ arba „Dynamics AX 2012 R3 Pre-CU8“ nemažmeninės prekybos versijos naujinimas nepavyksta dėl nerasto objekto dbo.RETAILTILLLAYOUTZONE.</span><span class="sxs-lookup"><span data-stu-id="b61b7-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="b61b7-112">KB 4040692 – „Dynamics AX2012 R3 Microsoft Dynamics 365 for Operations“ 7.2 versijos naujinimas nepavyksta RetailSalesLine dublikato indekse SalesLineIdx.</span><span class="sxs-lookup"><span data-stu-id="b61b7-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="b61b7-113">KB 4035490 – veikimo triktis dėl GeneralJournalAccountEntry lauko MainAccount versijos naujinimo scenarijaus.</span><span class="sxs-lookup"><span data-stu-id="b61b7-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="b61b7-114">Atlikite šiuos veiksmus, norėdami paleisti aplinkos papildymo įrankį.</span><span class="sxs-lookup"><span data-stu-id="b61b7-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="b61b7-115">Bendrai naudojamo turto bibliotekoje pasirinkite **Programinės įrangos visuotinio diegimo paketą**.</span><span class="sxs-lookup"><span data-stu-id="b61b7-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="b61b7-116">Atsisiųskite aplinkos papildymo įrankį.</span><span class="sxs-lookup"><span data-stu-id="b61b7-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="b61b7-117">Projekto turto bibliotekoje pasirinkite **Programinės įrangos visuotinio diegimo paketą**.</span><span class="sxs-lookup"><span data-stu-id="b61b7-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="b61b7-118">Pasirinkite **Naujas**, kad sukurtumėte naują paketą.</span><span class="sxs-lookup"><span data-stu-id="b61b7-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="b61b7-119">Įveskite paketo pavadinimą ir aprašymą.</span><span class="sxs-lookup"><span data-stu-id="b61b7-119">Enter a name and description for the package.</span></span> <span data-ttu-id="b61b7-120">Paketą galite pavadinti **Aplinkos papildymo įrankis**.</span><span class="sxs-lookup"><span data-stu-id="b61b7-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="b61b7-121">Įkelkite paketą, kurį atsisiuntėte anksčiau.</span><span class="sxs-lookup"><span data-stu-id="b61b7-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="b61b7-122">Tikslinės aplinkos puslapyje **Aplinkos informacija** pasirinkite **Tvarkyti** > **Taikyti naujinimus**.</span><span class="sxs-lookup"><span data-stu-id="b61b7-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="b61b7-123">Pasirinkite aplinkos papildymo įrankį, kurį įkėlėte anksčiau, tada pasirinkite **Taikyti**, kad pritaikytumėte paketą.</span><span class="sxs-lookup"><span data-stu-id="b61b7-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="b61b7-124">Stebėkite paketo visuotinio diegimo eigą.</span><span class="sxs-lookup"><span data-stu-id="b61b7-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="b61b7-125">Daugiau informacijos apie tai, kaip taikyti įdiegiamą paketą, rasite [Visuotinai įdiegiamo paketo taikymas](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="b61b7-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="b61b7-126">Daugiau informacijos apie tai, kaip taikyti įdiegiamą paketą rankiniu būdu, rasite [Visuotinai įdiegiamo paketo diegimas](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="b61b7-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
