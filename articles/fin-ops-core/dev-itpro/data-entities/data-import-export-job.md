---
title: Duomenų importavimo ir eksportavimo užduočių apžvalga
description: Norėdami kurti ir valdyti duomenų importavimo bei eksportavimo užduotis, naudokite darbo sritį Duomenų valdymas.
author: Sunil-Garg
ms.date: 11/02/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1cb38c812aed60bddadce25f66ec77f4e428be71
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 03/31/2021
ms.locfileid: "5751005"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="1196c-103">Duomenų importavimo ir eksportavimo užduočių apžvalga</span><span class="sxs-lookup"><span data-stu-id="1196c-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="1196c-104">Norint kurti ir valdyti duomenų importavimo bei eksportavimo užduotis, naudojama darbo sritis **Duomenų valdymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="1196c-105">Pagal numatytuosius parametrus duomenų importavimo ir eksportavimo procesas kiekvienam paskirties duomenų bazės objektui sukuria išdėstymo lentelę.</span><span class="sxs-lookup"><span data-stu-id="1196c-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="1196c-106">Naudodami išdėstymo lenteles, galite, prieš perkeldami duomenis, juos patikrinti, išvalyti ar konvertuoti.</span><span class="sxs-lookup"><span data-stu-id="1196c-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="1196c-107">Šioje temoje laikoma, kad esate susipažinę su [duomenų objektais](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="1196c-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="1196c-108">Duomenų importavimo / eksportavimo procesas</span><span class="sxs-lookup"><span data-stu-id="1196c-108">Data import/export process</span></span>
<span data-ttu-id="1196c-109">Toliau pateikti duomenų importavimo arba eksportavimo veiksmai.</span><span class="sxs-lookup"><span data-stu-id="1196c-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="1196c-110">Sukurkite importavimo arba eksportavimo užduotį, kurioje galite atlikti tolesnes užduotis.</span><span class="sxs-lookup"><span data-stu-id="1196c-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="1196c-111">Apibrėžkite projekto kategoriją.</span><span class="sxs-lookup"><span data-stu-id="1196c-111">Define the project category.</span></span>
    - <span data-ttu-id="1196c-112">Identifikuokite importuotinus arba eksportuotinus objektus.</span><span class="sxs-lookup"><span data-stu-id="1196c-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="1196c-113">Nustatykite užduoties duomenų formatą.</span><span class="sxs-lookup"><span data-stu-id="1196c-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="1196c-114">Nustatykite objektų seką, kad jie būtų apdorojami loginėmis grupėmis ir prasminga tvarka.</span><span class="sxs-lookup"><span data-stu-id="1196c-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="1196c-115">Nustatykite, ar reikia naudoti išdėstymo lenteles.</span><span class="sxs-lookup"><span data-stu-id="1196c-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="1196c-116">Patikrinkite, ar teisingai susieti šaltinio duomenys ir paskirties duomenys.</span><span class="sxs-lookup"><span data-stu-id="1196c-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="1196c-117">Patikrinkite importavimo arba eksportavimo užduoties saugą.</span><span class="sxs-lookup"><span data-stu-id="1196c-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="1196c-118">Importavimo arba eksportavimo užduotį vykdykite.</span><span class="sxs-lookup"><span data-stu-id="1196c-118">Run the import or export job.</span></span>
5. <span data-ttu-id="1196c-119">Peržiūrėdami užduočių retrospektyvą patikrinkite, ar užduotis buvo vykdyta taip, kaip tikėtasi.</span><span class="sxs-lookup"><span data-stu-id="1196c-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="1196c-120">Išvalykite išdėstymo lenteles.</span><span class="sxs-lookup"><span data-stu-id="1196c-120">Clean up the staging tables.</span></span>

<span data-ttu-id="1196c-121">Likusiuose šios temos skyriuose pateikiama daugiau informacijos apie kiekvieną proceso veiksmą.</span><span class="sxs-lookup"><span data-stu-id="1196c-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="1196c-122">Naudokite formos atnaujinimo piktogramą, kad atnaujintumėte duomenų importavimo / eksportavimo formą ir matytumėte naujausią eigą.</span><span class="sxs-lookup"><span data-stu-id="1196c-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="1196c-123">Nerekomenduojama atnaujinti naršyklės lygio, nes ji nutrauks bet kokias importavimo / eksportavimo užduotis, kurios bys vykdomos ne bendrame pakete.</span><span class="sxs-lookup"><span data-stu-id="1196c-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="1196c-124">Importavimo arba eksportavimo užduoties kūrimas</span><span class="sxs-lookup"><span data-stu-id="1196c-124">Create an import or export job</span></span>
<span data-ttu-id="1196c-125">Duomenų importavimo arba eksportavimo užduotį galima vykdyti vieną kartą arba daug kartų.</span><span class="sxs-lookup"><span data-stu-id="1196c-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="1196c-126">Projekto kategorijos apibrėžimas</span><span class="sxs-lookup"><span data-stu-id="1196c-126">Define the project category</span></span>
<span data-ttu-id="1196c-127">Rekomenduojame atidžiai pasirinkti tinkamą importavimo arba eksportavimo užduoties projekto kategoriją.</span><span class="sxs-lookup"><span data-stu-id="1196c-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="1196c-128">Projekto kategorijos gali padėti valdyti susijusias užduotis.</span><span class="sxs-lookup"><span data-stu-id="1196c-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="1196c-129">Importuotinų arba eksportuotinų objektų identifikavimas</span><span class="sxs-lookup"><span data-stu-id="1196c-129">Identify the entities to import or export</span></span>
<span data-ttu-id="1196c-130">Į importavimo arba eksportavimo užduotį galite įtraukti konkrečių objektų arba pasirinkti taikytiną šabloną.</span><span class="sxs-lookup"><span data-stu-id="1196c-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="1196c-131">Naudojant šablonus užduotis užpildoma objektų sąrašu.</span><span class="sxs-lookup"><span data-stu-id="1196c-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="1196c-132">Užduočiai suteikus pavadinimą ir ją įrašius, galima pasirinkti parinktį **Taikyti šabloną**.</span><span class="sxs-lookup"><span data-stu-id="1196c-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="1196c-133">Užduoties duomenų formato nustatymas</span><span class="sxs-lookup"><span data-stu-id="1196c-133">Set the data format for the job</span></span>
<span data-ttu-id="1196c-134">Pasirinkę objektą, turite pasirinkti duomenų, kurie bus eksportuojami arba importuojami, formatą.</span><span class="sxs-lookup"><span data-stu-id="1196c-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="1196c-135">Formatai apibrėžiami naudojant plytelę **Duomenų šaltinių nustatymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="1196c-136">Šaltinio duomenų formatas – tai **tipo**, **failo formato**, **eilutės skyriklio** ir **stulpelio skyriklio** kombinacija.</span><span class="sxs-lookup"><span data-stu-id="1196c-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="1196c-137">Taip pat yra ir kitų atributų, bet apie šiuos žinoti yra būtina.</span><span class="sxs-lookup"><span data-stu-id="1196c-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="1196c-138">Šioje lentelėje išvardijamos leistinos kombinacijos.</span><span class="sxs-lookup"><span data-stu-id="1196c-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="1196c-139">Failo formatas</span><span class="sxs-lookup"><span data-stu-id="1196c-139">File Format</span></span>            | <span data-ttu-id="1196c-140">Eilutės / stulpelio skyriklis</span><span class="sxs-lookup"><span data-stu-id="1196c-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="1196c-141">XML stilius</span><span class="sxs-lookup"><span data-stu-id="1196c-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="1196c-142">Excel</span><span class="sxs-lookup"><span data-stu-id="1196c-142">Excel</span></span>                  | <span data-ttu-id="1196c-143">Excel</span><span class="sxs-lookup"><span data-stu-id="1196c-143">Excel</span></span>                                      | <span data-ttu-id="1196c-144">\-NA–</span><span class="sxs-lookup"><span data-stu-id="1196c-144">\-NA-</span></span>                     |
| <span data-ttu-id="1196c-145">XML</span><span class="sxs-lookup"><span data-stu-id="1196c-145">XML</span></span>                    | <span data-ttu-id="1196c-146">\-NA–</span><span class="sxs-lookup"><span data-stu-id="1196c-146">\-NA-</span></span>                                      | <span data-ttu-id="1196c-147">XML elementas XML atributas</span><span class="sxs-lookup"><span data-stu-id="1196c-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="1196c-148">Atskirtas, fiksuotas plotis</span><span class="sxs-lookup"><span data-stu-id="1196c-148">Delimited, fixed width</span></span> | <span data-ttu-id="1196c-149">Kablelis, kabliataškis, skirtukas, vertikali juosta, dvitaškis</span><span class="sxs-lookup"><span data-stu-id="1196c-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="1196c-150">\-NA–</span><span class="sxs-lookup"><span data-stu-id="1196c-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="1196c-151">Objektų sekos nustatymas</span><span class="sxs-lookup"><span data-stu-id="1196c-151">Sequence the entities</span></span>
<span data-ttu-id="1196c-152">Objektų seka gali būti nustatyta duomenų šablone arba importavimo ir eksportavimo užduotyse.</span><span class="sxs-lookup"><span data-stu-id="1196c-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="1196c-153">Vykdydami užduotį, kurioje yra daugiau nei vienas duomenų objektas, turite įsitikinti, kad nustatyta teisinga duomenų objektų seka.</span><span class="sxs-lookup"><span data-stu-id="1196c-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="1196c-154">Objektų seka pirmiausia nustatoma todėl, kad galėtumėte valdyti tarp objektų esančias funkcines priklausomybes.</span><span class="sxs-lookup"><span data-stu-id="1196c-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="1196c-155">Jei objektai funkcinių priklausomybių neturi, galima suplanuoti juos importuoti arba eksportuoti lygiagrečiai.</span><span class="sxs-lookup"><span data-stu-id="1196c-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="1196c-156">Vykdymo vienetai, lygiai ir sekos</span><span class="sxs-lookup"><span data-stu-id="1196c-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="1196c-157">Vykdymo vienetas, jo lygis ir objekto seka padeda valdyti, kokia tvarka duomenys eksportuojami ar importuojami.</span><span class="sxs-lookup"><span data-stu-id="1196c-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="1196c-158">Skirtingų vykdymo vienetų objektai apdorojami lygiagrečiai.</span><span class="sxs-lookup"><span data-stu-id="1196c-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="1196c-159">Jei objektų vykdymo vieneto lygis toks pats, jie apdorojami lygiagrečiai.</span><span class="sxs-lookup"><span data-stu-id="1196c-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="1196c-160">Kiekviename lygyje objektai apdorojami pagal jų sekos numerį tame lygyje.</span><span class="sxs-lookup"><span data-stu-id="1196c-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="1196c-161">Apdorojus vieną lygį apdorojamas kitas lygis.</span><span class="sxs-lookup"><span data-stu-id="1196c-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="1196c-162">Pakartotinis sekos nustatymas</span><span class="sxs-lookup"><span data-stu-id="1196c-162">Resequencing</span></span>
<span data-ttu-id="1196c-163">Tolesnėse situacijose galbūt norėsite iš naujo nustatyti objektų seką.</span><span class="sxs-lookup"><span data-stu-id="1196c-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="1196c-164">Jei visiems keitimams naudojama tik viena duomenų užduotis, naudodami pakartotinio sekos nustatymo parinktis galite optimizuoti visos užduoties vykdymo laiką.</span><span class="sxs-lookup"><span data-stu-id="1196c-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="1196c-165">Tokiais atvejais vykdymo vienetas gali atstoti modulį, lygis – modulio funkcijų sritį, o seka – objektą.</span><span class="sxs-lookup"><span data-stu-id="1196c-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="1196c-166">Naudodami šį metodą, galite lygiagrečiai dirbti su keliais moduliais, tačiau konkrečiame modulyje vis tiek dirbti laikydamiesi sekos.</span><span class="sxs-lookup"><span data-stu-id="1196c-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="1196c-167">Norėdami užtikrinti, kad lygiagrečios operacijos bus įvykdytos sėkmingai, turite atsižvelgti į visas priklausomybes.</span><span class="sxs-lookup"><span data-stu-id="1196c-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="1196c-168">Jei naudojamos kelios duomenų užduotys (pavyzdžiui, viena užduotis kiekvienam moduliui), nustatydami seką galite nurodyti objektų lygį ir seką, kad užduotys būtų vykdomos optimaliai.</span><span class="sxs-lookup"><span data-stu-id="1196c-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="1196c-169">Jei priklausomybių visai nėra, objektų seką gali nustatyti naudodami skirtingus vykdymo vienetus – taip pasieksite didžiausią optimizaciją.</span><span class="sxs-lookup"><span data-stu-id="1196c-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="1196c-170">Meniu **Pakartotinis sekos nustatymas** galima naudoti pasirinkus kelis objektus.</span><span class="sxs-lookup"><span data-stu-id="1196c-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="1196c-171">Iš naujo nustatyti seką galite pagal vykdymo vieneto, lygio arba sekos parinktis.</span><span class="sxs-lookup"><span data-stu-id="1196c-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="1196c-172">Galite nustatyti pakartotinės pasirinktų objektų sekos reikšmių pokytį.</span><span class="sxs-lookup"><span data-stu-id="1196c-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="1196c-173">Pagal nurodytą pokytį atnaujinamas pasirinktas kiekvieno objekto vienetas, lygis ir (arba) sekos numeris.</span><span class="sxs-lookup"><span data-stu-id="1196c-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="1196c-174">Rikiavimas</span><span class="sxs-lookup"><span data-stu-id="1196c-174">Sorting</span></span>
<span data-ttu-id="1196c-175">Naudodami parinktį **Rikiuoti pagal**, objektų sąrašą galite peržiūrėti nuosekliai.</span><span class="sxs-lookup"><span data-stu-id="1196c-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="1196c-176">Trumpinimas</span><span class="sxs-lookup"><span data-stu-id="1196c-176">Truncating</span></span>
<span data-ttu-id="1196c-177">Dirbdami su importo projektais galite prieš importuodami sutrumpinti objektų įrašus.</span><span class="sxs-lookup"><span data-stu-id="1196c-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="1196c-178">Tai naudinga, kai įrašus reikia importuoti į švarų lentelių rinkinį.</span><span class="sxs-lookup"><span data-stu-id="1196c-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="1196c-179">Pagal numatytuosius nustatymus šis parametras išjungtas.</span><span class="sxs-lookup"><span data-stu-id="1196c-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="1196c-180">Patikrinimas, ar teisingai susieti šaltinio duomenys ir paskirties duomenys</span><span class="sxs-lookup"><span data-stu-id="1196c-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="1196c-181">Susiejimo funkcija taikoma tiek importavimo, tiek eksportavimo užduotims.</span><span class="sxs-lookup"><span data-stu-id="1196c-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="1196c-182">Importavimo užduoties kontekste susiejimo funkcija nurodo, kurie šaltinio failo stulpeliai tampa išdėstymo lentelės stulpeliais.</span><span class="sxs-lookup"><span data-stu-id="1196c-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="1196c-183">Taip sistema gali nustatyti, kuriuos šaltinio failo stulpelių duomenis reikia nukopijuoti į kurį išdėstymo lentelės stulpelį.</span><span class="sxs-lookup"><span data-stu-id="1196c-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="1196c-184">Eksportavimo užduoties kontekste susiejimo funkcija nurodo, kurie išdėstymo lentelės (tai yra, šaltinio) stulpeliai tampa paskirties failo stulpeliais.</span><span class="sxs-lookup"><span data-stu-id="1196c-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="1196c-185">Jei išdėstymo lentelės ir failo stulpelių pavadinimai sutampa, sistema pagal juos automatiškai nustato susiejimą.</span><span class="sxs-lookup"><span data-stu-id="1196c-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="1196c-186">Tačiau, jei pavadinimai skiriasi, stulpeliai automatiškai nesusiejami.</span><span class="sxs-lookup"><span data-stu-id="1196c-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="1196c-187">Tokiais atvejais atlikti susiejimą turite prie duomenų užduoties objekto pasirinkdami parinktį **Peržiūrėti schemą**.</span><span class="sxs-lookup"><span data-stu-id="1196c-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="1196c-188">Yra du susiejimo rodiniai: **Susiejimo vizualizacija** (numatytasis rodinys) ir **Susiejimo informacija**.</span><span class="sxs-lookup"><span data-stu-id="1196c-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="1196c-189">Raudona žvaigždute (\*) nurodomi būtinieji objekto laukai.</span><span class="sxs-lookup"><span data-stu-id="1196c-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="1196c-190">Kad galėtumėte dirbti su objektu, šiuos laukus reikia susieti.</span><span class="sxs-lookup"><span data-stu-id="1196c-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="1196c-191">Dirbdami su objektu pagal poreikį galite atsieti kitus laukus.</span><span class="sxs-lookup"><span data-stu-id="1196c-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="1196c-192">Norėdami atsieti lauką, jį pasirinkite stulpelyje **Objektas** arba stulpelyje **Šaltinis**, o tada pasirinkite **Naikinti pasirinktį**.</span><span class="sxs-lookup"><span data-stu-id="1196c-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="1196c-193">Pasirinkite **Įrašyti**, kad įrašytumėte keitimus, ir uždarykite puslapį, kad grįžtumėte į projektą.</span><span class="sxs-lookup"><span data-stu-id="1196c-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="1196c-194">Naudodami tą patį procesą, po importavimo galite redaguoti lauko susiejimą (iš šaltinio į išdėstymą).</span><span class="sxs-lookup"><span data-stu-id="1196c-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="1196c-195">Puslapyje susiejimą galite sugeneruoti pasirinkdami **Generuoti šaltinio susiejimą**.</span><span class="sxs-lookup"><span data-stu-id="1196c-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="1196c-196">Sugeneruotas susiejimas veikia taip, kaip automatinis susiejimas.</span><span class="sxs-lookup"><span data-stu-id="1196c-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="1196c-197">Todėl turite rankiniu būdu susieti visus nesusietus laukus.</span><span class="sxs-lookup"><span data-stu-id="1196c-197">Therefore, you must manually map any unmapped fields.</span></span>

![Duomenų susiejimas](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="1196c-199">Importavimo arba eksportavimo užduoties saugos tikrinimas</span><span class="sxs-lookup"><span data-stu-id="1196c-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="1196c-200">Prieigą prie darbo srities **Duomenų valdymas** galima apriboti, kad administratoriaus teisių neturintys vartotojai galėtų pasiekti tik konkrečias duomenų užduotis.</span><span class="sxs-lookup"><span data-stu-id="1196c-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="1196c-201">Prieiga prie duomenų užduoties reiškia visišką prieigą prie tos užduoties vykdymo retrospektyvos ir prieigą prie išdėstymo lentelių.</span><span class="sxs-lookup"><span data-stu-id="1196c-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="1196c-202">Todėl turite įsitikinti, kad kuriant duomenų užduotį nustatomi tinkami prieigos valdikliai.</span><span class="sxs-lookup"><span data-stu-id="1196c-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="1196c-203">Užduoties apsauga pagal vaidmenis ir vartotojus</span><span class="sxs-lookup"><span data-stu-id="1196c-203">Secure a job by roles and users</span></span>
<span data-ttu-id="1196c-204">Naudodami meniu **Taikytini vaidmenys**, užduotį galite apriboti taip, kad ją galėtų pasiekti tik vienas ar keli saugos vaidmenys.</span><span class="sxs-lookup"><span data-stu-id="1196c-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="1196c-205">Prieigą prie užduoties turės tik tuos vaidmenis turintys vartotojai.</span><span class="sxs-lookup"><span data-stu-id="1196c-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="1196c-206">Užduotį taip pat galite apriboti taip, kad ją galėtų pasiekti tik konkretūs vartotojai.</span><span class="sxs-lookup"><span data-stu-id="1196c-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="1196c-207">Užduotį apsaugojus ne pagal vaidmenis, o pagal vartotojus, turite daugiau valdymo galimybių, jei vaidmeniui priskiriami keli vartotojai.</span><span class="sxs-lookup"><span data-stu-id="1196c-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="1196c-208">Užduoties apsauga pagal juridinį subjektą</span><span class="sxs-lookup"><span data-stu-id="1196c-208">Secure a job by legal entity</span></span>
<span data-ttu-id="1196c-209">Duomenų užduotys yra visuotinio pobūdžio.</span><span class="sxs-lookup"><span data-stu-id="1196c-209">Data jobs are global in nature.</span></span> <span data-ttu-id="1196c-210">Todėl, jei duomenų užduotis buvo sukurta ir naudojama kokiame nors juridiniame subjekte, ji bus matoma kituose sistemos juridiniuose subjektuose.</span><span class="sxs-lookup"><span data-stu-id="1196c-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="1196c-211">Toks numatytasis veikimas gali būti pageidaujamas kai kuriose taikymo situacijose.</span><span class="sxs-lookup"><span data-stu-id="1196c-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="1196c-212">Pavyzdžiui, organizacija, sąskaitas faktūras importuojanti naudodama duomenų objektus, gali sudaryti centralizuotą sąskaitų faktūrų apdorojimo komandą, atsakingą už visuose organizacijos padaliniuose įvykstančių sąskaitų faktūrų klaidų valdymą.</span><span class="sxs-lookup"><span data-stu-id="1196c-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="1196c-213">Tokioje situacijoje centralizuotai sąskaitų faktūrų apdorojimo komandai naudinga turėti prieigą prie sąskaitų faktūrų importavimo užduočių, gaunamų iš visų juridinių subjektų.</span><span class="sxs-lookup"><span data-stu-id="1196c-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="1196c-214">Todėl numatytasis veikimas atitinka juridinio subjekto poreikį.</span><span class="sxs-lookup"><span data-stu-id="1196c-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="1196c-215">Tačiau organizacija gali norėti sąskaitų faktūrų apdorojimo komandas sudaryti kiekvienam juridiniam subjektui.</span><span class="sxs-lookup"><span data-stu-id="1196c-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="1196c-216">Tokiu atveju konkretaus juridinio subjekto komanda turi turėti prieigą tik prie savo juridinio subjekto sąskaitų faktūrų importavimo užduočių.</span><span class="sxs-lookup"><span data-stu-id="1196c-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="1196c-217">Norėdami patenkinti šį reikalavimą, galite sukonfigūruoti prieigos prie duomenų užduočių valdymą pagal juridinius subjektus – naudokite duomenų užduoties meniu **Taikytini juridiniai subjektai**.</span><span class="sxs-lookup"><span data-stu-id="1196c-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="1196c-218">Tai sukonfigūravus, vartotojai gali matyti tik to juridinio subjekto, prie kurio jie šiuo metu yra prisijungę, užduotis.</span><span class="sxs-lookup"><span data-stu-id="1196c-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="1196c-219">Norėdami matyti kito juridinio subjekto užduotis, vartotojai turi pereiti į tą juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="1196c-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="1196c-220">Užduotį tuo pačiu metu galima apsaugoti pagal vaidmenis, vartotojus ir juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="1196c-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="1196c-221">Importavimo arba eksportavimo užduoties vykdymas</span><span class="sxs-lookup"><span data-stu-id="1196c-221">Run the import or export job</span></span>
<span data-ttu-id="1196c-222">Apibrėžę užduotį, ją galite vieną kartą vykdyti pasirinkdami mygtuką **Importuoti** arba **Eksportuoti**.</span><span class="sxs-lookup"><span data-stu-id="1196c-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="1196c-223">Norėdami nustatyti pasikartojančią užduotį, pasirinkite **Kurti pasikartojančią duomenų užduotį**.</span><span class="sxs-lookup"><span data-stu-id="1196c-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="1196c-224">Importavimo arba eksportavimo užduotį galima vykdyti pasirinkus mygtuką **Importuoti** arba **Eksportuoti**.</span><span class="sxs-lookup"><span data-stu-id="1196c-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="1196c-225">Tada paketinė užduotis bus suplanuota vykdyti tik vieną kartą.</span><span class="sxs-lookup"><span data-stu-id="1196c-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="1196c-226">Užduotis gali nebūti vykdoma iš karto, jei paketinio vykdymo tarnyba ribojama dėl jos apkrovos.</span><span class="sxs-lookup"><span data-stu-id="1196c-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="1196c-227">Užduotis taip pat galima vykdyti sinchroniškai pasirinkus **Importuoti dabar** arba **Eksportuoti dabar**.</span><span class="sxs-lookup"><span data-stu-id="1196c-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="1196c-228">Tokiu būdu užduotis pradedama iš karto ir tai naudinga, jei paketinė užduotis nepradedama dėl ribojimo.</span><span class="sxs-lookup"><span data-stu-id="1196c-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="1196c-229">Užduotys taip pat gali būti planuojamos vykdyti vėliau.</span><span class="sxs-lookup"><span data-stu-id="1196c-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="1196c-230">Tai galima padaryti pasirenkant parinktį **Paketinis vykdymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="1196c-231">Paketo ištekliuose gali būti vykdomas užklausų buferizavimas, todėl paketinė užduotis gali būti pradėta ne iš karto.</span><span class="sxs-lookup"><span data-stu-id="1196c-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="1196c-232">Rekomenduojama naudoti paketą, nes jis taip pat padės dirbti su dideliais duomenų kiekiais, kuriuos reikia importuoti arba eksportuoti.</span><span class="sxs-lookup"><span data-stu-id="1196c-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="1196c-233">Paketines užduotis galima suplanuoti vykdyti konkrečioje paketinėje grupėje, todėl turėsite daugiau valdymo funkcijų, susijusių su apkrovų paskirstymu.</span><span class="sxs-lookup"><span data-stu-id="1196c-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="1196c-234">Tikrinimas, ar užduotis įvykdyta taip, kaip tikėtasi</span><span class="sxs-lookup"><span data-stu-id="1196c-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="1196c-235">Norint nustatyti ir ištirti importavimo bei eksportavimo užduočių triktis, galima naudoti jų retrospektyvą.</span><span class="sxs-lookup"><span data-stu-id="1196c-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="1196c-236">Retrospektyviniai užduoties vykdymai sisteminami pagal laiko intervalus.</span><span class="sxs-lookup"><span data-stu-id="1196c-236">Historical job runs are organized by time ranges.</span></span>

![Užduoties retrospektyvos intervalai](./media/dixf-job-history.md.png)

<span data-ttu-id="1196c-238">Kiekvieną kartą vykdant užduotį pateikiama tolesnė informacija.</span><span class="sxs-lookup"><span data-stu-id="1196c-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="1196c-239">Vykdymo informacija</span><span class="sxs-lookup"><span data-stu-id="1196c-239">Execution details</span></span>
- <span data-ttu-id="1196c-240">Vykdymo žurnalas</span><span class="sxs-lookup"><span data-stu-id="1196c-240">Execution log</span></span>

<span data-ttu-id="1196c-241">Vykdymo informacijoje rodoma kiekvieno duomenų objekto, kurį užduotis apdorojo, būsena.</span><span class="sxs-lookup"><span data-stu-id="1196c-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="1196c-242">Todėl galite greitai rasti tolesnę informaciją.</span><span class="sxs-lookup"><span data-stu-id="1196c-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="1196c-243">Kurie objektai buvo apdoroti</span><span class="sxs-lookup"><span data-stu-id="1196c-243">Which entities were processed.</span></span>
- <span data-ttu-id="1196c-244">Kiek objekto įrašų buvo sėkmingai apdoroti ir kiek apdoroti nepavyko</span><span class="sxs-lookup"><span data-stu-id="1196c-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="1196c-245">Kiekvieno objekto išdėstymo įrašai</span><span class="sxs-lookup"><span data-stu-id="1196c-245">The staging records for each entity.</span></span>

<span data-ttu-id="1196c-246">Išdėstymo duomenis galite atsisiųsti kaip eksportavimo užduočių failą arba kaip importavimo ir eksportavimo užduočių paketą.</span><span class="sxs-lookup"><span data-stu-id="1196c-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="1196c-247">Vykdymo informacijos srityje taip pat galite atidaryti vykdymo žurnalą.</span><span class="sxs-lookup"><span data-stu-id="1196c-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="1196c-248">Lygiagretus importavimas</span><span class="sxs-lookup"><span data-stu-id="1196c-248">Parallel imports</span></span>
<span data-ttu-id="1196c-249">Norint pagreitinti duomenų importavimą, galima įjungti lygiagretų failo importavimo apdorojimą, jei objektas palaiko lygiagretų importavimą.</span><span class="sxs-lookup"><span data-stu-id="1196c-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="1196c-250">Norėdami sukonfigūruoti objekto lygiagretų importavimą, atlikite toliau pateiktus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="1196c-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="1196c-251">Eikite į **Sistemos administravimas \> Darbo sritys \> Duomenų valdymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="1196c-252">Skyriuje **Importavimas / eksportavimas** pasirinkite plytelę **Sistemos parametrai**, kad atidarytumėte puslapį **Duomenų importavimo / eksportavimo sistemos parametrai**.</span><span class="sxs-lookup"><span data-stu-id="1196c-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="1196c-253">Skirtuke **Objekto parametrai** pasirinkite **Konfigūruoti objekto vykdymo parametrus**, kad atidarytumėte puslapį **Objekto importavimo vykdymo parametrai**.</span><span class="sxs-lookup"><span data-stu-id="1196c-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="1196c-254">Nustatyti toliau pateiktus laukus, kad sukonfigūruotumėte objekto lygiagretų importavimą.</span><span class="sxs-lookup"><span data-stu-id="1196c-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="1196c-255">Lauke **Objektas** pasirinkite objektą.</span><span class="sxs-lookup"><span data-stu-id="1196c-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="1196c-256">Lauke **Importavimo įrašų ribinė reikšmė** įveskite importavimo įrašų ribinę reikšmę.</span><span class="sxs-lookup"><span data-stu-id="1196c-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="1196c-257">Ji nurodo įrašų, kuriuos reikia apdoroti naudojant giją, skaičių.</span><span class="sxs-lookup"><span data-stu-id="1196c-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="1196c-258">Jei faile yra 10 000 įrašų, o 2 500 įrašų yra 4 užduotys, kiekviena gija apdoros 2 500 įrašų.</span><span class="sxs-lookup"><span data-stu-id="1196c-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="1196c-259">Lauke **Importavimo užduočių skaičius** įveskite importavimo užduočių skaičių.</span><span class="sxs-lookup"><span data-stu-id="1196c-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="1196c-260">Jis neturi viršyti maksimalaus paketo apdorojimui priskirto paketinių gijų skaičiaus dalyje **Sistemos administravimas \>Serverio konfigūravimas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="clean-up-the-staging-tables"></a><span data-ttu-id="1196c-261">Išdėstymo lentelių valymas</span><span class="sxs-lookup"><span data-stu-id="1196c-261">Clean up the staging tables</span></span>
<span data-ttu-id="1196c-262">Pradedant platformos 29 naujinimu, ši funkcija buvo nebenaudojama.</span><span class="sxs-lookup"><span data-stu-id="1196c-262">Starting in Platform update 29, this functionality has been deprecated.</span></span> <span data-ttu-id="1196c-263">Ji pakeista nauja užduočių retrospektyvos valymo funkcija, kuri paaiškinama toliau.</span><span class="sxs-lookup"><span data-stu-id="1196c-263">This is replaced by a new version of job history clean-up functionality explained below.</span></span>

<span data-ttu-id="1196c-264">Išvalyti išdėstymo lenteles galite naudodami darbo srities **Duomenų valdymas** funkciją **Išdėstymo valymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-264">You can clean up staging tables by using the **Staging clean up** feature in the **Data management** workspace.</span></span> <span data-ttu-id="1196c-265">Norėdami pasirinkti, kurioje išdėstymo lentelėje reikia panaikinti kuriuos įrašus, galite naudoti tolesnes parinktis.</span><span class="sxs-lookup"><span data-stu-id="1196c-265">You can use the following options to select which records should be deleted from which staging table:</span></span>

- <span data-ttu-id="1196c-266">**Objektas** – jei pateiktas tik objektas, panaikinami visi to objekto išdėstymo lentelės įrašai.</span><span class="sxs-lookup"><span data-stu-id="1196c-266">**Entity** – If only an entity is provided, all records from that entity’s staging table are deleted.</span></span> <span data-ttu-id="1196c-267">Pasirinkite šią parinktį, kad visus objekto duomenis išvalytumėte visuose duomenų projektuose ir visose užduotyse.</span><span class="sxs-lookup"><span data-stu-id="1196c-267">Select this option to clean up all the data for the entity across all data projects and all jobs.</span></span>
- <span data-ttu-id="1196c-268">**Užduoties ID** – jei pateikta tik užduoties ID, visi visų pasirinktos užduoties objektų įrašai panaikinami atitinkamose išdėstymo lentelėse.</span><span class="sxs-lookup"><span data-stu-id="1196c-268">**Job ID** – If only a job ID is provided, all records for all entities in the selected job are deleted from the appropriate staging tables.</span></span>
- <span data-ttu-id="1196c-269">**Duomenų projektai** – jei pasirinktas tik duomenų projektas, panaikinami visi visų objektų ir visų pasirinktų duomenų užduočių įrašai.</span><span class="sxs-lookup"><span data-stu-id="1196c-269">**Data projects** – If only a data project is selected, all records for all entities and across all jobs for the selected data project are deleted.</span></span>

<span data-ttu-id="1196c-270">Parinktis taip pat galite jungti ir taip dar labiau apriboti naikintinų įrašų rinkinį.</span><span class="sxs-lookup"><span data-stu-id="1196c-270">You can also combine the options to further restrict the record set that is deleted.</span></span>

## <a name="job-history-clean-up-available-in-platform-update-29-and-later"></a><span data-ttu-id="1196c-271">Užduočių retrospektyvos valymas (pasiekiama platformos 29 ir vėlesniuose naujinimuose)</span><span class="sxs-lookup"><span data-stu-id="1196c-271">Job history clean up (available in Platform update 29 and later)</span></span>

<span data-ttu-id="1196c-272">Užduočių retrospektyvos valymo funkcija duomenų valdyme turi būti naudojama periodiniui vykdymo retrospektyvos valymui planuoti.</span><span class="sxs-lookup"><span data-stu-id="1196c-272">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="1196c-273">Ši funkcija pakeičia ankstesnę išdėstymo lentelės valymo funkciją, kuri dabar nebenaudojama.</span><span class="sxs-lookup"><span data-stu-id="1196c-273">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="1196c-274">Šios lentelės bus išvalytos pagal valymo procesą.</span><span class="sxs-lookup"><span data-stu-id="1196c-274">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="1196c-275">Visos išdėstymo lentelės</span><span class="sxs-lookup"><span data-stu-id="1196c-275">All staging tables</span></span>

-   <span data-ttu-id="1196c-276">DMF išdėstymo tikrinimo žurnalas</span><span class="sxs-lookup"><span data-stu-id="1196c-276">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="1196c-277">DMF išdėstymo vykdymo klaidos</span><span class="sxs-lookup"><span data-stu-id="1196c-277">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="1196c-278">DMF išdėstymo žurnalo išsami informacija</span><span class="sxs-lookup"><span data-stu-id="1196c-278">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="1196c-279">DMF išdėstymo žurnalas</span><span class="sxs-lookup"><span data-stu-id="1196c-279">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="1196c-280">DMF aprašo grupės vykdymo retrospektyva</span><span class="sxs-lookup"><span data-stu-id="1196c-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="1196c-281">DMF vykdymas</span><span class="sxs-lookup"><span data-stu-id="1196c-281">DMFEXECUTION</span></span>

-   <span data-ttu-id="1196c-282">DMF aprašo grupės vykdymas</span><span class="sxs-lookup"><span data-stu-id="1196c-282">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="1196c-283">Turite įjungti funkciją **Vykdymo retrospektyvos valymas** funkcijų valdymo srityje ir tada galite ją pasiekti nuėję į **Duomenų valdymas \> Užduoties retrospektyvos valymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-283">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="1196c-284">Planavimo parametrai</span><span class="sxs-lookup"><span data-stu-id="1196c-284">Scheduling parameters</span></span>

<span data-ttu-id="1196c-285">Planuodami valymo procesą, turite nurodyti šiuos parametrus, kad apibrėžtumėte valymo kriterijus.</span><span class="sxs-lookup"><span data-stu-id="1196c-285">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="1196c-286">**„Dienų, kiek saugoma retrospektyva, skaičius“** – šis parametras naudojamas kontroliuoti vykdymo retrospektyvos saugomą kiekį.</span><span class="sxs-lookup"><span data-stu-id="1196c-286">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="1196c-287">– Lauke nurodytas dienų skaičius.</span><span class="sxs-lookup"><span data-stu-id="1196c-287">This is specified in number of days.</span></span> <span data-ttu-id="1196c-288">Kai valymo užduotis suplanuota kaip pasikartojanti paketinė užduotis, šis parametras veiks kaip nuolat judantis langas, tokiu būdu visada palikdamas retrospektyvą nepaliestą tam tikram nurodytam dienų skaičiui, naikindamas likusią dalį.</span><span class="sxs-lookup"><span data-stu-id="1196c-288">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="1196c-289">Numatytoji vertė yra 7.</span><span class="sxs-lookup"><span data-stu-id="1196c-289">The default is 7 days.</span></span>

-   <span data-ttu-id="1196c-290">**„Valandų skaičius, reikalingas užduočiai įvykdyti“** – priklausomai nuo retrospektyvos, kurią reikia išvalyti, kiekio, bendras valymo užduoties vykdymo laikas gali svyruoti nuo kelių minučių iki kelių valandų.</span><span class="sxs-lookup"><span data-stu-id="1196c-290">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="1196c-291">Šis parametras turi būti nustatytas kaip valandų, kurias bus vykdoma užduotis, skaičius.</span><span class="sxs-lookup"><span data-stu-id="1196c-291">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="1196c-292">Po to, kai nurodytą valandų skaičių vykdoma išvalymo užduotis, ji bus išjungta ir vėl bus tęsiama pagal pasikartojimo grafiką.</span><span class="sxs-lookup"><span data-stu-id="1196c-292">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="1196c-293">Maksimalų įvykdymo laiką galima nurodyti nustatant maksimalią valandų skaičiaus ribą, per kurią užduotis turi būti vykdoma naudojant šį parametrą.</span><span class="sxs-lookup"><span data-stu-id="1196c-293">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="1196c-294">Valymo logika vienu metu remiasi vienos užduoties vykdymo ID chronologine tvarka išdėstyta seka, kur seniausia užduotis yra pirmoji susijusios vykdymo retrospektyvos valymui.</span><span class="sxs-lookup"><span data-stu-id="1196c-294">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="1196c-295">Ji nustos rinkti naujo vykdymo ID valymui, kai likusi vykdymo trukmė yra nurodytos trukmės paskutiniuose 10 %.</span><span class="sxs-lookup"><span data-stu-id="1196c-295">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="1196c-296">Kai kuriais atvejais tikimasi, kad valymo užduotis tęsis ilgiau nei nurodytas maksimalus laikas.</span><span class="sxs-lookup"><span data-stu-id="1196c-296">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="1196c-297">Tai daugiausia priklausys nuo dabartinio vykdymo ID, kuris buvo pradėtas prieš 10% slenkstį, įrašų, kuriuos reikia panaikinti, skaičiaus.</span><span class="sxs-lookup"><span data-stu-id="1196c-297">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="1196c-298">Pradėtas išvalymas turi būti užbaigtas siekiant užtikrinti duomenų vientisumą, o tai reiškia, kad išvalymas tęsis nepaisant nurodyto limito viršijimo.</span><span class="sxs-lookup"><span data-stu-id="1196c-298">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="1196c-299">Kai valymas bus baigtas, naujas vykdymo ID neįtraukiamas ir valymo užduotis yra baigiama.</span><span class="sxs-lookup"><span data-stu-id="1196c-299">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="1196c-300">Likusi vykdymo istorija, kuri nebuvo išvalyta dėl pakankamo vykdymo laiko trūkumo, bus įtraukta į kitą valymo užduoties planuojamą kartą.</span><span class="sxs-lookup"><span data-stu-id="1196c-300">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="1196c-301">Numatytoji ir minimali šio parametro reikšmė nustatyta kaip 2 valandos.</span><span class="sxs-lookup"><span data-stu-id="1196c-301">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="1196c-302">**„Pasikartojantis paketas“** – valymo užduotį galima vykdyti vieną kartą rankiniu būdu, arba ji taip pat gali būti suplanuota pasikartojančiam vykdymui pakete.</span><span class="sxs-lookup"><span data-stu-id="1196c-302">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="1196c-303">Paketas gali būti planuojamas naudojant **Vykdyti fone** parametrus, tai yra standartinis paketo nustatymas.</span><span class="sxs-lookup"><span data-stu-id="1196c-303">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="1196c-304">Jei įrašai išdėstymo lentelėse iki galo nėra išvalyti, įsitikinkite, kad valymo užduotis yra suplanuota vykdyti pasikartojančiu grafiku.</span><span class="sxs-lookup"><span data-stu-id="1196c-304">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="1196c-305">Kaip paaiškinta pirmiau, bet kuriuo valymo vykdymo metu užduotis išvalys tik tiek vykdymo ID, kiek galės per nustatytą maksimalų valandų skaičių.</span><span class="sxs-lookup"><span data-stu-id="1196c-305">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="1196c-306">Kad būtų galima tęsti visų likusių išdėstymo įrašų valymą, užduotis turi būti suplanuota vykdyti periodiškai.</span><span class="sxs-lookup"><span data-stu-id="1196c-306">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="1196c-307">Užduoties retrospektyvos valymas ir archyvavimas (galima peržiūros versija, naudojant 39 „Platform update“ arba 10.0.15 versiją)</span><span class="sxs-lookup"><span data-stu-id="1196c-307">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="1196c-308">Užduoties retrospektyvos valymo ir archyvavimo funkcija pakeičia ankstesnes valymo funkcijos versijas.</span><span class="sxs-lookup"><span data-stu-id="1196c-308">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="1196c-309">Šiame skyriuje bus paaiškintos naujos galimybės.</span><span class="sxs-lookup"><span data-stu-id="1196c-309">This section will explain these new capabilities.</span></span>

<span data-ttu-id="1196c-310">Vienas iš pagrindinių valymo funkcijos pakeitimų yra sistemos paketinės užduoties naudojimas retrospektyvai valyti.</span><span class="sxs-lookup"><span data-stu-id="1196c-310">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="1196c-311">Naudodamos sistemos paketinę užduotį, „Finance and Operations“ programos gali automatiškai planuoti ir vykdyti paketines valymo užduotis, kai sistema parengta.</span><span class="sxs-lookup"><span data-stu-id="1196c-311">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="1196c-312">Nebereikia paketinės užduoties planuoti neautomatiniu būdu.</span><span class="sxs-lookup"><span data-stu-id="1196c-312">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="1196c-313">Šiuo numatytuoju vykdymo režimu paketinė užduotis bus vykdoma kiekvieną valandą nuo 12 val. nakties ir išlaikys vykdymo retrospektyvą pastarąsias 7 dienas.</span><span class="sxs-lookup"><span data-stu-id="1196c-313">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="1196c-314">Išvalyta retrospektyva archyvuojama, kad ją būtų galima gauti ateityje.</span><span class="sxs-lookup"><span data-stu-id="1196c-314">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="1196c-315">Kadangi ši funkcija veikia kaip peržiūros versija, sistemos paketinė užduotis nepanaikins jokios vykdymo retrospektyvos, kol ji bus įjungta per testą DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="1196c-315">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="1196c-316">Kai priemonė bus visuotinai prieinama būsimame leidime, šis testas nebus būtinas, o sistemos paketinė užduotis pradės valyti ir archyvuoti, kai sistema bus parengta, pagal nustatytą grafiką, kaip paaiškinta pirmiau.</span><span class="sxs-lookup"><span data-stu-id="1196c-316">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="1196c-317">Būsimame leidime ankstesnės valymo funkcijos versijos bus pašalintos iš „Finance and Operations“ programų.</span><span class="sxs-lookup"><span data-stu-id="1196c-317">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="1196c-318">Antrasis valymo proceso pakeitimas yra išvalytos vykdymo retrospektyvos archyvavimas.</span><span class="sxs-lookup"><span data-stu-id="1196c-318">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="1196c-319">Išvalymo užduotis archyvuoja panaikintus įrašus didelių dvejetainių objektų saugykloje, kurią DIXF naudoja įprastai integracijai.</span><span class="sxs-lookup"><span data-stu-id="1196c-319">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="1196c-320">Suarchyvuotas failas bus DIXF paketo formatu ir bus pasiekiamas 7 dienas didelių dvejetainių objektų saugykloje – tada jį bus galima atsisiųsti.</span><span class="sxs-lookup"><span data-stu-id="1196c-320">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="1196c-321">Numatytąją 7 dienų suarchyvuoto failo laikymą parametruose galima pakeisti į ne daugiau nei 90 dienų.</span><span class="sxs-lookup"><span data-stu-id="1196c-321">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="1196c-322">Numatytųjų parametrų keitimas</span><span class="sxs-lookup"><span data-stu-id="1196c-322">Changing the default settings</span></span>
<span data-ttu-id="1196c-323">Ši funkcija šiuo metu yra kaip peržiūros versija ir ji turi būti atskirai įjungta, įjungiant testą DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="1196c-323">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="1196c-324">Išdėstymo valymo funkcija taip pat turi būti įjungta funkcijų valdymo srityje.</span><span class="sxs-lookup"><span data-stu-id="1196c-324">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="1196c-325">Norėdami pakeisti numatytąjį suarchyvuoto failo laikymo parametrą, eikite į duomenų valdymo darbo sritį ir pasirinkite **Užduoties retrospektyvos valymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-325">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="1196c-326">Parinktį **Kiek dienų paketą laikyti didelių dvejetainių objektų saugykloje** nustatykite kaip reikšmę nuo 7 iki 90 (imtinai).</span><span class="sxs-lookup"><span data-stu-id="1196c-326">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="1196c-327">Tai įsigalios archyvuose, sukurtame po šio pakeitimo.</span><span class="sxs-lookup"><span data-stu-id="1196c-327">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="1196c-328">Suarchyvuoto paketo atsisiuntimas</span><span class="sxs-lookup"><span data-stu-id="1196c-328">Downloading the archived package</span></span>
<span data-ttu-id="1196c-329">Ši funkcija šiuo metu yra kaip peržiūros versija ir ji turi būti atskirai įjungta, įjungiant testą DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="1196c-329">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="1196c-330">Išdėstymo valymo funkcija taip pat turi būti įjungta funkcijų valdymo srityje.</span><span class="sxs-lookup"><span data-stu-id="1196c-330">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="1196c-331">Norėdami atsisiųsti suarchyvuotą vykdymo retrospektyvą, eikite į duomenų tvarkymo darbo sritį ir pasirinkite **Užduoties retrospektyvos valymas**.</span><span class="sxs-lookup"><span data-stu-id="1196c-331">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="1196c-332">Norėdami atidaryti retrospektyvos formą, pasirinkite **Paketų atsarginių kopijų retrospektyva**.</span><span class="sxs-lookup"><span data-stu-id="1196c-332">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="1196c-333">Šioje formoje pateikiamas visų archyvuotų paketų sąrašas.</span><span class="sxs-lookup"><span data-stu-id="1196c-333">This form shows the list of all archived packages.</span></span> <span data-ttu-id="1196c-334">Archyvą galima pasirinkti ir atsisiųsti pasirenkant **Atsisiųsti paketą**.</span><span class="sxs-lookup"><span data-stu-id="1196c-334">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="1196c-335">Atsisiųstas paketas bus DIXF paketo formato ir jame bus tolesni failai.</span><span class="sxs-lookup"><span data-stu-id="1196c-335">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="1196c-336">Objektų išdėstymo lentelės failas</span><span class="sxs-lookup"><span data-stu-id="1196c-336">The entity staging table file</span></span>
-   <span data-ttu-id="1196c-337">DMF aprašo grupės vykdymas</span><span class="sxs-lookup"><span data-stu-id="1196c-337">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="1196c-338">DMF aprašo grupės vykdymo retrospektyva</span><span class="sxs-lookup"><span data-stu-id="1196c-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="1196c-339">DMF vykdymas</span><span class="sxs-lookup"><span data-stu-id="1196c-339">DMFEXECUTION</span></span>
-   <span data-ttu-id="1196c-340">DMF išdėstymo vykdymo klaidos</span><span class="sxs-lookup"><span data-stu-id="1196c-340">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="1196c-341">DMF išdėstymo žurnalas</span><span class="sxs-lookup"><span data-stu-id="1196c-341">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="1196c-342">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="1196c-342">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="1196c-343">DMF išdėstymo tikrinimo žurnalas</span><span class="sxs-lookup"><span data-stu-id="1196c-343">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]