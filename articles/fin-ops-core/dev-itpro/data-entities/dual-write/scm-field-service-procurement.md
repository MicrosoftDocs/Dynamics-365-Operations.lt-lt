---
title: Įsigijimo tarp „Supply Chain Management” ir „Field Service” integracija
description: Šioje temoje aprašoma, kaip dvigubo rašymo integravimas palaiko pirkimo užsakymų kūrimą ir atnaujina tiek „Supply Chain Management” ir „Field Service”.
author: RichardLuan
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: rhaertle
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: c50aabf94ae37b7b7b214699160bf958ad3ea9fd
ms.sourcegitcommit: 2cc14f6c537628e79ad2dd17dabf2c246deaa40d
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 06/09/2021
ms.locfileid: "6219792"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a><span data-ttu-id="dc7f8-103">Įsigijimo tarp „Supply Chain Management” ir „Field Service” integracija</span><span class="sxs-lookup"><span data-stu-id="dc7f8-103">Integrate procurement between Supply Chain Management and Field Service</span></span>

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="dc7f8-104">„Microsoft Dynamics 365 Supply Chain Management” leidžia naudotis patikimomis įsigijimo funkcijomis.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-104">Microsoft Dynamics 365 Supply Chain Management provides robust procurement functionality.</span></span> <span data-ttu-id="dc7f8-105">„Dynamics 365 Field Service” siūlo panašias funkcijas, palaikančias pirkimo procesus, susietus su aptarnavimo procesu.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-105">Dynamics 365 Field Service offers similar functionality that supports the purchasing processes that are associated with the service process.</span></span> <span data-ttu-id="dc7f8-106">Šių dviejų programėlių funkcijos integruojamos naudojant dvigubo rašymo funkciją, o gauti kryžminio naudojimo atvejai įgalinti lentelių susiejimuose, sprendimų logikoje, rodiniuose ir formose.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-106">The functionality in these two apps is integrated through dual-write, and the resulting cross-functional use cases are enabled through table mappings, solution logic, views, and forms.</span></span>

<span data-ttu-id="dc7f8-107">Ši integracija palaiko pirkimo užsakymų kūrimą ir, daugeliu atvejų, abiejų programėlių atnaujinimus.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-107">This integration supports purchase order creation and, in most cases, updates from both apps.</span></span> <span data-ttu-id="dc7f8-108">Tačiau „Supply Chain Management” kontroliuoja kainodarą, adresus ir produkto kvitą.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-108">However, Supply Chain Management controls pricing, addresses, and product receipt.</span></span> <span data-ttu-id="dc7f8-109">Organizacijose, kurios naudoja ir „Field Service” ir „Supply Chain Management”, įgalinti keli galinga kryžminio naudojimo atvejai.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-109">Several powerful cross-functional use cases are enabled for organizations that use both Field Service and Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-110">Šie naudojimo atvejai įgalina įsigijimus inicijuoti ir sekti abiejose sistemose.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-110">These use cases enable procurements to be initiated and tracked across both systems.</span></span>

<span data-ttu-id="dc7f8-111">Toliau pateikta iliustracija rodo lenteles abiejose sistemose ir kaip jos susietos viena su kita.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-111">The following illustration shows the tables in both systems and how they are mapped to each other.</span></span> <span data-ttu-id="dc7f8-112">„Field Service” pirkimo užsakymai nurodo *sąskaita* eilutę, o tiekimo „Supply Chain Management” nurodo *tiekėjas* eilutę.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-112">Purchase orders in Field Service reference an *account* row, whereas purchase orders in Supply Chain Management reference a *vendor* row.</span></span> <span data-ttu-id="dc7f8-113">Norint išspręsti integraciją, dvigubo rašymo funkcija naudoja nuorodą, kad susietų *tiekėjas* eilutes su *sąskaita* eilutėmis.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-113">To resolve the integration, dual-write uses a reference to link *vendor* rows with *account* rows.</span></span> <span data-ttu-id="dc7f8-114">Daugiau informacijos žr. [Integruotas tiekėjo šablonas](vendor-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="dc7f8-114">For more information, see [Integrated vendor master](vendor-mapping.md).</span></span>

![Įsigijimo susiejimai](media/scm-field-service-tables.png)

## <a name="prerequisites"></a><span data-ttu-id="dc7f8-116">Būtinieji komponentai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-116">Prerequisites</span></span>

<span data-ttu-id="dc7f8-117">Norėdami integruoti „Supply Chain Management” su „Field Service”, turite įdiegti šiuos komponentus:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-117">To integrate Supply Chain Management with Field Service, you must install the following components:</span></span>

- <span data-ttu-id="dc7f8-118">„Field Service” 8.8.31.60 arba naujesnė versija, skirta išsamesnei pirkimo užsakymų integracijai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-118">Field Service version 8.8.31.60 or later, for comprehensive purchase order integration</span></span>
- <span data-ttu-id="dc7f8-119">„Supply Chain Management“ 10.0.14 ar naujesnė versija</span><span class="sxs-lookup"><span data-stu-id="dc7f8-119">Supply Chain Management version 10.0.14 or later</span></span>
- <span data-ttu-id="dc7f8-120">Dvigubo rašymas „OneFSSCM” sprendimui įvykdyti</span><span class="sxs-lookup"><span data-stu-id="dc7f8-120">Dual-write, to run the OneFSSCM solution</span></span>

## <a name="installation-guidelines"></a><span data-ttu-id="dc7f8-121">Diegimo rekomendacijos</span><span class="sxs-lookup"><span data-stu-id="dc7f8-121">Installation guidelines</span></span>

### <a name="prerequisites"></a><span data-ttu-id="dc7f8-122">Būtinieji komponentai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-122">Prerequisites</span></span>

- <span data-ttu-id="dc7f8-123">**Dvigubas rašymas** – norėdami sužinoti daugiau žr. [Dvigubo rašymo pagrindinis puslapis](dual-write-home-page.md#dual-write-setup).</span><span class="sxs-lookup"><span data-stu-id="dc7f8-123">**Dual-write** – For more information, see the [Dual-write home page](dual-write-home-page.md#dual-write-setup).</span></span>
- <span data-ttu-id="dc7f8-124">**„Dynamics 365 Field Service”** – Daugiau informacijos žr. [„Dynamics 365 Field Service” įdiegimas](/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span><span class="sxs-lookup"><span data-stu-id="dc7f8-124">**Dynamics 365 Field Service** – For more information, see [How to install Dynamics 365 Field Service](/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span></span>

<span data-ttu-id="dc7f8-125">Kai jos yra įgalintos „Microsoft Dataverse”, dvigubo rašymo funkcija ir „Field Service” pateikia kelis sprendimų sluoksnius, praplečiančius aplinką naujais metaduomenimis, formomis, peržiūromis ir logika.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-125">When they are enabled in Microsoft Dataverse, dual-write and Field Service introduce several solution layers that extend the environment with new metadata, forms, views, and logic.</span></span> <span data-ttu-id="dc7f8-126">Šie sprendimai gali būti įgalinti bet kokia tvarka, tačiau paprastai juos diegiate čia pateikiama tvarka:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-126">These solutions can be enabled in any order, though you typically install in the order that is given here:</span></span>

1. <span data-ttu-id="dc7f8-127">**„Field Service Common”** – „Field Service Common” įdiegiama, kai aplinkoje įdiegta „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-127">**Field Service Common** – Field Service Common is installed when Field Service is installed in the environment.</span></span>
2. <span data-ttu-id="dc7f8-128">**„Field Service (Anchor)”** – „Field Service (Anchor)” yra įdiegiama, kai aplinkoje įdiegta „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-128">**Field Service (Anchor)** – Field Service (Anchor) is installed when Field Service is installed in the environment.</span></span> 
3. <span data-ttu-id="dc7f8-129">**„Supply Chain Management Extended”** – „Supply Chain Management Extended” yra automatiškai įdiegiama, kai aplinkoje įgalintas dvigubas rašymas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-129">**Supply Chain Management Extended** – Supply Chain Management Extended is automatically installed when dual-write is enabled in an environment.</span></span> 
4. <span data-ttu-id="dc7f8-130">**„OneFSSCM” sprendimas** – „OneFSSCM” automatiškai įdiegiamas pagal tai, kuris sprendimas („Field Service” ar „Supply Chain Management”) yra įdiegtas paskutinis.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-130">**OneFSSCM solution** – OneFSSCM is automatically installed by whichever solution (Field Service or Supply Chain Management) is installed last.</span></span>

    - <span data-ttu-id="dc7f8-131">Jei „Field Service” jau įdiegta aplinkoje ir įgalinate dvigubo rašymo funkciją, kuri įdiegia tiekimo grandinės „Supply Chain Management Extended”, įdiegiama „OneFSSCM”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-131">If Field Service is already installed in the environment, and you enable dual-write, which installs Supply Chain Management Extended, OneFSSCM is installed.</span></span>
    - <span data-ttu-id="dc7f8-132">Jei „Supply Chain Management Extended” jau įdiegta aplinkoje, įdiegiate „Field Service”, „OneFSSCM” taip pat yra įdiegiama.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-132">If Supply Chain Management Extended is already installed in the environment, and you install Field Service, OneFSSCM is installed.</span></span>

## <a name="initial-synchronization"></a><span data-ttu-id="dc7f8-133">Pirminis sinchronizavimas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-133">Initial synchronization</span></span>

<span data-ttu-id="dc7f8-134">Norėdami sukurti naujus pirkimo užsakymus ir dirbti su esamais pirkimo užsakymais, turite sinchronizuoti nuorodos duomenis tarp „Supply Chain Management” ir „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-134">To create new purchase orders and work with existing purchase orders, you must sync the reference data between Supply Chain Management and Dataverse.</span></span> <span data-ttu-id="dc7f8-135">Naudokite pradinę rašymo funkciją, norėdami aptikti lentelių ryšius ir rasti lenteles, kurias turite įgalinti duotas schemai.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-135">You use the initial write functionality to detect the table relationships and find the tables that you must enable for a given map.</span></span>

<span data-ttu-id="dc7f8-136">Turite sinchronizuoti šias lenteles:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-136">You must sync the following tables:</span></span>

- <span data-ttu-id="dc7f8-137">Produktų šablonai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-137">Product templates</span></span>

    <span data-ttu-id="dc7f8-138">Kai paleidžiate pradinį įrašą, gaunate visą reikalingų lentelių sąrašą.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-138">When you run the initial write, you get a full list of the tables that are required.</span></span> <span data-ttu-id="dc7f8-139">Toliau pateikiami keletas šablonų pavyzdžių:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-139">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="dc7f8-140">Visi produktai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-140">All products</span></span>
    - <span data-ttu-id="dc7f8-141">Išleisti produktai V2</span><span class="sxs-lookup"><span data-stu-id="dc7f8-141">Released products V2</span></span>
    - <span data-ttu-id="dc7f8-142">„Dataverse“ išleisti išskirtieji produktai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-142">Dataverse released distinct products</span></span>

- <span data-ttu-id="dc7f8-143">Vietos</span><span class="sxs-lookup"><span data-stu-id="dc7f8-143">Sites</span></span>
- <span data-ttu-id="dc7f8-144">Sandėliai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-144">Warehouses</span></span>
- <span data-ttu-id="dc7f8-145">Įsigijimo kategorijų šablonai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-145">Procurement categories templates</span></span>

    <span data-ttu-id="dc7f8-146">Toliau pateikiami keletas šablonų pavyzdžių:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-146">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="dc7f8-147">Įsigijimo kategorijos</span><span class="sxs-lookup"><span data-stu-id="dc7f8-147">Procurement categories</span></span>
    - <span data-ttu-id="dc7f8-148">Pro</span><span class="sxs-lookup"><span data-stu-id="dc7f8-148">Pro</span></span>
    - <span data-ttu-id="dc7f8-149">Produktų kategorijų hierarchija</span><span class="sxs-lookup"><span data-stu-id="dc7f8-149">Product category hierarchy</span></span>
    - <span data-ttu-id="dc7f8-150">Produktų kategorijos priskyrimai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-150">Product category assignments</span></span>

- <span data-ttu-id="dc7f8-151">Tiekėjų šablonai, pvz., Tiekėjas V2</span><span class="sxs-lookup"><span data-stu-id="dc7f8-151">Vendor templates, such as Vendor V2</span></span>
- <span data-ttu-id="dc7f8-152">Kontaktinių asmenų šablonai, pvz., „Dataverse” Kontaktai V2</span><span class="sxs-lookup"><span data-stu-id="dc7f8-152">Contact person templates, such as Dataverse Contacts V2</span></span>
- <span data-ttu-id="dc7f8-153">Darbuotojų šablonai, pvz., darbuotojas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-153">Worker templates, such as Worker</span></span>

<span data-ttu-id="dc7f8-154">Lentelių sinchronizavimas užtikrina, kad visi dokumentai, esantys „Supply Chain Management”, (pirkimo užsakymai ir gavimo kvitai) yra pasiekiami „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-154">Synchronization of the tables ensures that all documents (purchase orders and product receipts) in Supply Chain Management are available in Dataverse.</span></span>

### <a name="account-and-vendor-tables"></a><span data-ttu-id="dc7f8-155">Sąskaitų ir tiekėjų lentelės</span><span class="sxs-lookup"><span data-stu-id="dc7f8-155">Account and Vendor tables</span></span>

<span data-ttu-id="dc7f8-156">„Field Service” pirkimo užsakymai priklauso nuo sąskaitų lentelės, kad būtų sekami tiekėjai.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-156">Purchase orders in Field Service rely on the Account table to track vendors.</span></span> <span data-ttu-id="dc7f8-157">Todėl pirkimo „Dataverse” užsakymų lentelės naudoja sąskaitas tiekėjams sekti.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-157">Therefore, the Dataverse tables for purchase orders use accounts to track vendors.</span></span> <span data-ttu-id="dc7f8-158">Norint suderinti šį pagrindinį skirtumą, reikia suaktyvinti šias keturias darbo eigas, kad sąskaitos ir tiekėjai būtų sinchronizuoti:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-158">To accommodate this key difference, the following four workflows must be activated to keep the accounts and vendors in sync:</span></span> 

- <span data-ttu-id="dc7f8-159">Tiekėjų kūrimas lentelėje „Sąskaitos”</span><span class="sxs-lookup"><span data-stu-id="dc7f8-159">Create Vendors in Accounts table</span></span>
- <span data-ttu-id="dc7f8-160">Tiekėjų kūrimas lentelėje „Tiekėjai”</span><span class="sxs-lookup"><span data-stu-id="dc7f8-160">Create Vendors in Vendors table</span></span>
- <span data-ttu-id="dc7f8-161">Tiekėjų naujinimas lentelėje „Sąskaitos”</span><span class="sxs-lookup"><span data-stu-id="dc7f8-161">Update Vendors in Accounts table</span></span>
- <span data-ttu-id="dc7f8-162">Tiekėjų naujinimas lentelėje „Tiekėjai”</span><span class="sxs-lookup"><span data-stu-id="dc7f8-162">Update Vendors in Vendors table</span></span>

<span data-ttu-id="dc7f8-163">Jei įdiegtas „OneFSSCM”, nes įdiegti ir „Field Service” ir „Supply Chain Management Extended”, šios darbo eigos suaktyvintos automatiškai.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-163">If OneFSSCM is installed, because both Field Service and Supply Chain Management Extended are installed, these workflows are automatically activated.</span></span> <span data-ttu-id="dc7f8-164">Jei „Field Service” neįdiegta, bet norite integruoti pirkimo užsakymų lenteles „Dataverse”, turite suaktyvinti šias darbo eigas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-164">If Field Service isn't installed, but you want to integrate the purchase order tables with Dataverse, you must activate these workflows.</span></span> <span data-ttu-id="dc7f8-165">Abiem atvejais, nebent prasidedate nuo pradžių, prieš kuriant pirkimo užsakymus gali tekti užtikrinti, kad visi tiekėjai „Dataverse” būtų sukurti kaip sąskaitos.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-165">In both cases, unless you start from scratch, you might have to ensure that all vendors are created as accounts in Dataverse before you create purchase orders.</span></span> <span data-ttu-id="dc7f8-166">Priešingu atveju gali kilti klaidų.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-166">Otherwise, errors might occur.</span></span>

### <a name="initial-synchronization"></a><span data-ttu-id="dc7f8-167">Pirminis sinchronizavimas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-167">Initial synchronization</span></span>

<span data-ttu-id="dc7f8-168">Kai visos būtinosios sąlygos yra, jei norite, kad esami pirkimo užsakymai ir produkto kvitai būtų pasiekiami abiejose sistemose, turite atlikti šių šablonų pradinę sinchronizaciją:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-168">After all the prerequisites are in place, if you want existing purchase orders and product receipts to be available in both systems, you must do an initial synchronization of the following templates:</span></span>

- <span data-ttu-id="dc7f8-169">Pirkimo užsakymo antraštė V2</span><span class="sxs-lookup"><span data-stu-id="dc7f8-169">Purchase Order Header V2</span></span>
- <span data-ttu-id="dc7f8-170">CDS pirkimo užsakymo eilutė</span><span class="sxs-lookup"><span data-stu-id="dc7f8-170">CDS Purchase Order Line</span></span>
- <span data-ttu-id="dc7f8-171">CDS pirkimo užsakymo eilutės negalutinis naikinimas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-171">CDS Purchase Order Line soft delete</span></span>
- <span data-ttu-id="dc7f8-172">Pirkimo užsakymo kvitas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-172">Purchase Order Receipt</span></span>
- <span data-ttu-id="dc7f8-173">Pirkimo užsakymo kvito produktas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-173">Purchase Order Receipt Product</span></span>

## <a name="mappings-with-logic"></a><span data-ttu-id="dc7f8-174">Susiejimai su logika</span><span class="sxs-lookup"><span data-stu-id="dc7f8-174">Mappings with logic</span></span>

<span data-ttu-id="dc7f8-175">Įsigijimo integravimas išplečia produkto susiejimą tokia logika, kad užtikrintų, jog **„Field Service” produktų tipas** stulpelis būtų teisingai susietas su produktų lentele „Dataverse”:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-175">The procurement integration extends the product mapping with the following logic to ensure that the **Field Service Product Type** column is correctly set in the products table in Dataverse:</span></span>

- <span data-ttu-id="dc7f8-176">Jei **Produkto tipas** nustatytas į *Produktas* ir **Prekės modelio grupė, laikomas produktas** nustatytas *True*, **„Field Service” produkto tipas** nustatyta į *Atsargos*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-176">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *True*, **Field Service Product Type** is set to *Inventory*.</span></span>
- <span data-ttu-id="dc7f8-177">Jei **Produkto tipas** nustatytas į *Produktas* ir **Prekės modelio grupė, laikomas produktas** nustatytas *False*, **„Field Service” produkto tipas** nustatyta į *Nėra sandėlyje*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-177">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *False*, **Field Service Product Type** is set to *Non-Inventory*.</span></span>
- <span data-ttu-id="dc7f8-178">Jei **Produkto tipas** nustatytas į *Paslauga*, **„Field Service” produkto tipas** nustatytas į *Paslauga*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-178">If **Product Type** is set to *Service*, **Field Service Product Type** is set to *Service*.</span></span>

<span data-ttu-id="dc7f8-179">Be to, „Dataverse” pateikiama logika, pagal kurią tiekėjai susieti su susijusiais sąskaitomis.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-179">In addition, Dataverse includes logic that maps vendors with their related accounts.</span></span> <span data-ttu-id="dc7f8-180">Ši logika nustato numatytąją sąskaitos faktūros tiekėjo paskyrą.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-180">This logic sets the default invoice vendor account.</span></span> <span data-ttu-id="dc7f8-181">Kuriant serveryje papildinio logika nustato numatytąją sąskaitos faktūros tiekėjo sąskaitą iš tiekėjo, susijusio su paskyra.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-181">On create, server-side plug-in logic sets the default invoice vendor account from the vendor that is related to the account.</span></span> <span data-ttu-id="dc7f8-182">Tiekėjas turi nuorodą į sąskaitos faktūros paskyrą, kuris naudojamas šiai vertei nustatyti.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-182">The vendor has a reference to the invoice account that is used to set this value.</span></span>

## <a name="supported-scenarios"></a><span data-ttu-id="dc7f8-183">Palaikomi scenarijai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-183">Supported scenarios</span></span>

- <span data-ttu-id="dc7f8-184">Pirkimo užsakymus gali kurti ir atnaujinti „Dataverse” vartotojai.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-184">Purchase orders can be created and updated by Dataverse users.</span></span> <span data-ttu-id="dc7f8-185">Tačiau procesą ir duomenis kontroliuoja „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-185">However, the process and data are controlled by Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-186">„Supply Chain Management” pirkimų užsakymų stulpelių naujinimų apribojimai taikomi, kai naujinimai ateina iš „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-186">The constraints on updates to purchase order columns in Supply Chain Management apply when updates come from Field Service.</span></span> <span data-ttu-id="dc7f8-187">Pavyzdžiui, negalima atnaujinti pirkimo užsakymo, jei jis buvo baigtas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-187">For example, you can't update a purchase order if it has been finalized.</span></span> 
- <span data-ttu-id="dc7f8-188">Jei pirkimo užsakymas kontroliuojamas „Supply Chain Management”, „Field Service” vartotojas gali atnaujinti pirkimo užsakymą tik tada, kai „Supply Chain Management” patvirtinimo būsena yra *Juodraštis*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-188">If the purchase order is controlled by change management in Supply Chain Management, a Field Service user can update the purchase order only when the Supply Chain Management approval status is *Draft*.</span></span>
- <span data-ttu-id="dc7f8-189">Tik keli stulpeliai yra tvarkomi „Supply Chain Management” ir jie negali būti atnaujinti „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-189">Several columns are managed only by Supply Chain Management and can't be updated in Field Service.</span></span> <span data-ttu-id="dc7f8-190">Norėdami sužinoti, kurių stulpelių negalima atnaujinti, peržiūrėkite produkto susiejimo lenteles.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-190">To learn which columns can't be updated, review the mapping tables in the product.</span></span> <span data-ttu-id="dc7f8-191">Siekiant paprastumo, dauguma šių stulpelių yra nustatyta tik skaityti „Dataverse” puslapiuose.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-191">For the sake of simplicity, most of these columns are set to read-only on Dataverse pages.</span></span> 

    <span data-ttu-id="dc7f8-192">Pvz., kainos informacijos stulpeliai yra valdomi „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-192">For example, the columns for price information are managed by Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-193">„Supply Chain Management” turi prekybos sutarčių, kurios gali būti naudingos „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-193">Supply Chain Management has trade agreements that Field Service can benefit from.</span></span> <span data-ttu-id="dc7f8-194">stulpeliai, pvz., **Vieneto kaina**, **Nuolaida**, ir **Grynasis kiekis** ateina iš „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-194">columns such as **Unit price**, **Discount**, and **Net amount** come only from Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-195">Norėdami užtikrinti, kad kaina yra sinchronizuojama „Field Service”, turėtumėte naudoti **Sinchronizuoti** funkciją **Pirkimo užsakymas** ir **Pirkimo užsakymo produktas** puslapius „Dataverse”, kai pirkimo užsakymo duomenys yra įvesti.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-195">To ensure that the price is synced to Field Service, you should use the **Sync** feature on the **Purchase Order** and **Purchase Order Product** pages in Dataverse when purchase order data has been entered.</span></span> <span data-ttu-id="dc7f8-196">Daugiau informacijos žr. [„Dynamics 365 Supply Chain Management” įsigijimo duomenų sinchronizacija pagal poreikį](#sync-procurement).</span><span class="sxs-lookup"><span data-stu-id="dc7f8-196">For more information, see [Sync with the Dynamics 365 Supply Chain Management procurement data on demand](#sync-procurement).</span></span>

- <span data-ttu-id="dc7f8-197">**Bendra suma** stulpelis yra prieinamas „Field Service”, nes nėra „Supply Chain Management” pirkimo užsakymo bendrosios sumos.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-197">The **Totals** column is available only in Field Service, because there are no up-to-date totals of the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-198">„Supply Chain Management” bendrosios sumos apskaičiuojamos remiantis keliais parametrais, kurių nėra „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-198">The totals in Supply Chain Management are calculated based on multiple parameters that aren't available in Field Service.</span></span>
- <span data-ttu-id="dc7f8-199">Pirkimo užsakymo eilutes, kuriose nurodyta tik įsigijimo kategorija arba kurių nurodytas produktas yra nurodytas kaip *Paslauga* produkto tipo ar „Field Service” produkto tipo prekė, gali būti inicijuotos tik „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-199">Purchase order lines where only a procurement category is specified, or where the product that is specified is an item of the *Service* product type or Field Service product type, can be initiated only in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-200">Tada eilutės sinchronizuojamos su „Dataverse” ir yra matomos „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-200">The lines are then synced to Dataverse and are visible in Field Service.</span></span>
- <span data-ttu-id="dc7f8-201">Jei įdiegta tik „Field Service”, o ne „Supply Chain Management”, pirkimo užsakyme **Sandėlis** stulpelis yra būtinas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-201">If only Field Service is installed, not Supply Chain Management, the **Warehouse** column is mandatory on the purchase order.</span></span> <span data-ttu-id="dc7f8-202">Tačiau, jei „Supply Chain Management” yra įdiegta, šis reikalavimas nėra būtinas, nes „Supply Chain Management” leidžia naudoti pirkimo užsakymo eilutes, kai tam tikrose situacijose nenurodytas sandėlis.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-202">However, if Supply Chain Management is installed, this requirement is relaxed, because Supply Chain Management allows for purchase order lines where no warehouse is specified in certain situations.</span></span>
- <span data-ttu-id="dc7f8-203">Produktų kvitai (pirkimo užsakymo kvitai „Dataverse”) yra tvarkomi „Supply Chain Management” ir negali būti sukurti iš „Dataverse”, jei įdiegta „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-203">Product receipts (purchase order receipts in Dataverse) are managed by Supply Chain Management and can't be created from Dataverse if Supply Chain Management is installed.</span></span> <span data-ttu-id="dc7f8-204">Produktų kvitai iš „Supply Chain Management” yra sinchronizuojami „Supply Chain Management” į „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-204">The product receipts from Supply Chain Management are synced from Supply Chain Management to Dataverse.</span></span>
- <span data-ttu-id="dc7f8-205">Pristatymo išlaidos leidžiamos „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-205">Under-delivery is allowed in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-206">„OneFSSCM” suteikia logikos, kad kai produkto kvito eilutė (arba pirkimo užsakymo kvito produktas „Dataverse”) yra sukuriamas ir atnaujinamas, atsargų žurnalo eilutė sukuriama „Dataverse” likusiam kiekiui, kuris yra užsakyme tam tikrais pristatymo perviršio atvejais, konfigūruoti.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-206">The OneFSSCM solution adds logic so that, when the product receipt line (or purchase order receipt product in Dataverse) is created or updated, an inventory journal row is created in Dataverse to adjust the remaining quantity that is on order for under-delivery scenarios.</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="dc7f8-207">Nepalaikomi scenarijai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-207">Unsupported scenarios</span></span>

- <span data-ttu-id="dc7f8-208">„Field Service” neleidžia įtraukti eilučių į atšauktą pirkimo užsakymą „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-208">Field Service prevents lines from being added to a canceled purchase order in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-209">Kaip problemos sprendimą galite pakeisti pirkimo užsakymo sistemos būseną „Field Service”, tada įtraukti naują eilutę į „Field Service” arba „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-209">As a workaround, you can change the system status of the purchase order in Field Service, and then add the new line in either Field Service or Supply Chain Management.</span></span>
- <span data-ttu-id="dc7f8-210">Nors įsigijimo eilutės paveikia atsargų lygius abiejose sistemose, ši integracija užtikrina atsargų suderinamumą „Supply Chain Management” ir „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-210">Although procurement rows affect inventory levels in both systems, this integration doesn't ensure inventory alignment across Supply Chain Management and Field Service.</span></span> <span data-ttu-id="dc7f8-211">Abu „Field Service” ir „Supply Chain Management” turi kitus procesus, atnaujinančius atsargų lygius.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-211">Both Field Service and Supply Chain Management have other processes that update inventory levels.</span></span> <span data-ttu-id="dc7f8-212">Šie procesai nepatenka į įsigijimo sritį.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-212">Those processes are outside the scope of procurement.</span></span>

## <a name="status-management"></a><span data-ttu-id="dc7f8-213">Būsenos valdymas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-213">Status management</span></span>

<span data-ttu-id="dc7f8-214">„Field Service” pirkimo užsakymų būsenos skiriasi nuo „Supply Chain Management” būsenų.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-214">The statuses of purchase orders in Field Service differ from the statuses in Supply Chain Management.</span></span>

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a><span data-ttu-id="dc7f8-215">„Field Service” pirkimo užsakymo ir pirkimo užsakymo produktų būsenos</span><span class="sxs-lookup"><span data-stu-id="dc7f8-215">Field Service purchase order and purchase order product statuses</span></span>

| <span data-ttu-id="dc7f8-216">Antraštė – sistemos būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-216">Header – System status</span></span> | <span data-ttu-id="dc7f8-217">Antraštė – patvirtinimo būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-217">Header - Approval status</span></span> | <span data-ttu-id="dc7f8-218">Prekės būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-218">Item status</span></span> |
|---|---|---|
| <ul><li><span data-ttu-id="dc7f8-219">Juodraštis</span><span class="sxs-lookup"><span data-stu-id="dc7f8-219">Draft</span></span></li><li><span data-ttu-id="dc7f8-220">Pateikta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-220">Submitted</span></span></li><li><span data-ttu-id="dc7f8-221">Atšaukta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-221">Cancelled</span></span></li><li><span data-ttu-id="dc7f8-222">Gautas produktas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-222">Product received</span></span></li><li><span data-ttu-id="dc7f8-223">Išrašyta sąskaita</span><span class="sxs-lookup"><span data-stu-id="dc7f8-223">Billed</span></span></li></ul> | <ul><li><span data-ttu-id="dc7f8-224">Null</span><span class="sxs-lookup"><span data-stu-id="dc7f8-224">Null</span></span></li><li><span data-ttu-id="dc7f8-225">Aprobuota</span><span class="sxs-lookup"><span data-stu-id="dc7f8-225">Approved</span></span></li><li><span data-ttu-id="dc7f8-226">Atmestas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-226">Rejected</span></span></li></ul> | <ul><li><span data-ttu-id="dc7f8-227">Laukia</span><span class="sxs-lookup"><span data-stu-id="dc7f8-227">Pending</span></span></li><li><span data-ttu-id="dc7f8-228">Gauta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-228">Received</span></span></li><li><span data-ttu-id="dc7f8-229">Atšaukta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-229">Cancelled</span></span></li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a><span data-ttu-id="dc7f8-230">„Supply Chain Management” pirkimo užsakymo ir pirkimo užsakymo eilučių būsenos</span><span class="sxs-lookup"><span data-stu-id="dc7f8-230">Supply Chain Management purchase order and purchase order line statuses</span></span>

<span data-ttu-id="dc7f8-231">Eilučių patvirtinimo būsenos yra aktyvios tik tada, kai yra eilutės darbo eiga.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-231">Line approval statuses are active only when there is a line workflow.</span></span>

| <span data-ttu-id="dc7f8-232">Antraštė – dokumentų būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-232">Header – documents status</span></span> | <span data-ttu-id="dc7f8-233">Antraštė – patvirtinimo būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-233">Header - Approval status</span></span> | <span data-ttu-id="dc7f8-234">Eilutės būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-234">Line status</span></span> | <span data-ttu-id="dc7f8-235">Eilutės patvirtinimo būsena</span><span class="sxs-lookup"><span data-stu-id="dc7f8-235">Line approval status</span></span> |
|---|---|---|---|
| <ul><li><span data-ttu-id="dc7f8-236">Atviras užsakymas (užlaikytas užsakymas)</span><span class="sxs-lookup"><span data-stu-id="dc7f8-236">Open Order (Back order)</span></span></li><li><span data-ttu-id="dc7f8-237">Gauta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-237">Received</span></span></li><li><span data-ttu-id="dc7f8-238">Išrašyta SF</span><span class="sxs-lookup"><span data-stu-id="dc7f8-238">Invoiced</span></span></li><li><span data-ttu-id="dc7f8-239">Atšaukta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-239">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="dc7f8-240">Juodraštis</span><span class="sxs-lookup"><span data-stu-id="dc7f8-240">Draft</span></span></li><li><span data-ttu-id="dc7f8-241">Peržiūrima</span><span class="sxs-lookup"><span data-stu-id="dc7f8-241">In Review</span></span></li><li><span data-ttu-id="dc7f8-242">Aprobuota</span><span class="sxs-lookup"><span data-stu-id="dc7f8-242">Approved</span></span></li><li><span data-ttu-id="dc7f8-243">Atmestas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-243">Rejected</span></span></li><li><span data-ttu-id="dc7f8-244">Išorinės peržiūros režime</span><span class="sxs-lookup"><span data-stu-id="dc7f8-244">In External Review</span></span></li><li><span data-ttu-id="dc7f8-245">Pritarta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-245">Confirmed</span></span></li><li><span data-ttu-id="dc7f8-246">Baigta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-246">Finalized</span></span></li></ul> | <ul><li><span data-ttu-id="dc7f8-247">Atviras užsakymas (užlaikytas užsakymas)</span><span class="sxs-lookup"><span data-stu-id="dc7f8-247">Open Order (back order)</span></span></li><li><span data-ttu-id="dc7f8-248">Gauta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-248">Received</span></span></li><li><span data-ttu-id="dc7f8-249">Išrašyta SF</span><span class="sxs-lookup"><span data-stu-id="dc7f8-249">Invoiced</span></span></li><li><span data-ttu-id="dc7f8-250">Atšaukta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-250">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="dc7f8-251">Nepateikta</span><span class="sxs-lookup"><span data-stu-id="dc7f8-251">Not Submitted</span></span></li><li><span data-ttu-id="dc7f8-252">Peržiūrima</span><span class="sxs-lookup"><span data-stu-id="dc7f8-252">In Review</span></span></li><li><span data-ttu-id="dc7f8-253">Aprobuota</span><span class="sxs-lookup"><span data-stu-id="dc7f8-253">Approved</span></span></li><li><span data-ttu-id="dc7f8-254">Atmestas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-254">Rejected</span></span></li></ul> |

<span data-ttu-id="dc7f8-255">Būsenos stulpeliams taikomos šios taisyklės:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-255">The following rules are applied to the status columns:</span></span>

- <span data-ttu-id="dc7f8-256">„Supply Chain Management” būsena negali būti atnaujinta „Field Service”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-256">The status in Supply Chain Management can't be updated from Field Service.</span></span> <span data-ttu-id="dc7f8-257">Tačiau kai kuriais atvejais būsena „Field Service” bus atnaujinta, kai bus pakeista „Supply Chain Management” pirkimo užsakymo būsena.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-257">However, in some cases, the status in Field Service will be updated when the purchase order status in Supply Chain Management is changed.</span></span>
- <span data-ttu-id="dc7f8-258">Jei „Supply Chain Management” ketinama keisti pirkimo užsakymą, o pakeitimas apdorojamas, patvirtinimo būsena *Juodraštis* arba *Peržiūra*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-258">If a purchase order in Supply Chain Management is under change management, and a change is being processed, the approval status is *Draft* or *In Review*.</span></span> <span data-ttu-id="dc7f8-259">Šiuo atveju „Field Service” patvirtinimo būsena bus nustatyta kaip *Null*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-259">In this case, the Field Service approval status will be set to *Null*.</span></span>
- <span data-ttu-id="dc7f8-260">Jei pirkimo užsakymo patvirtinimo būsena yra „Supply Chain Management” nustatyta į *Patvirtinta*, *Išorinės peržiūros režime*, *Patvirtinta* arba *Baigta*, „Field Service” pirkimo užsakymo patvirtinimo būsena bus nustatyta į *Patvirtinta*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-260">If the purchase order approval status in Supply Chain Management is set to *Approved*, *In External review*, *Confirmed*, or *Finalized*, the Field Service purchase order approval status will be set to *Approved*.</span></span>
- <span data-ttu-id="dc7f8-261">Jei pirkimo užsakymo patvirtinimo būsena yra „Supply Chain Management” yra nustatyta į *Atmesta*, „Field Service” pirkimo užsakymo patvirtinimo būsena bus nustatyta į *Atmesta*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-261">If the purchase order approval status in Supply Chain Management is set to *Rejected*, the Field Service purchase order approval status will be set to *Rejected*.</span></span>
- <span data-ttu-id="dc7f8-262">Jei dokumento antraštės būsena „Supply Chain Management” yra pakeista į *Atviras užsakymas (užlaikytas užsakymas)*, ir „Field Service” pirkimo užsakymo būsena yra *Juodraštis* arba *Atšaukta*, „Field Service” pirkimo užsakymo būsena bus nustatyta į *Pateikta*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-262">If the document header status in Supply Chain Management is changed to *Open order (Back order)*, and the Field Service purchase order status is *Draft* or *Cancelled*, the Field Service purchase order status will be changed to *Submitted*.</span></span>
- <span data-ttu-id="dc7f8-263">Jei dokumento antraštės būsena „Supply Chain Management” pakeista į *Atšaukta* ir nėra pirkimo užsakymo kvito produktų „Field Service” yra susieti su pirkimo užsakymu (per pirkimo užsakymo produktus), „Field Service” sistemos būsena yra nustatyta į *Atšaukta*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-263">If the document header status in Supply Chain Management is changed to *Cancelled*, and no purchase order receipt products in Field Service are associated with the purchase order (via purchase order products), the Field Service system status is set to *Cancelled*.</span></span>
- <span data-ttu-id="dc7f8-264">Jei pirkimo užsakymo eilutės būsena „Supply Chain Management” yra *Atšaukta*, pirkimo užsakymo produkto būsena „Field Service” yra nustatyta į *Atšaukta*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-264">If purchase order line status in Supply Chain Management is *Cancelled*, the purchase order product status in Field Service is set to *Cancelled*.</span></span> <span data-ttu-id="dc7f8-265">Be to, jei pirkimo užsakymo eilutės būsena „Supply Chain Management” yra pakeista iš *Atšaukta* į *Užlaikytas užsakymas* pirkimo užsakymo produkto prekės būsena yra „Field Service” nustatyta į *Laukiama*.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-265">In addition, if the purchase order line status in Supply Chain Management is changed from *Cancelled* to *Back Order*, the purchase order product item status in Field Service is set to *Pending*.</span></span>

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a><span data-ttu-id="dc7f8-266">Sinchronizavimas su „Supply Chain Management“ įsigijimo duomenimis pagal poreikį</span><span class="sxs-lookup"><span data-stu-id="dc7f8-266">Sync with the Supply Chain Management procurement data on demand</span></span>

<span data-ttu-id="dc7f8-267">„Supply Chain Management” pateikiami įsigijimo duomenys, kurie apima sutartis, nuolaidas ir kitus scenarijus, paremtus antriniais „Supply Chain Management” procesais.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-267">Supply Chain Management includes procurement data that handles trade agreements, discounts, and other scenarios that rely on secondary processes in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-268">Įsigijimo mechanizmas naudoja sudėtingas taisykles nustatyti geriausią konkretaus pirkimo užsakymo kainą.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-268">The procurement engine uses complex rules to determine the best price for a given purchase order.</span></span> <span data-ttu-id="dc7f8-269">Naudojant dvigubo rašymo būseną, duomenys ne visada sinchronizuojami dviejose aplinkose, ypač scenarijuose, kuriuose eilutė buvo sukurta arba atnaujinta iš „Dataverse” ir gali įgalinti paskesnius procesus „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-269">When you use dual-write, data isn't always kept synchronous across the two environments, especially in scenarios where the row was created or updated from Dataverse and might trigger follow-on processes in Supply Chain Management.</span></span>

## <a name="sync-the-procurement-data-from-supply-chain-management"></a><span data-ttu-id="dc7f8-270">Sinchronizavimas su „Supply Chain Management“ įsigijimo duomenimis</span><span class="sxs-lookup"><span data-stu-id="dc7f8-270">Sync the procurement data from Supply Chain Management</span></span>

1. <span data-ttu-id="dc7f8-271">„Dataverse” eikite į **Atsargos \>Pirkimo užsakymas**.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-271">In Dataverse, go to **Inventory \> Purchase Order**.</span></span>
2. <span data-ttu-id="dc7f8-272">Pasirinkite **Nauja**, kad sukurtumėte naują pirkimo užsakymą arba pasirinktumėte esamo pirkimo užsakymo eilutę.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-272">Select **New** to create a new purchase order, or select the row for an existing purchase order.</span></span>
3. <span data-ttu-id="dc7f8-273">Iš pirkimo užsakymo arba pirkimo užsakymo eilutės.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-273">From the purchase order or purchase order line.</span></span>
4. <span data-ttu-id="dc7f8-274">Veiksmų srityje pasirinkite **Sinchronizuoti**.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-274">On the Action Pane, select **Sync**.</span></span>

<span data-ttu-id="dc7f8-275">Visi stulpeliai iš „Dataverse” ir „Field Service”, kuriuos bendrina „Supply Chain Management”, yra sinchronizuojami.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-275">All columns from Dataverse and Field Service that are shared by Supply Chain Management are synced.</span></span>

<span data-ttu-id="dc7f8-276">Štai situacijos, kai galite naudoti **Sinchronizuoti** funkciją:</span><span class="sxs-lookup"><span data-stu-id="dc7f8-276">Here are the situations where you might use the **Sync** function:</span></span>

- <span data-ttu-id="dc7f8-277">Jei iš eilės atliksite keletą paskesnių tos pačios eilutės „Dataverse”, paleiskite **Sinchronizuoti** funkciją.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-277">If you make multiple successive changes to the same row from Dataverse, run the **Sync** function.</span></span>
- <span data-ttu-id="dc7f8-278">Jei nesate tikri, ar pakeitimas gali būti antrasis paskesnis pakeitimas iš „Dataverse”, praverstų paleisti **Sinchronizuoti** funkciją.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-278">If you aren't sure whether a change might be the second successive change from Dataverse, it might make sense to run the **Sync** function.</span></span>
- <span data-ttu-id="dc7f8-279">Jei gaunate klaidos pranešimą apie vertės atnaujinimą iš „Supply Chain Management”, paleiskite **Sinchronizuoti** funkciją ir pakartokite atnaujinimą „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-279">If you receive an error message about updating a value from Supply Chain Management, run the **Sync** function, and then retry the update in Dataverse.</span></span>

## <a name="cancelling-the-posting-process"></a><span data-ttu-id="dc7f8-280">Skelbimo proceso atšaukimas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-280">Cancelling the posting process</span></span>

<span data-ttu-id="dc7f8-281">Jei produkto kvito skelbimo procesas yra atšaukiamas apdorojimo metu, tada dvigubo rašymo metu gali būti sukurta produkto kvito eilutė „Dataverse”, bet ne sukuriama produkto kvito eilutė „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-281">If the product receipt posting process is cancelled during processing, then dual-write might create a product receipt row in Dataverse, but not create a product receipt row in Supply Chain Management.</span></span> <span data-ttu-id="dc7f8-282">Taip atsitinka, nes dvigubo rašymo operacija nepalaiko paskirstytų operacijų.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-282">This situation happens because dual-write does not support distributed transactions.</span></span>

## <a name="templates"></a><span data-ttu-id="dc7f8-283">Šablonai</span><span class="sxs-lookup"><span data-stu-id="dc7f8-283">Templates</span></span>

<span data-ttu-id="dc7f8-284">Šiuose šablonuose pateikiama informacija apie su įsigijimu susijusių dokumentų integravimą.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-284">The following templates are available for the integration of procurement-related documents.</span></span>

| <span data-ttu-id="dc7f8-285">Tiekimo grandinės valdymas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-285">Supply Chain Management</span></span> | <span data-ttu-id="dc7f8-286">„Field service“</span><span class="sxs-lookup"><span data-stu-id="dc7f8-286">Field Service</span></span> | <span data-ttu-id="dc7f8-287">aprašymas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-287">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="dc7f8-288">Pirkimo užsakymo antraštė V2</span><span class="sxs-lookup"><span data-stu-id="dc7f8-288">Purchase order header V2</span></span>](mapping-reference.md#183) | <span data-ttu-id="dc7f8-289">msdyn\_Purchaseorders</span><span class="sxs-lookup"><span data-stu-id="dc7f8-289">msdyn\_Purchaseorders</span></span> | <span data-ttu-id="dc7f8-290">Šioje lentelėje yra stulpelių, kuriuose pateikiama pirkimo užsakymo antraštė.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-290">This table contains the columns that represent the purchase order header.</span></span> |
| [<span data-ttu-id="dc7f8-291">Pirkimo užsakymo eilutės objektas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-291">Purchase order line entity</span></span>](mapping-reference.md#181) | <span data-ttu-id="dc7f8-292">msdyn\_PurchaseOrderProducts</span><span class="sxs-lookup"><span data-stu-id="dc7f8-292">msdyn\_PurchaseOrderProducts</span></span> | <span data-ttu-id="dc7f8-293">Šioje lentelėje yra eilučių, kuriuose pateikiamos pirkimo užsakymo eilutės.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-293">This table contains the rows that represent lines on a purchase order.</span></span> <span data-ttu-id="dc7f8-294">Produkto numeris naudojamas sinchronizacijos metu.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-294">The product number is used for synchronization.</span></span> <span data-ttu-id="dc7f8-295">Identifikuoja produktą kaip atsargų saugojimo vienetą (SKU), įskaitant produktų dimensijas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-295">This identifies the product as a stock keeping unit (SKU), including product dimensions.</span></span> <span data-ttu-id="dc7f8-296">Daugiau informacijos apie produkto integravimą su „Dataverse” žr. [Vientisa produkto patirtis](product-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="dc7f8-296">For more information about product integration with Dataverse, see [Unified product experience](product-mapping.md).</span></span> |
| [<span data-ttu-id="dc7f8-297">Produkto gavimo antraštė</span><span class="sxs-lookup"><span data-stu-id="dc7f8-297">Product receipt header</span></span>](mapping-reference.md#185) | <span data-ttu-id="dc7f8-298">msdyn\_purchaseorderreceipts</span><span class="sxs-lookup"><span data-stu-id="dc7f8-298">msdyn\_purchaseorderreceipts</span></span> | <span data-ttu-id="dc7f8-299">Šioje lentelėje pateikiamos produkto kvito antraštės, kurios sukuriamos, kai produkto kvitas yra paskelbtas „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-299">This table contains the product receipt headers that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| [<span data-ttu-id="dc7f8-300">Produkto gavimo eilutė</span><span class="sxs-lookup"><span data-stu-id="dc7f8-300">Product receipt line</span></span>](mapping-reference.md#184) | <span data-ttu-id="dc7f8-301">msdyn\_purchaseorderreceiptproducts</span><span class="sxs-lookup"><span data-stu-id="dc7f8-301">msdyn\_purchaseorderreceiptproducts</span></span> | <span data-ttu-id="dc7f8-302">Šioje lentelėje pateikiamos produkto kvito eilutės, kurios sukuriamos, kai produkto kvitas yra paskelbtas „Supply Chain Management”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-302">This table contains the product receipt lines that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| [<span data-ttu-id="dc7f8-303">Pirkimo užsakymo eilutės negalutinai sunaikintas objektas</span><span class="sxs-lookup"><span data-stu-id="dc7f8-303">Purchase order line soft deleted entity</span></span>](mapping-reference.md#182) | <span data-ttu-id="dc7f8-304">msdyn\_purchaseorderproducts</span><span class="sxs-lookup"><span data-stu-id="dc7f8-304">msdyn\_purchaseorderproducts</span></span> | <span data-ttu-id="dc7f8-305">Šioje lentelėje pateikiama informacija apie pirkimo užsakymo eilutes, kurios yra negalutinai panaikintos.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-305">This table contains information about purchase order lines that are soft-deleted.</span></span> <span data-ttu-id="dc7f8-306">Pirkimo užsakymo eilutę, esančią „Supply Chain Management”, galima negalutinai panaikinti patvirtinus pirkimo užsakymą arba patvirtinus tada, kai pakeitimų valdymas yra įjungtas.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-306">A purchase order line in Supply Chain Management can be soft-deleted only when the purchase order has been confirmed or approved, if change management is turned on.</span></span> <span data-ttu-id="dc7f8-307">Eilutė egzistuoja „Supply Chain Management” ir yra pažymėta kaip **Panaikinta**.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-307">The row exists in the Supply Chain Management database and is marked as **IsDeleted**.</span></span> <span data-ttu-id="dc7f8-308">Nes „Dataverse” nėra negalutinio panaikinimo funkcijos, todėl svarbu šią informaciją sinchronizuoti „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-308">Because Dataverse doesn't have a concept of soft-deletion, it's important that this information be synced to Dataverse.</span></span> <span data-ttu-id="dc7f8-309">Tokiu būdu negalutinai panaikintos eilutės „Supply Chain Management” gali būti automatiškai panaikintos iš „Dataverse”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-309">In this way, lines that are soft-deleted in Supply Chain Management can automatically be deleted from Dataverse.</span></span> <span data-ttu-id="dc7f8-310">Šiuo atveju eilutės panaikinimo „Dataverse” logika yra pateikta „Supply Chain Management Extended”.</span><span class="sxs-lookup"><span data-stu-id="dc7f8-310">In this case, the logic for deleting a line in Dataverse is located in Supply Chain Management Extended.</span></span> |

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
