---
title: Didelių dokumentų, sugeneruotų elektroninėse ataskaitose, glaudinimas
description: Šioje temoje paaiškinama, kaip glaudinti didelius dokumentus, sugeneruotus naudojant elektroninių ataskaitų (ER) formatą.
author: NickSelin
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner, ERFormatDestinationTable
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: cd056798773bce492e429f8cca2ef39cb59bf739
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 03/31/2021
ms.locfileid: "5753821"
---
# <a name="compress-large-documents-that-are-generated-in-electronic-reporting"></a><span data-ttu-id="613e9-103">Didelių dokumentų, sugeneruotų elektroninėse ataskaitose, glaudinimas</span><span class="sxs-lookup"><span data-stu-id="613e9-103">Compress large documents that are generated in Electronic reporting</span></span> 

[!include [banner](../includes/banner.md)]

<span data-ttu-id="613e9-104">Galite naudoti [Elektroninę ataskaitų (ER) sistemą](general-electronic-reporting.md) norėdami sukonfigūruoti sprendimą, kuris iškviečia operacijų duomenis, kad būtų sugeneruotas siunčiamas dokumentas.</span><span class="sxs-lookup"><span data-stu-id="613e9-104">You can use the [Electronic reporting (ER) framework](general-electronic-reporting.md) to configure a solution that fetches transactional data to generate an outbound document.</span></span> <span data-ttu-id="613e9-105">Šis sugeneruotas dokumentas gali būti gana didelis.</span><span class="sxs-lookup"><span data-stu-id="613e9-105">This generated document might be quite large.</span></span> <span data-ttu-id="613e9-106">Kai šio tipo dokumentas sugeneruojamas, [Programos objektų serverio (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) atmintis naudojama jo laikymui.</span><span class="sxs-lookup"><span data-stu-id="613e9-106">When this type of document is generated, the [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) memory is used to hold it.</span></span> <span data-ttu-id="613e9-107">Tam tikru momentu dokumentas tada turi būti atsisiųstas iš jūsų „Microsoft Dynamics 365 Finance” programos.</span><span class="sxs-lookup"><span data-stu-id="613e9-107">At some point, the document must then be downloaded from your Microsoft Dynamics 365 Finance application.</span></span> <span data-ttu-id="613e9-108">Šiuo metu didžiausias vieno dokumento, sugeneruoto ER, dydis ribojamas iki 2 gigabaitų (GB).</span><span class="sxs-lookup"><span data-stu-id="613e9-108">Currently, the maximum size of a single document that is generated in ER is limited to 2 gigabytes (GB).</span></span> <span data-ttu-id="613e9-109">Be to, „Finance” šiuo metu [riboja](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) atsisiųsto failo dydį iki 1 GB.</span><span class="sxs-lookup"><span data-stu-id="613e9-109">Additionally, Finance currently [limits](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) the size of a downloaded file to 1 GB.</span></span> <span data-ttu-id="613e9-110">Todėl turite sukonfigūruoti ER sprendimą, kuris sumažina tikimybę, kad šie apribojimai bus viršyti, o jūs gausite **Srautas tęsėsi per ilgai** arba **Srautas perkrautas arba nepakankamas aritmetinėje operacijoje** išimtį.</span><span class="sxs-lookup"><span data-stu-id="613e9-110">Therefore, you must configure an ER solution that reduces the likelihood that these limitations will be exceeded, and that you will receive a **Stream was too long** or **Overflow or underflow in the arithmetic operation** exception.</span></span>

<span data-ttu-id="613e9-111">Kai konfigūruojate sprendimą, galite pakoreguoti savo ER formatą Operacijų dizaino įrankyje pridėdami **Aplanko** tipo šakninį elementą, kad suglaudintumėte turinį, kurį sugeneravo bet kuris jo įdėtųjų elementų.</span><span class="sxs-lookup"><span data-stu-id="613e9-111">When you configure a solution, you can adjust your ER format in the Operations designer by adding a root element of the **Folder** type to compress the content that is generated by any of its nested elements.</span></span> <span data-ttu-id="613e9-112">Glaudinimas vyksta „reikiamu laiku”, kad intensyviausias atminties naudojimas ir failo, kuris bus atsisiųstas, dydis galėtų būti sumažinti.</span><span class="sxs-lookup"><span data-stu-id="613e9-112">Compression works "just in time," so that peak memory usage and the size of the file that will be downloaded can be reduced.</span></span>

> [!NOTE]
> <span data-ttu-id="613e9-113">Failo glaudinimas sunaudoja papildomą CPU naudojimo procentą.</span><span class="sxs-lookup"><span data-stu-id="613e9-113">File compression takes an additional percentage of CPU usage.</span></span>

<span data-ttu-id="613e9-114">Norėdami sužinoti daugiau apie šį metodą, atlikite šioje temoje esantį pavyzdį.</span><span class="sxs-lookup"><span data-stu-id="613e9-114">For more information about this approach, complete the example in this topic.</span></span>

## <a name="example-compress-an-outbound-document"></a><span data-ttu-id="613e9-115">Pavyzdys: Siunčiamo dokumento glaudinimas</span><span class="sxs-lookup"><span data-stu-id="613e9-115">Example: Compress an outbound document</span></span>

<span data-ttu-id="613e9-116">Šis pavyzdys parodo, kaip vartotojas, kuriam priskirtas vaidmuo **Sistemos administratorius** arba **Elektroninių ataskaitų funkcinis konsultantas**, gali sukonfigūruoti ER formatą sugeneruoto dokumento glaudinimui.</span><span class="sxs-lookup"><span data-stu-id="613e9-116">This example shows how a user who is assigned to the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format to compress a generated document.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="613e9-117">Būtinieji komponentai</span><span class="sxs-lookup"><span data-stu-id="613e9-117">Prerequisites</span></span>

<span data-ttu-id="613e9-118">Prieš vykdydami šioje temoje esančias procedūras, turite atlikti toliau nurodytus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="613e9-118">Before you complete the procedures in this topic, the following steps must be completed.</span></span>

1. <span data-ttu-id="613e9-119">[Aktyvuoti konfigūracijos tiekėją](er-defer-xml-element.md#activate-a-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="613e9-119">[Activate a configuration provider](er-defer-xml-element.md#activate-a-configuration-provider).</span></span>
2. <span data-ttu-id="613e9-120">[Importuoti pavyzdines ER konfigūracijas](er-defer-xml-element.md#import-the-sample-er-configurations).</span><span class="sxs-lookup"><span data-stu-id="613e9-120">[Import the sample ER configurations](er-defer-xml-element.md#import-the-sample-er-configurations).</span></span>
3. <span data-ttu-id="613e9-121">[Peržiūrėti importuotą formatą](er-defer-xml-element.md#review-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="613e9-121">[Review the imported format](er-defer-xml-element.md#review-the-imported-format).</span></span>

> [!NOTE]
> <span data-ttu-id="613e9-122">Šiuo metu formato struktūra prasideda nuo **Failo** tipo elemento **Ataskaita**, kuriame yra XML elementų.</span><span class="sxs-lookup"><span data-stu-id="613e9-122">Currently, the format structure starts from the **Report** element of the **File** type and contains XML elements.</span></span> <span data-ttu-id="613e9-123">Todėl siunčiamas dokumentas bus sugeneruotas XML formatu ir nebus naudojamas joks glaudinimas.</span><span class="sxs-lookup"><span data-stu-id="613e9-123">Therefore, an outbound document will be generated in XML format, and no compression will be used.</span></span>

### <a name="generate-an-er-format-to-get-an-uncompressed-document"></a><span data-ttu-id="613e9-124">ER formato generavimas nesuglaudinto dokumento gavimui</span><span class="sxs-lookup"><span data-stu-id="613e9-124">Generate an ER format to get an uncompressed document</span></span>

1. <span data-ttu-id="613e9-125">[Vykdykite importuotą formatą](er-defer-xml-element.md#run-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="613e9-125">[Run the imported format](er-defer-xml-element.md#run-the-imported-format).</span></span>
2. <span data-ttu-id="613e9-126">Atkreipkite dėmesį, kad sugeneruoto dokumento dydis XML formatu yra 3 kilobaitų (KB).</span><span class="sxs-lookup"><span data-stu-id="613e9-126">Notice that the size of the generated document in XML format is 3 kilobytes (KB).</span></span>

    ![Nesuglaudinto siunčiamo dokumento peržiūra](./media/er-compress-outbound-files1.png)

### <a name="modify-the-format-to-compress-the-generated-output"></a><span data-ttu-id="613e9-128">Formato modifikavimas sugeneruotos išvesties glaudinimui</span><span class="sxs-lookup"><span data-stu-id="613e9-128">Modify the format to compress the generated output</span></span>

1. <span data-ttu-id="613e9-129">Eikite į **Organizacijos administravimas** \> **Elektroninės ataskaitos** \> **Konfigūracijos**.</span><span class="sxs-lookup"><span data-stu-id="613e9-129">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="613e9-130">Puslapyje **Konfigūracijos** konfigūracijos medyje išplėskite **Modelis, norint sužinoti apie atidėtus elementus**.</span><span class="sxs-lookup"><span data-stu-id="613e9-130">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
3. <span data-ttu-id="613e9-131">Pasirinkite konfigūraciją **Formatavimas atidėtiems XML elementams rasti**.</span><span class="sxs-lookup"><span data-stu-id="613e9-131">Select the **Format to learn deferred XML elements** configuration.</span></span>
4. <span data-ttu-id="613e9-132">Pasirinkite **Dizaino įrankis** formato struktūros modifikavimui.</span><span class="sxs-lookup"><span data-stu-id="613e9-132">Select **Designer** to modify the format structure.</span></span>
5. <span data-ttu-id="613e9-133">Puslapio **Formato dizaino įrankis** skirtuke **Formatas** pasirinkite **Pridėti šaknį** šakninio formato elemento pridėjimui.</span><span class="sxs-lookup"><span data-stu-id="613e9-133">On the **Format designer** page, on the **Format** tab, select **Add root** to add a root format element.</span></span>
6. <span data-ttu-id="613e9-134">Dialogo lange **Pridėti** pasirinkite **Bendra\\Aplankas**.</span><span class="sxs-lookup"><span data-stu-id="613e9-134">In the **Add** dialog box, select **Common\\Folder**.</span></span>
7. <span data-ttu-id="613e9-135">Pasirinkite **Gerai** naujo šakninio elemento pridėjimo patvirtinimui.</span><span class="sxs-lookup"><span data-stu-id="613e9-135">Select **OK** to confirm the addition of the new root element.</span></span>
8. <span data-ttu-id="613e9-136">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="613e9-136">Select **Save**.</span></span>

> [!NOTE]
> <span data-ttu-id="613e9-137">Formato struktūra prasideda nuo **Aplanko** tipo elemento.</span><span class="sxs-lookup"><span data-stu-id="613e9-137">The format structure starts from the element of the **Folder** type.</span></span> <span data-ttu-id="613e9-138">Šis elementas sugeneruos išvestį kaip suglaudintą (zip) failą.</span><span class="sxs-lookup"><span data-stu-id="613e9-138">This element will generate output as a compressed (zip) file.</span></span> <span data-ttu-id="613e9-139">Kai dokumentas, kurį sugeneravo **Ataskaitos** elementas, yra siunčiamą zip failą, jo turinys bus glaudinamas, kad būtų sumažintas siunčiamo failo dydis.</span><span class="sxs-lookup"><span data-stu-id="613e9-139">When a document that is generated by the **Report** element is put in an outbound zip file, its content will be compressed to reduce the size of the outbound file.</span></span>

### <a name="generate-an-er-format-to-get-a-compressed-document"></a><span data-ttu-id="613e9-140">ER formato generavimas suglaudinto dokumento gavimui</span><span class="sxs-lookup"><span data-stu-id="613e9-140">Generate an ER format to get a compressed document</span></span>

1. <span data-ttu-id="613e9-141">Puslapyje **Formato dizaino įrankis** pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="613e9-141">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="613e9-142">Atsisiųskite zip failą, kuris siūlomas žiniatinklio naršyklėje ir atidarę jį peržiūrėkite.</span><span class="sxs-lookup"><span data-stu-id="613e9-142">Download the zip file that the web browser offers, and open it for review.</span></span>
3. <span data-ttu-id="613e9-143">Atkreipkite dėmesį, kad sugeneruoto dokumento dydis ZIP formatu yra 1 KB.</span><span class="sxs-lookup"><span data-stu-id="613e9-143">Notice that the size of the generated document in ZIP format is 1 KB.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="613e9-144">XML failo, kuris yra zip failas, glaudinimo koeficientas yra 87 procentai.</span><span class="sxs-lookup"><span data-stu-id="613e9-144">The compression ratio of the XML file that this zip file holds is 87 percent.</span></span> <span data-ttu-id="613e9-145">Glaudinimo koeficientas priklauso nuo glaudinimų duomenų.</span><span class="sxs-lookup"><span data-stu-id="613e9-145">The compression ratio depends on the data that is being compressed.</span></span>

    ![Suglaudinto siunčiamo dokumento peržiūra](./media/er-compress-outbound-files2.png)

> [!NOTE]
> <span data-ttu-id="613e9-147">Jei ER [paskirties vieta](electronic-reporting-destinations.md) yra konfigūruojama formato elementui, kuris generuoja išvestį (šiame pavyzdyje – **Ataskaitos** elementas), išvesties glaudinimas bus apeinamas.</span><span class="sxs-lookup"><span data-stu-id="613e9-147">If the ER [destination](electronic-reporting-destinations.md) is configured for the format element that generates output (the **Report** element in this example), compression of the output will be bypassed.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="613e9-148">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="613e9-148">Additional resources</span></span>

[<span data-ttu-id="613e9-149">Elektroninių ataskaitų (ER) apžvalga</span><span class="sxs-lookup"><span data-stu-id="613e9-149">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="613e9-150">Elektroninių ataskaitų (ER) paskirties vietos</span><span class="sxs-lookup"><span data-stu-id="613e9-150">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="613e9-151">XML elementų ER formatais vykdymo atidėjimas</span><span class="sxs-lookup"><span data-stu-id="613e9-151">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]