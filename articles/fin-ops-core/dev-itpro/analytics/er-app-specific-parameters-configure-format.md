---
title: Kaip sukonfigūruoti, kad būtų naudojami ER formatų parametrai, nurodyti kiekvienam juridiniam subjektui
description: Šioje temoje paaiškinama, kaip galite sukonfigūruoti, kad būtų naudojami modulio Elektroninės ataskaitos (ER) formatai, nurodyti kiekvienam juridiniam subjektui.
author: NickSelin
manager: AnnBe
ms.date: 10/26/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: d32da76ee46ff5293ae8fefb16d251564b6be21a
ms.sourcegitcommit: d6196d83c7b9166ddb4fe43a91e6bd0ad9da2099
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 10/31/2019
ms.locfileid: "2694251"
---
# <a name="configure-er-formats-to-use-parameters-that-are-specified-per-legal-entity"></a><span data-ttu-id="9a970-103">Kaip sukonfigūruoti, kad būtų naudojami ER formatų parametrai, nurodyti kiekvienam juridiniam subjektui</span><span class="sxs-lookup"><span data-stu-id="9a970-103">Configure ER formats to use parameters that are specified per legal entity</span></span>

[!include[banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="9a970-104">Peržiūrėti</span><span class="sxs-lookup"><span data-stu-id="9a970-104">Overview</span></span>

<span data-ttu-id="9a970-105">Daugelyje modulio Elektroninės ataskaitos (ER) formatų, kuriuos kursite, turite filtruoti duomenis naudodami reikšmių, kurios yra konkrečios jūsų egzemplioriaus juridinio subjekto reikšmės, rinkinį (pavyzdžiui, mokesčių kodų rinkinį mokesčių operacijoms filtruoti).</span><span class="sxs-lookup"><span data-stu-id="9a970-105">In many of the Electronic reporting (ER) formats that you will design, you must filter data by using a set of values that are specific to each legal entity of your instance (for example, a set of tax codes to filter tax transactions).</span></span> <span data-ttu-id="9a970-106">Šiuo metu, kai ER formate sukonfigūruotas šio tipo filtravimas, ER formato reiškiniuose naudojant nuo juridinio subjekto priklausančias reikšmes (pavyzdžiui, mokesčių kodus) nurodomos duomenų filtravimo taisyklės.</span><span class="sxs-lookup"><span data-stu-id="9a970-106">Currently, when filtering of this type is configured in an ER format, values that are dependent on the legal entity (for example, tax codes) are used in expressions of the ER format to specify data filtering rules.</span></span> <span data-ttu-id="9a970-107">Todėl ER formatas sukuriamas konkrečiam juridiniam subjektui ir, norėdami kurti reikiamas ataskaitas, kiekvienam juridiniam subjektui, kuriam turite vykdyti ER formatą, turite sukurti išvestines pradinio ER formato kopijas.</span><span class="sxs-lookup"><span data-stu-id="9a970-107">Therefore, the ER format is made legal entity–specific, and to generate the required reports, you must create derived copies of the original ER format for each legal entity where you have to run the ER format.</span></span> <span data-ttu-id="9a970-108">Kiekvieną išvestinį ER formatą reikia redaguoti, kad į jį būtų perkeltos konkretaus juridinio subjekto reikšmės, reikia keisti jo pagrindą, kai tik atnaujinama pradinė (bazinė) versija, formatą reikia eksportuoti iš tikrinimo aplinkos ir importuoti į gamybos aplinką, kai jį reikia įdiegti gamybai, ir t. t.</span><span class="sxs-lookup"><span data-stu-id="9a970-108">Each derived ER format must be edited to bring legal entity–specific values into it, rebased whenever the original (base) version has been updated, exported from a test environment and imported into a production environment when it must be deployed for production use, and so on.</span></span> <span data-ttu-id="9a970-109">Todėl šio tipo sukonfigūruoto ER sprendimo tvarkymas yra gana sudėtingas ir atima daug laiko dėl kelių tolesnių priežasčių.</span><span class="sxs-lookup"><span data-stu-id="9a970-109">Therefore, maintenance of this type of configured ER solution is quite complex and time-consuming for several reasons:</span></span>

-   <span data-ttu-id="9a970-110">Kuo yra daugiau juridinių subjektų, tuo daugiau ER formatų konfigūracijų reikia tvarkyti.</span><span class="sxs-lookup"><span data-stu-id="9a970-110">The more legal entities there are, the more ER format configurations must be maintained.</span></span>
-   <span data-ttu-id="9a970-111">Kad įmonių vartotojai galėtų tvarkyti ER konfigūracijas, jiems reikia turėti ER žinių.</span><span class="sxs-lookup"><span data-stu-id="9a970-111">Maintenance of ER configurations requires that business users have ER knowledge.</span></span>

<span data-ttu-id="9a970-112">Naudodami konkrečiai ER programai skirtų parametrų funkciją, patyrę vartotojai ER formate gali sukonfigūruoti duomenų filtravimą, kad jis būtų pagrįstas abstrakčių taisyklių rinkiniu.</span><span class="sxs-lookup"><span data-stu-id="9a970-112">The ER application-specific parameters feature lets power users configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="9a970-113">Galima sukonfigūruoti, kad šis taisyklių rinkinys naudotų ER formate esančius duomenų šaltinius.</span><span class="sxs-lookup"><span data-stu-id="9a970-113">This set of rules can be configured to use the data sources that are available in an ER format.</span></span> <span data-ttu-id="9a970-114">Įmonių vartotojai tada gali nurodyti tikras ne tik ER sistemoje taikomas taisykles – tai jie gali daryti naudodami vartotojo sąsają (UI), kuri automatiškai sugeneruojama pagal atitinkamo ER formato parametrus ir tuometinius juridinio subjekto duomenis, kuriuos naudos ER formato duomenų šaltiniai.</span><span class="sxs-lookup"><span data-stu-id="9a970-114">Business users can then specify real rules beyond the ER framework by using the user interface (UI) that is automatically generated based on the settings of the corresponding ER format and the current legal entity data that will be accessed by the ER format's data sources.</span></span> <span data-ttu-id="9a970-115">Nurodytą ER formato taisyklių rinkinį galima eksportuoti iš „Dynamics 365 Finance“ („Finance“) egzemplioriaus tuometinio juridinio subjekto.</span><span class="sxs-lookup"><span data-stu-id="9a970-115">The set of rules that is specified for an ER format can be exported from the current legal entity of the Dynamics 365 Finance (Finance) instance.</span></span> <span data-ttu-id="9a970-116">Tada jį galima importuoti į kitą to paties „Finance“ egzemplioriaus arba kito egzemplioriaus juridinį subjektą kaip to paties ER formato taisyklių rinkinį.</span><span class="sxs-lookup"><span data-stu-id="9a970-116">It can then be imported into another legal entity of either the same Finance instance or a different instance as a set of rules for the same ER format.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="9a970-117">Būtinieji komponentai</span><span class="sxs-lookup"><span data-stu-id="9a970-117">Prerequisites</span></span>

<span data-ttu-id="9a970-118">Norint įvykdyti šioje temoje pateikiamus pavyzdžius, reikia turėti prieigą prie „Regulatory Configuration Services“ (RCS) egzemplioriaus, kuris sukonfigūruotas tam pačiam nuomotojui, kaip „Finance“, vienam iš toliau nurodytų vaidmenų atlikti.</span><span class="sxs-lookup"><span data-stu-id="9a970-118">To complete the examples in this topic, you must have access to the instance of Regulatory Configuration Services (RCS) that has been provisioned for the same tenant as Finance for one of the following roles:</span></span>

- <span data-ttu-id="9a970-119">Elektroninės ataskaitos kūrėjas</span><span class="sxs-lookup"><span data-stu-id="9a970-119">Electronic reporting developer</span></span>
- <span data-ttu-id="9a970-120">Elektroninės ataskaitos funkcijų konsultantas</span><span class="sxs-lookup"><span data-stu-id="9a970-120">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="9a970-121">Sistemos administratorius</span><span class="sxs-lookup"><span data-stu-id="9a970-121">System administrator</span></span>

<span data-ttu-id="9a970-122">Rekomenduojame atlikti veiksmus, aprašytus temoje [Tipo APSKAIČIUOTAS LAUKAS ER duomenų šaltinių parametrizuotų iškvietų palaikymas](er-calculated-field-type.md).</span><span class="sxs-lookup"><span data-stu-id="9a970-122">We recommend that you complete the steps in the [Support parameterized calls of ER data sources of CALCULATED FIELD type](er-calculated-field-type.md) topic.</span></span> <span data-ttu-id="9a970-123">Jei tuos veiksmus jau atlikote, galite praleisti tolesniame skyriuje **ER konfigūracijų importavimas į RCS** aprašytus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9a970-123">If you've already completed those steps, you can skip the steps in the **Import ER configurations into RCS** section that follows.</span></span>

## <a name="import-er-configurations-into-rcs"></a><span data-ttu-id="9a970-124">ER konfigūracijų importavimas į RCS</span><span class="sxs-lookup"><span data-stu-id="9a970-124">Import ER configurations into RCS</span></span>

<span data-ttu-id="9a970-125">Iš [„Microsoft“ atsisiuntimo centro](https://go.microsoft.com/fwlink/?linkid=851448) atsisiųskite ZIP failą **Tipo APSKAIČIUOTAS LAUKAS ER duomenų šaltinių parametrizuotų iškvietų palaikymas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-125">From [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=851448), download the **Support parameterized calls of ER data sources of CALCULATED FIELD type** zip file.</span></span> <span data-ttu-id="9a970-126">Šiame ZIP faile yra tolesnės ER konfigūracijos, kurias reikia išskleisti ir saugoti vietoje.</span><span class="sxs-lookup"><span data-stu-id="9a970-126">This zip file contains the following ER configurations that must be extracted and stored locally.</span></span>

| <span data-ttu-id="9a970-127">**Turinio aprašas**</span><span class="sxs-lookup"><span data-stu-id="9a970-127">**Content description**</span></span>                        | <span data-ttu-id="9a970-128">**Failo vardas**</span><span class="sxs-lookup"><span data-stu-id="9a970-128">**File name**</span></span>                                        |
|------------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="9a970-129">**ER duomenų modelio** konfigūracijos pavyzdžio failas</span><span class="sxs-lookup"><span data-stu-id="9a970-129">Sample **ER data model** configuration file</span></span>    | <span data-ttu-id="9a970-130">Parametrizuotų kvietimų mokymo modelis.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-130">Model to learn parameterized calls.version.1.xml</span></span>     |
| <span data-ttu-id="9a970-131">**ER metaduomenų** konfigūracijos pavyzdžio failas</span><span class="sxs-lookup"><span data-stu-id="9a970-131">Sample **ER metadata** configuration file</span></span>      | <span data-ttu-id="9a970-132">Parametrizuotų kvietimų mokymo metaduomenys.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-132">Metadata to learn parameterized calls.version.1.xml</span></span>  |
| <span data-ttu-id="9a970-133">**ER modelio susiejimo** konfigūracijos pavyzdžio failas</span><span class="sxs-lookup"><span data-stu-id="9a970-133">Sample **ER model mapping** configuration file</span></span> | <span data-ttu-id="9a970-134">Parametrizuotų kvietimų mokymo susiejimas.versija.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-134">Mapping to learn parameterized calls.version.1.1.xml</span></span> |
| <span data-ttu-id="9a970-135">**ER formato** konfigūracijos pavyzdys</span><span class="sxs-lookup"><span data-stu-id="9a970-135">Sample **ER format** configuration</span></span>             | <span data-ttu-id="9a970-136">Parametrizuotų kvietimų mokymo formatas.versija.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-136">Format to learn parameterized calls.version.1.1.xml</span></span>  |

<span data-ttu-id="9a970-137">Tada prisijunkite prie savo RCS egzemplioriaus.</span><span class="sxs-lookup"><span data-stu-id="9a970-137">Next, sign in to your RCS instance.</span></span>

<span data-ttu-id="9a970-138">Šiame pavyzdyje sukursite pavyzdinės įmonės „Litware, Inc“ konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="9a970-138">In this example, you will create a configuration for the Litware, Inc sample company.</span></span> <span data-ttu-id="9a970-139">Kad galėtumėte atlikti šią procedūrą, turite atlikti RCS temoje [Konfigūracijų teikėjo sukūrimas ir pažymėjimas aktyviu](tasks/er-configuration-provider-mark-it-active-2016-11.md) aprašytus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9a970-139">Before you can complete this procedure, you must complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) topic in RCS.</span></span>

1.  <span data-ttu-id="9a970-140">Numatytoje ataskaitų srityje pasirinkite **Elektroninės ataskaitos**.</span><span class="sxs-lookup"><span data-stu-id="9a970-140">On the default dashboard, select **Electronic reporting**.</span></span>
2.  <span data-ttu-id="9a970-141">Pasirinkite **Ataskaitų konfigūracijos**.</span><span class="sxs-lookup"><span data-stu-id="9a970-141">Select **Reporting configurations**.</span></span>
3.  <span data-ttu-id="9a970-142">Anksčiau atsisiųstas ER konfigūracijas tolesne tvarka importuokite į RCS: duomenų modelis, metaduomenys, modelio susiejimas ir formatas.</span><span class="sxs-lookup"><span data-stu-id="9a970-142">Import the ER configurations that you downloaded earlier into RCS, in the following order: data model, metadata, model mapping, and format.</span></span> <span data-ttu-id="9a970-143">Kurdami kiekvieną ER konfigūraciją atlikite toliau nurodytus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9a970-143">For each ER configuration, follow these steps:</span></span>

    1.  <span data-ttu-id="9a970-144">Pasirinkite **Keitimas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-144">Select **Exchange**.</span></span>
    2.  <span data-ttu-id="9a970-145">Pasirinkite **Įkelti iš XML failo**.</span><span class="sxs-lookup"><span data-stu-id="9a970-145">Select **Load from XML file**.</span></span>
    3.  <span data-ttu-id="9a970-146">Paspaudę **Naršyti** pasirinkite reikiamos ER konfigūracijos failą XML formatu.</span><span class="sxs-lookup"><span data-stu-id="9a970-146">Select **Browse** to select the file for the required ER configuration in XML format.</span></span>
    4.  <span data-ttu-id="9a970-147">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-147">Select **OK**.</span></span>

## <a name="review-the-er-solution-that-is-provided"></a><span data-ttu-id="9a970-148">Pateikto ER sprendimo peržiūra</span><span class="sxs-lookup"><span data-stu-id="9a970-148">Review the ER solution that is provided</span></span>

1.  <span data-ttu-id="9a970-149">Konfigūracijos medyje išplėskite elemento **Parametrizuotų iškvietų mokymo modelis** turinį.</span><span class="sxs-lookup"><span data-stu-id="9a970-149">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="9a970-150">Pasirinkite elementą **Parametrizuotų iškvietų mokymo formatas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-150">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="9a970-151">Pasirinkite **Dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-151">Select **Designer**.</span></span>
4.  <span data-ttu-id="9a970-152">Pasirinkite **Išplėsti / sutraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-152">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="9a970-153">ER formatas **Parametrizuotų iškvietų mokymo formatas** skirtas tam, kad būtų galima generuoti XML formato mokesčių išrašą, kuriame būtų pateikiami keli apmokestinimo lygiai (įprastas, sumažintas ir joks).</span><span class="sxs-lookup"><span data-stu-id="9a970-153">The **Format to learn parameterized calls** ER format is designed to generate a tax statement in XML format that presents several levels of taxation (regular, reduced, and none).</span></span> <span data-ttu-id="9a970-154">Kiekviename lygyje pateikiamas skirtingas informacijos kiekis.</span><span class="sxs-lookup"><span data-stu-id="9a970-154">Each level has a different number of details.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ReviewFormat.PNG)

5.  <span data-ttu-id="9a970-156">Skirtuke **Susiejimas** išplėskite elementus **Modelis**, **Duomenys** ir **Suvestinė**.</span><span class="sxs-lookup"><span data-stu-id="9a970-156">On the **Mapping** tab, expand the **Model**, **Data**, and **Summary** items.</span></span>

    <span data-ttu-id="9a970-157">Duomenų šaltinis **Model.Data.Summary** pateikia mokesčių operacijų sąrašą.</span><span class="sxs-lookup"><span data-stu-id="9a970-157">The **Model.Data.Summary** data source returns the list of tax transactions.</span></span> <span data-ttu-id="9a970-158">Šių operacijų suvestinė pateikiama pagal mokesčio kodą.</span><span class="sxs-lookup"><span data-stu-id="9a970-158">These transactions are summarized by tax code.</span></span> <span data-ttu-id="9a970-159">Naudojant šį duomenų šaltinį, apskaičiuotas laukas **Model.Data.Summary.Level** sukonfigūruotas taip, kad jame būtų pateikiamas kiekvieno apibendrinto įrašo apmokestinimo lygio kodas.</span><span class="sxs-lookup"><span data-stu-id="9a970-159">For this data source, the **Model.Data.Summary.Level** calculated field has been configured to return the code for the taxation level of each summarized record.</span></span> <span data-ttu-id="9a970-160">Pasirinkus mokesčio kodą, kurį vykdymo metu galima gauti iš duomenų šaltinio **Model.Data.Summary**, apskaičiuotame lauke kaip tekstinė reikšmė pateikiamas apmokestinimo lygio kodas (**Įprastas**, **Sumažintas**, **Joks** arba **Kita**).</span><span class="sxs-lookup"><span data-stu-id="9a970-160">For any tax code that can be retrieved from the **Model.Data.Summary** data source at runtime, the calculated field returns the taxation level code (**Regular**, **Reduced**, **None**, or **Other**) as a text value.</span></span> <span data-ttu-id="9a970-161">Apskaičiuotas laukas **Model.Data.Summary.Level** naudojamas norint filtruoti duomenų šaltinio **Model.Data.Summary** įrašus ir filtruotus duomenis įvesti kiekviename XML elemente, vaizduojančiame apmokestinimo lygį – naudojami laukai **Model.Data2.Level1**, **Model.Data2.Level2** ir **Model.Data2.Level3**.</span><span class="sxs-lookup"><span data-stu-id="9a970-161">The **Model.Data.Summary.Level** calculated field is used to filter records of the **Model.Data.Summary** data source and enter the filtered data in each XML element that represents a taxation level by using the **Model.Data2.Level1**, **Model.Data2.Level2**, and **Model.Data2.Level3** fields.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ReviewFormat-Data2Fld.PNG)

    <span data-ttu-id="9a970-163">Apskaičiuotas laukas **Model.Data.Summary.Level** sukonfigūruotas taip, kad jame būtų ER reiškinys.</span><span class="sxs-lookup"><span data-stu-id="9a970-163">The **Model.Data.Summary.Level** calculated field has been configured so that it contains an ER expression.</span></span> <span data-ttu-id="9a970-164">Atkreipkite dėmesį, kad mokesčių kodai (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD** ir **InVAT0**) į šią konfigūraciją yra įprogramuoti.</span><span class="sxs-lookup"><span data-stu-id="9a970-164">Note that tax codes (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD**, and **InVAT0**) are hardcoded into this configuration.</span></span> <span data-ttu-id="9a970-165">Todėl šis ER formatas priklauso nuo juridinio subjekto, kuriam šie mokesčių kodai buvo sukonfigūruoti.</span><span class="sxs-lookup"><span data-stu-id="9a970-165">Therefore, this ER format is dependent on the legal entity where these tax codes were configured.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ReviewFormat-LevelFld.PNG)

    <span data-ttu-id="9a970-167">Norėdami kiekvienam juridiniam subjektui įjungti skirtingą mokesčių kodų rinkinį, turite atlikti tolesnius veiksmus.</span><span class="sxs-lookup"><span data-stu-id="9a970-167">To support a different set of tax codes for each legal entity, you must follow these steps:</span></span>

    - <span data-ttu-id="9a970-168">Kiekvienam juridiniam subjektui sukurti išvestinę ER formato versiją.</span><span class="sxs-lookup"><span data-stu-id="9a970-168">Create a derived version of the ER format for each legal entity.</span></span>
    - <span data-ttu-id="9a970-169">Pagal juridinio subjekto parametrą atnaujinti apskaičiuoto lauko **Model.Data.Summary.Level** mokesčių kodus.</span><span class="sxs-lookup"><span data-stu-id="9a970-169">Update the tax codes in the **Model.Data.Summary.Level** calculated field, based on the legal entity setting.</span></span>

6.  <span data-ttu-id="9a970-170">Uždarykite puslapį **Formato dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-170">Close the **Format designer** page.</span></span>

## <a name="create-a-derived-format"></a><span data-ttu-id="9a970-171">Sukurkite išvestinį formatą</span><span class="sxs-lookup"><span data-stu-id="9a970-171">Create a derived format</span></span>

<span data-ttu-id="9a970-172">Toliau, naudodami konkrečios ER programos parametrų funkciją, įjungsite galimybę viename ER formate kiekvienam juridiniam subjektui naudoti skirtingą mokesčių kodų rinkinį.</span><span class="sxs-lookup"><span data-stu-id="9a970-172">Next, you will use the ER application-specific parameters feature to support a different set of tax codes for each legal entity in a single ER format.</span></span>

1.  <span data-ttu-id="9a970-173">Konfigūracijos medyje išplėskite elemento **Parametrizuotų iškvietų mokymo modelis** turinį.</span><span class="sxs-lookup"><span data-stu-id="9a970-173">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="9a970-174">Pasirinkite elementą **Parametrizuotų iškvietų mokymo formatas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-174">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="9a970-175">Pasirinkite **Kurti konfigūraciją**.</span><span class="sxs-lookup"><span data-stu-id="9a970-175">Select **Create configuration**.</span></span>
4.  <span data-ttu-id="9a970-176">Pasirinkite parinktį **Kildinti iš pavadinimo: parametrizuotų iškvietų mokymo formatas, „Microsoft“**.</span><span class="sxs-lookup"><span data-stu-id="9a970-176">Select the **Derive from Name: Format to learn parameterized calls, Microsoft** option.</span></span>
5.  <span data-ttu-id="9a970-177">Lauke **Pavadinimas** įveskite **Mokymo, kaip peržvelgti LE duomenis, formatas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-177">In the **Name** field, enter **Format to learn how to lookup LE data**.</span></span>
6.  <span data-ttu-id="9a970-178">Pasirinkite **Kurti konfigūraciją**.</span><span class="sxs-lookup"><span data-stu-id="9a970-178">Select **Create configuration**.</span></span>

## <a name="configure-a-derived-format"></a><span data-ttu-id="9a970-179">Išvestinio formato konfigūravimas</span><span class="sxs-lookup"><span data-stu-id="9a970-179">Configure a derived format</span></span>

### <a name="add-a-format-enumeration"></a><span data-ttu-id="9a970-180">Formatų išvardijimo įtraukimas</span><span class="sxs-lookup"><span data-stu-id="9a970-180">Add a format enumeration</span></span>

<span data-ttu-id="9a970-181">Toliau įtrauksite naują ER formatų išvardijimą.</span><span class="sxs-lookup"><span data-stu-id="9a970-181">Next, you will add a new ER format enumeration.</span></span> <span data-ttu-id="9a970-182">Šio formato išvardijimo reikšmės bus pateiktos įmonių vartotojams, kurie nurodys įvairių apmokestinimo lygių konkrečius nuo juridinio subjekto priklausomus mokesčių kodų rinkinius, naudojamus ER formate.</span><span class="sxs-lookup"><span data-stu-id="9a970-182">The values of this format enumeration will be presented to business users, who will specify legal entity–dependent sets of tax codes for the various taxation levels that are used in the ER format.</span></span>

1.  <span data-ttu-id="9a970-183">Pasirinkite **Dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-183">Select **Designer**.</span></span>
2.  <span data-ttu-id="9a970-184">Pasirinkite **Formatų išvardijimai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-184">Select **Format enumerations**.</span></span>
3.  <span data-ttu-id="9a970-185">Pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-185">Select **Add**.</span></span>
4.  <span data-ttu-id="9a970-186">Lauke **Pavadinimas** įveskite **Apmokestinimo lygių sąrašas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-186">In the **Name** field, enter **List of taxation levels**.</span></span>
5.  <span data-ttu-id="9a970-187">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-187">Select **Save**.</span></span>
6.  <span data-ttu-id="9a970-188">Skirtuke **Formatų išvardijimo reikšmės** pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-188">On the **Format enumeration values** tab, select **Add**.</span></span>
7.  <span data-ttu-id="9a970-189">Lauke **Pavadinimas** įveskite **Įprastas apmokestinimas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-189">In the **Name** field, enter **Regular taxation**.</span></span>
8.  <span data-ttu-id="9a970-190">Dar kartą pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-190">Select **Add** again.</span></span>
9.  <span data-ttu-id="9a970-191">Lauke **Pavadinimas** įveskite **Sumažintas apmokestinimas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-191">In the **Name** field, enter **Reduced taxation**.</span></span>
10. <span data-ttu-id="9a970-192">Dar kartą pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-192">Select **Add** again.</span></span>
11. <span data-ttu-id="9a970-193">Lauke **Pavadinimas** įveskite **Apmokestinimo nėra**.</span><span class="sxs-lookup"><span data-stu-id="9a970-193">In the **Name** field, enter **No taxation**.</span></span>
12. <span data-ttu-id="9a970-194">Dar kartą pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-194">Select **Add** again.</span></span>
13. <span data-ttu-id="9a970-195">Lauke **Pavadinimas** įveskite **Kita**.</span><span class="sxs-lookup"><span data-stu-id="9a970-195">In the **Name** field, enter **Other**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-Enum.PNG)

    <span data-ttu-id="9a970-197">Kadangi nurodydami nuo juridinio subjekto priklausančius mokesčių kodų rinkinius įmonių vartotojai gali naudoti skirtingas kalbas, rekomenduojame šio išvardijimo reikšmes išversti į kalbas, kurios yra sukonfigūruotos kaip pageidaujamos tų vartotojų kalbos programoje „Finance“.</span><span class="sxs-lookup"><span data-stu-id="9a970-197">Because the business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the values of this enumeration into the languages that are configured as the preferred languages for those users in Finance.</span></span>

14. <span data-ttu-id="9a970-198">Pasirinkite įrašą **Apmokestinimo nėra**.</span><span class="sxs-lookup"><span data-stu-id="9a970-198">Select the **No taxation** record.</span></span>
15. <span data-ttu-id="9a970-199">Spustelėkite lauką **Žyma**.</span><span class="sxs-lookup"><span data-stu-id="9a970-199">Click in the **Label** field.</span></span>
16. <span data-ttu-id="9a970-200">Pasirinkite **Versti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-200">Select **Translate**.</span></span>
17. <span data-ttu-id="9a970-201">Srities **Teksto vertimas** lauke **Žymos ID** įveskite **LBL_LEVELENUM_NO**.</span><span class="sxs-lookup"><span data-stu-id="9a970-201">In the **Text translation** pane, in the **Label Id** field, enter **LBL_LEVELENUM_NO**.</span></span>
18. <span data-ttu-id="9a970-202">Lauke **Tekstas numatytąja kalba** įveskite **Apmokestinimo nėra**.</span><span class="sxs-lookup"><span data-stu-id="9a970-202">In the **Text in default language** field, enter **No taxation**.</span></span>
19. <span data-ttu-id="9a970-203">Lauke **Kalba** pasirinkite **LT**.</span><span class="sxs-lookup"><span data-stu-id="9a970-203">In the **Language** field, select **DE**.</span></span>
20. <span data-ttu-id="9a970-204">Lauke **Išverstas tekstas** įveskite **Apmokestinimo nėra**.</span><span class="sxs-lookup"><span data-stu-id="9a970-204">In the **Translated text** field, enter **keine Besteuerung**.</span></span>
21. <span data-ttu-id="9a970-205">Pasirinkite **Versti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-205">Select **Translate**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-EnumTranslate.PNG)

22. <span data-ttu-id="9a970-207">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-207">Select **Save**.</span></span>
23. <span data-ttu-id="9a970-208">Uždarykite puslapį **Formatų išvardijimai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-208">Close the **Format enumerations** page.</span></span>

### <a name="add-a-new-lookup-data-source"></a><span data-ttu-id="9a970-209">Naujo peržvalgos duomenų šaltinio įtraukimas</span><span class="sxs-lookup"><span data-stu-id="9a970-209">Add a new lookup data source</span></span>

<span data-ttu-id="9a970-210">Toliau įtrauksite naują duomenų šaltinį ir nurodysite, kaip įmonių vartotojai nustatys nuo juridinio subjekto priklausančias taisykles, kad būtų galima atpažinti teisingą kiekvieno apibendrinto operacijos įrašo apmokestinimo lygį.</span><span class="sxs-lookup"><span data-stu-id="9a970-210">Next, you will add a new data source to specify how business users will specify legal entity–dependent rules to recognize the correct taxation level for each summarized transaction record.</span></span>

1.  <span data-ttu-id="9a970-211">Skirtuke **Susiejimas** pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-211">On the **Mapping** tab, select **Add**.</span></span>
2.  <span data-ttu-id="9a970-212">Pasirinkite **Formatų išvardijimas\Peržvalga**.</span><span class="sxs-lookup"><span data-stu-id="9a970-212">Select **Format enumeration\Lookup**.</span></span>

    <span data-ttu-id="9a970-213">Ką tik nustatėte, kad kiekviena taisyklė, kurią įmonių vartotojai nurodo apmokestinimo lygiui atpažinti, pateiks ER formato išvardijimo reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9a970-213">You just identified that each rule that business users specify for taxation level recognition will return a value of an ER format enumeration.</span></span> <span data-ttu-id="9a970-214">Atkreipkite dėmesį, kad duomenų šaltinio tipą **Peržvalga** galima pasiekti ne tik bloke **Formatų išvardijimas**, bet ir blokuose **Duomenų modelis** ir **„Dynamics 365 for Operations“**.</span><span class="sxs-lookup"><span data-stu-id="9a970-214">Notice that the **Lookup** data source type can be accessed under the **Data model** and **Dynamics 365 for Operations** blocks in addition to the **Format enumeration** block.</span></span> <span data-ttu-id="9a970-215">Todėl, naudojant ER duomenų modelio išvardijimus ir programos išvardijimus, galima nurodyti pateikiamų to tipo duomenų šaltinių reikšmių tipą.</span><span class="sxs-lookup"><span data-stu-id="9a970-215">Therefore, ER data model enumerations and application enumerations can be used to specify the type of values that is are returned for data sources of that type.</span></span>
    
3.  <span data-ttu-id="9a970-216">Lauke **Pavadinimas** įveskite **Išrinkiklis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-216">In the **Name** field, enter **Selector**.</span></span>
4.  <span data-ttu-id="9a970-217">Lauke **Formatų išvardijimas** pasirinkite **Apmokestinimo lygių sąrašas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-217">In the **Format enumeration** field, select **List of taxation levels**.</span></span>

    <span data-ttu-id="9a970-218">Ką tik nustatėte, kad kiekvienai taisyklei, nurodytai šiame duomenų šaltinyje, įmonės vartotojas kaip pateikiamą reikšmę turi pasirinkti vieną iš formatų išvardijimo **Apmokestinimo lygių sąrašas** reikšmių.</span><span class="sxs-lookup"><span data-stu-id="9a970-218">You just specified that, for each rule that is specified in this data source, a business user must select one of the values of the **List of taxation levels** format enumeration as a returned value.</span></span>
    
5.  <span data-ttu-id="9a970-219">Pasirinkite **Redaguoti peržvalgą**.</span><span class="sxs-lookup"><span data-stu-id="9a970-219">Select **Edit lookup**.</span></span>
6.  <span data-ttu-id="9a970-220">Pasirinkite **Stulpeliai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-220">Select **Columns**.</span></span>
7.  <span data-ttu-id="9a970-221">Išplėskite elementą **Modelis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-221">Expand the **Model** item.</span></span>
8.  <span data-ttu-id="9a970-222">Išplėskite elementą **Duomenys**.</span><span class="sxs-lookup"><span data-stu-id="9a970-222">Expand the **Data** item.</span></span>
9.  <span data-ttu-id="9a970-223">Išplėskite elementą **Mokestis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-223">Expand the **Tax** item.</span></span>
10. <span data-ttu-id="9a970-224">Pasirinkite elementą **Model.Data.Tax.Code**.</span><span class="sxs-lookup"><span data-stu-id="9a970-224">Select the **Model.Data.Tax.Code** item.</span></span>
11. <span data-ttu-id="9a970-225">Pasirinkite mygtuką **Įtraukti** (rodyklę dešinėn).</span><span class="sxs-lookup"><span data-stu-id="9a970-225">Select the **Add** button (the right arrow).</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-Lookup1.PNG)

    <span data-ttu-id="9a970-227">Ką tik nustatėte, kad kiekvienai taisyklei, šiame duomenų šaltinyje nurodytai apmokestinimo lygiui atpažinti, įmonės vartotojas kaip sąlygą turi pasirinkti vieną iš mokesčių kodų.</span><span class="sxs-lookup"><span data-stu-id="9a970-227">You just specified that, for each rule that is specified in this data source for taxation level recognition, a business user must select one of the tax codes as a condition.</span></span> <span data-ttu-id="9a970-228">Mokesčių kodų, kuriuos įmonės vartotojas gali pasirinkti, sąrašas bus pateikiamas duomenų šaltinyje **Model.Data.Tax**.</span><span class="sxs-lookup"><span data-stu-id="9a970-228">The list of tax codes that the business user can select will be returned by the **Model.Data.Tax** data source.</span></span> <span data-ttu-id="9a970-229">Kadangi šiame duomenų šaltinyje yra laukas **Pavadinimas**, įmonės vartotojui pateikiamoje peržvalgoje bus rodomas kiekvienos mokesčio kodo reikšmės pavadinimas.</span><span class="sxs-lookup"><span data-stu-id="9a970-229">Because this data source contains the **Name** field, the name of the tax code will be shown for each tax code value in the lookup that is presented to the business user.</span></span>
    
12. <span data-ttu-id="9a970-230">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-230">Select **OK**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-Lookup2.PNG)

    <span data-ttu-id="9a970-232">Įmonių vartotojai kaip šio duomenų šaltinio įrašus gali įtraukti kelias taisykles.</span><span class="sxs-lookup"><span data-stu-id="9a970-232">Business users can add multiple rules as records of this data source.</span></span> <span data-ttu-id="9a970-233">Kiekvienas įrašas bus sunumeruotas pagal eilutės kodą.</span><span class="sxs-lookup"><span data-stu-id="9a970-233">Each record will be numbered by a line code.</span></span> <span data-ttu-id="9a970-234">Taisyklės bus vertinamos eilutės numerio didėjimo tvarka.</span><span class="sxs-lookup"><span data-stu-id="9a970-234">Rules will be evaluated in order of increasing line number.</span></span>

    <span data-ttu-id="9a970-235">Kadangi šiame peržvalgos duomenų šaltinyje kaip taisyklių sąlygą pasirinkote lauką **Mokesčio kodas** ir kadangi **Mokesčio kodas** yra nustatytas kaip duomenų tipo **Eilutė** laukas, vykdymo metu kiekviena taisyklė bus vertinama mokesčio kodą, perduotą į duomenų šaltinį, palyginant su mokesčio kodu, kuris nustatytas šiame duomenų šaltinio įraše.</span><span class="sxs-lookup"><span data-stu-id="9a970-235">Because you selected the **Tax code** field as a condition for rules in this lookup data source, and because **Tax code** is set up as a field of the **String** data type, each rule will be evaluated at runtime by comparing the tax code that is passed to the data source with the tax code that is defined in this record of the data source.</span></span>

    <span data-ttu-id="9a970-236">Kai randama taisyklė, tenkinanti sukonfigūruotą sąlygą, šis duomenų šaltinis pateikia taisyklės, kuri apibrėžta lauke **Peržvalgos rezultatas**, peržvalgos reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9a970-236">When a rule that satisfies the configured condition is found, this data source returns the lookup value of the rule that is defined in the **Lookup result** field.</span></span> <span data-ttu-id="9a970-237">Jei taisyklių nerandama, pateikiama išimtis, vartotojui pranešanti, kad dabartinis duomenų šaltinis negali pateikti teisingos reikšmės.</span><span class="sxs-lookup"><span data-stu-id="9a970-237">If no rule is found, an exception is thrown to notify the user that the current data source can't return a correct value.</span></span>

13. <span data-ttu-id="9a970-238">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-238">Select **Save**.</span></span>
14. <span data-ttu-id="9a970-239">Uždarykite puslapį **Peržvalgos konstruktorius**.</span><span class="sxs-lookup"><span data-stu-id="9a970-239">Close the **Lookup designer** page.</span></span>
15. <span data-ttu-id="9a970-240">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-240">Select **OK**.</span></span>

    <span data-ttu-id="9a970-241">Atkreipkite dėmesį, kad įtraukėte naują duomenų šaltinį, kuris apmokestinimo lygį pateiks kaip formatų išvardijimo **Apmokestinimo lygių sąrašas** reikšmę bet kuriam mokesčio kodui, į duomenų šaltinį perduodamam kaip duomenų tipo **Eilutė** parametro **Kodas** argumentui.</span><span class="sxs-lookup"><span data-stu-id="9a970-241">Notice that you added a new data source that will return the taxation level as the value of the **List of taxation levels** format enumeration for any tax code that is passed to the data source as the argument of the **Code** parameter of the **String** data type.</span></span>
    
    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld.PNG)

    <span data-ttu-id="9a970-243">Atkreipkite dėmesį, kad sukonfigūruotų taisyklių vertinimas priklauso nuo laukų, kurie buvo pasirinkti tų taisyklių sąlygoms apibrėžti, duomenų tipo.</span><span class="sxs-lookup"><span data-stu-id="9a970-243">Note that the evaluation of configured rules depends on the data type of the fields that have been selected to define conditions of those rules.</span></span> <span data-ttu-id="9a970-244">Pasirinkus lauką, kuris sukonfigūruotas kaip duomenų tipo **Skaitinis** arba **Data** laukas, kriterijai skirsis nuo anksčiau aprašytų duomenų tipo **Eilutė** kriterijų.</span><span class="sxs-lookup"><span data-stu-id="9a970-244">When you select a field that is configured as a field of either the **Numeric** or **Date** data type, the criteria will differ from the criteria that were described earlier for the **String** data type.</span></span> <span data-ttu-id="9a970-245">Naudojant laukus **Skaitinis** ir **Data**, taisyklę reikia nurodyti kaip reikšmių intervalą.</span><span class="sxs-lookup"><span data-stu-id="9a970-245">For **Numeric** and **Date** fields, the rule must be specified as a range of values.</span></span> <span data-ttu-id="9a970-246">Tada taisyklės sąlyga bus laikoma įvykdyta, kai į duomenų šaltinį perduota reikšmė bus sukonfigūruotame intervale.</span><span class="sxs-lookup"><span data-stu-id="9a970-246">The condition of the rule will then be considered satisfied when a value that is passed to the data source is in the configured range.</span></span>
    
    <span data-ttu-id="9a970-247">Tolesnėje iliustracijoje pateikiamas šio tipo sąrankos pavyzdys.</span><span class="sxs-lookup"><span data-stu-id="9a970-247">The following illustration shows an example of this type of setup.</span></span> <span data-ttu-id="9a970-248">Be duomenų tipo **Eilutė** lauko **Model.Data.Tax.Code** peržvalgos duomenų šaltinio sąlygoms nurodyti taip pat naudojamas duomenų tipo **Realus** laukas **Model.Tax.Summary.Base**.</span><span class="sxs-lookup"><span data-stu-id="9a970-248">In addition to the **Model.Data.Tax.Code** field of the **String** data type, the **Model.Tax.Summary.Base** field of the **Real** data type is used to specify conditions for a lookup data source.</span></span>
    
    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld2.PNG)

    <span data-ttu-id="9a970-250">Kadangi šiam peržvalgos duomenų šaltiniui pasirinkti laukai **Model.Data.Tax.Code** ir **Model.Tax.Summary.Base**, kiekviena šio duomenų šaltinio taisyklė bus konfigūruojama taip, kaip nurodyta toliau.</span><span class="sxs-lookup"><span data-stu-id="9a970-250">Because the **Model.Data.Tax.Code** and **Model.Tax.Summary.Base** fields are selected for this lookup data source, each rule of this data source will be configured in the following way:</span></span>
    
    -   <span data-ttu-id="9a970-251">Pateiktame sąraše formatų išvardijimo **Apmokestinimo lygių sąrašas** reikšmę reikia pasirinkti kaip pateiktą reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9a970-251">In the list that is presented, the value of the **List of taxation levels** format enumeration must be selected as a returned value.</span></span>
    -   <span data-ttu-id="9a970-252">Mokesčio kodą reikia įvesti kaip šios taisyklės sąlygą.</span><span class="sxs-lookup"><span data-stu-id="9a970-252">The tax code must be entered as a condition of this rule.</span></span> <span data-ttu-id="9a970-253">Taikytini tik tie mokesčių kodai, kuriuos pateikia duomenų šaltinis **Model.Data.Tax**.</span><span class="sxs-lookup"><span data-stu-id="9a970-253">Only tax codes that are provided by the **Model.Data.Tax** data source are applicable.</span></span>
    -   <span data-ttu-id="9a970-254">Kaip šios taisyklės sąlygas reikia įvesti minimalią ir maksimalią bazinės mokesčių sumos reikšmes.</span><span class="sxs-lookup"><span data-stu-id="9a970-254">Minimum and maximum values of the tax base amount must be entered as conditions of this rule.</span></span>

    <span data-ttu-id="9a970-255">Vykdymo metu kiekviena šio duomenų šaltinio taisyklė bus vertinama taip, kaip nurodyta toliau.</span><span class="sxs-lookup"><span data-stu-id="9a970-255">Here is how each rule of this data source will be evaluated at runtime:</span></span>
    -   <span data-ttu-id="9a970-256">Ar duomenų tipo **Eilutė** kodas, kuris buvo perduotas į šį duomenų šaltinį, yra lygus taisyklės mokesčio kodui?</span><span class="sxs-lookup"><span data-stu-id="9a970-256">Does the code of the **String** data type that was passed to this data source equal the tax code of a rule?</span></span>
    -   <span data-ttu-id="9a970-257">Ar duomenų tipo **Realus** reikšmė, kuri buvo perkelta į šį duomenų šaltinį, yra tarp konkrečių minimalios ir maksimalios reikšmių?</span><span class="sxs-lookup"><span data-stu-id="9a970-257">Does the value of the **Real** data type that was passed to this data source fall between specific minimum and maximum values?</span></span>

    <span data-ttu-id="9a970-258">Taisyklė bus taikoma taikytina, kai bus tenkinamos abi sąlygos.</span><span class="sxs-lookup"><span data-stu-id="9a970-258">A rule will be considered applicable when both conditions are satisfied.</span></span>

### <a name="translate-the-label-of-the-lookup-data-source-that-was-added"></a><span data-ttu-id="9a970-259">Įtrauktos peržvalgos duomenų šaltinio žymos vertimas</span><span class="sxs-lookup"><span data-stu-id="9a970-259">Translate the label of the lookup data source that was added</span></span>

<span data-ttu-id="9a970-260">Kadangi nurodydami nuo juridinio subjekto priklausančius mokesčių kodų rinkinius įmonių vartotojai gali naudoti skirtingas kalbas, rekomenduojame bet kokio įtraukto duomenų šaltinio žymą išversti, kad atitinkamame puslapyje ji būtų pateikiama kiekvieno vartotojo pageidaujama kalba.</span><span class="sxs-lookup"><span data-stu-id="9a970-260">Because business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the label of any lookup data source that you add, so that it's presented in each user's preferred language on the corresponding page.</span></span>

1.  <span data-ttu-id="9a970-261">Pasirinkite duomenų šaltinį **Model.Data.Selector**.</span><span class="sxs-lookup"><span data-stu-id="9a970-261">Select the **Model.Data.Selector** data source.</span></span>
2.  <span data-ttu-id="9a970-262">Pasirinkite **Redaguoti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-262">Select **Edit**.</span></span>
3.  <span data-ttu-id="9a970-263">Spustelėkite lauką **Žyma**.</span><span class="sxs-lookup"><span data-stu-id="9a970-263">Click in the **Label** field.</span></span>
4.  <span data-ttu-id="9a970-264">Pasirinkite **Versti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-264">Select **Translate**.</span></span>
5.  <span data-ttu-id="9a970-265">Srities **Teksto vertimas** lauke **Žymos ID** įveskite **LBL_SELECTOR_DS**.</span><span class="sxs-lookup"><span data-stu-id="9a970-265">In the **Text translation** pane, in the **Label Id** field, enter **LBL_SELECTOR_DS**.</span></span>
6.  <span data-ttu-id="9a970-266">Lauke **Tekstas numatytąja kalba** įveskite **Mokesčio lygio pasirinkimas pagal mokesčio kodą**.</span><span class="sxs-lookup"><span data-stu-id="9a970-266">In the **Text in default language** field, enter **Select tax level by tax code**.</span></span>
7.  <span data-ttu-id="9a970-267">Lauke **Kalba** pasirinkite **LT**.</span><span class="sxs-lookup"><span data-stu-id="9a970-267">In the **Language** field, select **DE**.</span></span>
8.  <span data-ttu-id="9a970-268">Lauke **Išverstas tekstas** įveskite **Mokesčio lygio pasirinkimas pagal mokesčio kodą**.</span><span class="sxs-lookup"><span data-stu-id="9a970-268">In the **Translated text** field, enter **Steuerebene für Steuerkennzeichen auswählen**.</span></span>
9.  <span data-ttu-id="9a970-269">Pasirinkite **Versti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-269">Select **Translate**.</span></span>
10. <span data-ttu-id="9a970-270">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-270">Select **OK**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFldTranslate.PNG)

### <a name="add-a-new-field-to-consume-the-configured-lookup"></a><span data-ttu-id="9a970-272">Naujo lauko sukonfigūruotai peržvalgai naudoti įtraukimas</span><span class="sxs-lookup"><span data-stu-id="9a970-272">Add a new field to consume the configured lookup</span></span>

1.  <span data-ttu-id="9a970-273">Išplėskite elementą **Model.Data**.</span><span class="sxs-lookup"><span data-stu-id="9a970-273">Expand the **Model.Data** item.</span></span>
2.  <span data-ttu-id="9a970-274">Pasirinkite elementą **Model.Data.Summary**.</span><span class="sxs-lookup"><span data-stu-id="9a970-274">Select the **Model.Data.Summary** item.</span></span>
3.  <span data-ttu-id="9a970-275">Pasirinkite **Įtraukti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-275">Select **Add**.</span></span>
4.  <span data-ttu-id="9a970-276">Pasirinkite **Funkcijos/Apskaičiuotas laukas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-276">Select **Functions/Calculated field**.</span></span>
5.  <span data-ttu-id="9a970-277">Lauke **Pavadinimas** įveskite **LevelByLookup**.</span><span class="sxs-lookup"><span data-stu-id="9a970-277">In the **Name** field, enter **LevelByLookup**.</span></span>
6.  <span data-ttu-id="9a970-278">Pasirinkite **Redaguoti formulę**.</span><span class="sxs-lookup"><span data-stu-id="9a970-278">Select **Edit formula**.</span></span>
7.  <span data-ttu-id="9a970-279">**Lauke Formulė** įveskite **Model.Selector(Model.Data.Summary.Code)**.</span><span class="sxs-lookup"><span data-stu-id="9a970-279">In the **Formula field**, enter **Model.Selector(Model.Data.Summary.Code)**.</span></span>
8.  <span data-ttu-id="9a970-280">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-280">Select **Save**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld.PNG)

9.  <span data-ttu-id="9a970-282">Uždarykite puslapį **Formulės rengyklė**.</span><span class="sxs-lookup"><span data-stu-id="9a970-282">Close the **Formula editor** page.</span></span>
10. <span data-ttu-id="9a970-283">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-283">Select **OK**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld2.PNG)

    <span data-ttu-id="9a970-285">Atkreipkite dėmesį, kad jūsų įtrauktas apskaičiuotas laukas **LevelByLookup** apmokestinimo lygį pateiks kaip kiekvieno apibendrinto mokesčių operacijų įrašo formatų išvardijimo **Apmokestinimo lygių sąrašas** reikšmę.</span><span class="sxs-lookup"><span data-stu-id="9a970-285">Notice that the **LevelByLookup** calculated field that you added will return the taxation level as the value of the **List of taxation levels** format enumeration for each summarized tax transactions record.</span></span> <span data-ttu-id="9a970-286">Įrašo mokesčio kodas bus perduotas į peržvalgos duomenų šaltinį **Model.Selector** ir šio duomenų šaltinio taisyklių rinkinys bus naudojamas tinkamam apmokestinimo lygiui parinkti.</span><span class="sxs-lookup"><span data-stu-id="9a970-286">The tax code of the record will be passed to the **Model.Selector** lookup data source, and the set of rules for this data source will be used to select the correct taxation level.</span></span>

### <a name="add-a-new-format-enumeration-based-data-source"></a><span data-ttu-id="9a970-287">Naujo formatų išvardijimu paremto duomenų šaltinio įtraukimas</span><span class="sxs-lookup"><span data-stu-id="9a970-287">Add a new format enumeration-based data source</span></span>

<span data-ttu-id="9a970-288">Toliau įtrauksite naują duomenų šaltinį, nurodantį į anksčiau įtrauktą formatų išvardijimą.</span><span class="sxs-lookup"><span data-stu-id="9a970-288">Next, you will add a new data source that refers to the format enumeration that you added earlier.</span></span> <span data-ttu-id="9a970-289">Šio duomenų šaltinio reikšmės vėliau bus naudojamos ER formato reiškinyje.</span><span class="sxs-lookup"><span data-stu-id="9a970-289">Values of this data source will be used in an ER format expression later.</span></span>

1.  <span data-ttu-id="9a970-290">Pasirinkite **Įtraukti šaknį**.</span><span class="sxs-lookup"><span data-stu-id="9a970-290">Select **Add root**.</span></span>
2.  <span data-ttu-id="9a970-291">Pasirinkite **Formatų išvardijimai\Išvardijimas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-291">Select **Format enumerations\Enumeration**.</span></span>
3.  <span data-ttu-id="9a970-292">Lauke **Pavadinimas** įveskite **ApmokestinimoLygis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-292">In the **Name** field, enter **TaxationLevel**.</span></span>
4.  <span data-ttu-id="9a970-293">Lauke **Formatų išvardijimas** pasirinkite **Apmokestinimo lygių sąrašas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-293">In the **Format enumeration** field, select **List of taxation levels**.</span></span>
5.  <span data-ttu-id="9a970-294">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-294">Select **Save**.</span></span>

### <a name="modify-an-existing-field-to-start-to-use-the-lookup"></a><span data-ttu-id="9a970-295">Esamo lauko modifikavimas, kad būtų pradėta naudoti peržvalga</span><span class="sxs-lookup"><span data-stu-id="9a970-295">Modify an existing field to start to use the lookup</span></span>

<span data-ttu-id="9a970-296">Toliau modifikuosite esamą apskaičiuotą lauką, kad jis, naudodamas sukonfigūruotą peržvalgos duomenų šaltinį, pateiktų tinkamą apmokestinimo lygio reikšmę, priklausančią nuo mokesčio kodo.</span><span class="sxs-lookup"><span data-stu-id="9a970-296">Next, you will modify the existing calculated field so that it uses the configured lookup data source to return the correct taxation level value, depending on the tax code.</span></span>

1.  <span data-ttu-id="9a970-297">Pasirinkite elementą **Model.Data.Summary.Level**.</span><span class="sxs-lookup"><span data-stu-id="9a970-297">Select the **Model.Data.Summary.Level** item.</span></span>
2.  <span data-ttu-id="9a970-298">Pasirinkite **Redaguoti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-298">Select **Edit**.</span></span>
3.  <span data-ttu-id="9a970-299">Pasirinkite **Redaguoti formulę**.</span><span class="sxs-lookup"><span data-stu-id="9a970-299">Select **Edit formula**.</span></span>

    <span data-ttu-id="9a970-300">Atkreipkite dėmesį, kad dabartiniame lauko **Model.Data.Summary.Level** reiškinyje yra tolesni užprogramuoti mokesčių kodai.</span><span class="sxs-lookup"><span data-stu-id="9a970-300">Notice that the current expression of the **Model.Data.Summary.Level** field includes the following hard-coded tax codes:</span></span>
    
    <span data-ttu-id="9a970-301">CASE (@.Code, "VAT19", "Regular", "InVAT19", "Regular", "VAT7", "Reduced", "InVAT7", "Reduced", "THIRD", "None", "InVAT0", "None", "Other")</span><span class="sxs-lookup"><span data-stu-id="9a970-301">CASE (@.Code, "VAT19", "Regular", "InVAT19", "Regular", "VAT7", "Reduced", "InVAT7", "Reduced", "THIRD", "None", "InVAT0", "None", "Other")</span></span>

4.  <span data-ttu-id="9a970-302">Lauke **Formulė** įveskite **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regular", TaxationLevel.'Reduced taxation', "Reduced", TaxationLevel.'No taxation', "None", "Other")**.</span><span class="sxs-lookup"><span data-stu-id="9a970-302">In the **Formula** field, enter **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regular", TaxationLevel.'Reduced taxation', "Reduced", TaxationLevel.'No taxation', "None", "Other")**.</span></span>

    ![ER operacijų dizaino įrankio puslapis](./media/RCS-AppSpecParms-ConfigureFormat-ChangeLookupFld.PNG)
    
    <span data-ttu-id="9a970-304">Atkreipkite dėmesį, kad lauko **Model.Data.Summary.Level** reiškinys dabar apmokestinimo lygį pateiks pagal dabartinio įrašo mokesčio kodą ir taisyklių rinkinį, kurį įmonės vartotojas sukonfigūruoja peržvalgos duomenų šaltinyje **Model.Data.Selector**.</span><span class="sxs-lookup"><span data-stu-id="9a970-304">Notice that the expression of the **Model.Data.Summary.Level** field will now return the taxation level, based on the tax code of the current record and the set of rules that that a business user configures in the **Model.Data.Selector** lookup data source.</span></span>
    
5.  <span data-ttu-id="9a970-305">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-305">Select **Save**.</span></span>
6.  <span data-ttu-id="9a970-306">Uždarykite puslapį **Formulės konstruktorius**.</span><span class="sxs-lookup"><span data-stu-id="9a970-306">Close **Formula designer** page.</span></span>
7.  <span data-ttu-id="9a970-307">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-307">Select **OK**.</span></span>
8.  <span data-ttu-id="9a970-308">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-308">Select **Save**.</span></span>
9.  <span data-ttu-id="9a970-309">Uždarykite puslapį **Formato dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="9a970-309">Close **Format designer** page.</span></span>

## <a name="complete-the-draft-version-of-a-derived-format"></a><span data-ttu-id="9a970-310">Išvestinio formato versijos juodraščio baigimas</span><span class="sxs-lookup"><span data-stu-id="9a970-310">Complete the draft version of a derived format</span></span>

1.  <span data-ttu-id="9a970-311">„FastTab“ elemente **Versijos** pasirinkite **Keisti būseną**.</span><span class="sxs-lookup"><span data-stu-id="9a970-311">On the **Versions** fast tab, select **Change status**.</span></span>
2.  <span data-ttu-id="9a970-312">Pasirinkite **Baigti**.</span><span class="sxs-lookup"><span data-stu-id="9a970-312">Select **Complete**.</span></span>
3.  <span data-ttu-id="9a970-313">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-313">Select **OK**.</span></span>

## <a name="export-completed-version-of-modified-format"></a><span data-ttu-id="9a970-314">Baigtos išvestinio formato versijos eksportavimas</span><span class="sxs-lookup"><span data-stu-id="9a970-314">Export completed version of modified format</span></span>

1.  <span data-ttu-id="9a970-315">Konfigūracijos medyje pasirinkite elementą **Mokymo, kaip peržvelgti LE duomenis, formatas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-315">In the configuration tree, select the **Format to learn how to lookup LE data** item.</span></span>
2.  <span data-ttu-id="9a970-316">„FastTab“ elemente **Versijos** pasirinkite įrašą, kurio būsena yra **Baigtas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-316">On the **Versions** fast tab, select the record that has a status of **Completed**.</span></span>
3.  <span data-ttu-id="9a970-317">Pasirinkite **Keitimas**.</span><span class="sxs-lookup"><span data-stu-id="9a970-317">Select **Exchange**.</span></span>
4.  <span data-ttu-id="9a970-318">Pasirinkite **Eksportuoti kaip XML failą**.</span><span class="sxs-lookup"><span data-stu-id="9a970-318">Select **Export as XML file**.</span></span>
5.  <span data-ttu-id="9a970-319">Pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="9a970-319">Select **OK**.</span></span>
6.  <span data-ttu-id="9a970-320">Žiniatinklio naršyklė atsiunčia failą **Mokymo, kaip peržvelgti LE duomenis, formatas.xml**.</span><span class="sxs-lookup"><span data-stu-id="9a970-320">The web browser downloads a **Format to learn how to lookup LE data.xml** file.</span></span> <span data-ttu-id="9a970-321">Šį failą išsaugokite vietiniame įrenginyje.</span><span class="sxs-lookup"><span data-stu-id="9a970-321">Store this file locally.</span></span>

<span data-ttu-id="9a970-322">Šio skyriaus veiksmus pakartokite su pirminiais formato **Mokymo, kaip peržvelgti LE duomenis, formatas** elementais ir vietiniame įrenginyje išsaugokite tolesnius failus.</span><span class="sxs-lookup"><span data-stu-id="9a970-322">Repeat steps in this section for parent items of the **Format to learn how to lookup LE data** format, and store the following files locally:</span></span>

-   <span data-ttu-id="9a970-323">Parametrizuotų iškvietų mokymo formatas.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-323">Format to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="9a970-324">Parametrizuotų iškvietų mokymo susiejimas.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-324">Mapping to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="9a970-325">Parametrizuotų iškvietų mokymo modelis.xml</span><span class="sxs-lookup"><span data-stu-id="9a970-325">Model to learn parameterized calls.xml</span></span>

<span data-ttu-id="9a970-326">Norėdami sužinoti, kaip, naudojant sukonfigūruotą ER formatą **Mokymo, kaip peržvelgti LE duomenis, formatas**, nustatyti nuo juridinio subjekto priklausomus mokesčių kodus ir mokesčių operacijas filtruoti pagal skirtingus apmokestinimo lygius, atlikite veiksmus, nurodytus temoje [ER formato parametrų nustatymas kiekvienam juridiniui subjektui](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="9a970-326">To learn how to use the configured **Format to learn how to lookup LE data** ER format to set up legal entity–dependent sets of tax codes to filter tax transactions by different taxation levels, complete the steps in the [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md) topic.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9a970-327">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="9a970-327">Additional resources</span></span>

[<span data-ttu-id="9a970-328">Elektroninių ataskaitų formulių kūrimo įrankis</span><span class="sxs-lookup"><span data-stu-id="9a970-328">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="9a970-329">ER formato parametrų nustatymas kiekvienam juridiniui subjektui</span><span class="sxs-lookup"><span data-stu-id="9a970-329">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
