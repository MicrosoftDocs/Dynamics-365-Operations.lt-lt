---
title: Peržvalgos duomenų šaltinių konfigūravimas, kad būtų galima naudoti ER programai būdingus parametrus
description: Šioje temoje paaiškinama, kaip galite sukonfigūruoti Elektroninių ataskaitų (ER) formatų Peržvalgos duomenų šaltinius, kad būtų galima naudoti ER programai būdingus parametrus.
author: NickSelin
manager: AnnBe
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 542580c859759c25da84589ec82495eb72bbcbe5
ms.sourcegitcommit: 74f5b04b482b2ae023c728e0df0eb78305493c6a
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/02/2021
ms.locfileid: "5853526"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="bbef4-103">Peržvalgos duomenų šaltinių konfigūravimas, kad būtų galima naudoti ER programai būdingus parametrus</span><span class="sxs-lookup"><span data-stu-id="bbef4-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="bbef4-104">[Elektroninių ataskaitų (ER)](general-electronic-reporting.md) programai būdingi parametrai leidžia jums konfigūruoti duomenų filtravimą ER formatu, kad jis būtų pagrįstas abstrakčių taisyklių rinkiniu.</span><span class="sxs-lookup"><span data-stu-id="bbef4-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="bbef4-105">Šį taisyklių rinkinį galima sukonfigūruoti taip, kad jis naudotų **Peržvalgos** tipo duomenų šaltinį, prieinamą ER formatu.</span><span class="sxs-lookup"><span data-stu-id="bbef4-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="bbef4-106">Gali nurodyti realias, ne tik ER komponentų sistemoje taikomas taisykles, – tai galite daryti naudodami vartotojo sąsają (UI), kuri automatiškai sugeneruojama pagal atitinkamo ER formato **Peržvalgos tipo** duomenų šaltinį ir dabartinius juridinio subjekto duomenis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="bbef4-107">Galiausiai nurodytas taisykles pasieks ER formato **Peržvalgos** duomenų šaltinis, kai šis ER formatas bus įvykdytas.</span><span class="sxs-lookup"><span data-stu-id="bbef4-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="bbef4-108">Naudokite redaguojamo ER formato sukonfigūruotus duomenų šaltinius, kad nurodytumėte, kurie programos duomenys yra naudojami realių taisyklių konfigūravimui.</span><span class="sxs-lookup"><span data-stu-id="bbef4-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="bbef4-109">Naudokite [ER Operacijų dizaino įrankį](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base), kad atneštumėte **Peržvalgos** tipo duomenų šaltinį į jūsų ER formatą.</span><span class="sxs-lookup"><span data-stu-id="bbef4-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="bbef4-110">Duomenų šaltinis turi būti sukonfigūruotas apibūdinti, kaip atrodo jūsų abstrakčios taisyklės, įskaitant:</span><span class="sxs-lookup"><span data-stu-id="bbef4-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="bbef4-111">Tam tikro duomenų tipo, kurio reikšmė pateikta, parametrų rinkinį, skirtą vienai taisyklei nurodyti.</span><span class="sxs-lookup"><span data-stu-id="bbef4-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="bbef4-112">Tam tikro duomenų tipo vertės tipą, kurį grąžina viena taisyklė, kai ši taisyklė laikoma pačia tinkamiausia iš visų kitų.</span><span class="sxs-lookup"><span data-stu-id="bbef4-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="bbef4-113">Galite konfigūruoti šiuos **Peržvalgos** duomenų šaltinių tipus, atsižvelgdami į reikšmės, kurią grąžina bet kuri konfigūruota taisyklė, tipą:</span><span class="sxs-lookup"><span data-stu-id="bbef4-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="bbef4-114">Naudokite **Duomenų modelio\Peržvalgos** tipą, kai modelio išvardijimo reikšmė turi būti grąžinta.</span><span class="sxs-lookup"><span data-stu-id="bbef4-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="bbef4-115">Naudokite **„Dynamics 365” Operacijų\Peržvalgos** tipą, kai programos išvardijimo reikšmė arba programos [išplėstinio duomenų tipo](../extensibility/extensible-edts.md) reikšmė turi būti grąžinta.</span><span class="sxs-lookup"><span data-stu-id="bbef4-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="bbef4-116">Naudokite **Formatų išvardijimo\Peržvalgos** tipą, kai formato išvardijimo reikšmė turi būti grąžinta.</span><span class="sxs-lookup"><span data-stu-id="bbef4-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="bbef4-117">Šioje iliustracijoje rodoma, kaip formato išvardijimas gali būti konfigūruojamas pavyzdiniame ER formate.</span><span class="sxs-lookup"><span data-stu-id="bbef4-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Formatų išvardijimo kaip sukonfigūruoto peržvalgos duomenų šaltinio pagrindo rodymas](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="bbef4-119">Šioje iliustracijoje rodomi formato komponentus, kurie buvo sukonfigūruoti pranešti apie skirtingų tipų mokesčius kitoje sugeneruotos ataskaitos dalyje.</span><span class="sxs-lookup"><span data-stu-id="bbef4-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Formato skyrių rodymas atskirai pranešti apie skirtingo tipo mokesčius](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="bbef4-121">Šioje iliustracijoje rodoma, kaip ER operacijų dizaino įrankis leidžia **Formatų išvardijimo\Peržvalgos** tipo duomenų šaltinio įtraukimą.</span><span class="sxs-lookup"><span data-stu-id="bbef4-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="bbef4-122">Įtrauktas duomenų šaltinis yra sukonfigūruojamas kaip `List of taxation levels` formatų išvardijimo grąžinama vertė.</span><span class="sxs-lookup"><span data-stu-id="bbef4-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Formatų išvardijimo\Peržvalgos tipo ER duomenų šaltinio įtraukimas](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="bbef4-124">Šioje iliustracijoje rodoma, kaip įtrauktas duomenų šaltinis yra konfigūruojamas naudoti **Modelio** duomenų šaltinio įrašų sąrašo **„Model.Data.Tax”** lauką **Kodas** kaip parametrą, kuris turi būti nurodytas kiekvienai sukonfigūruotai taisyklei.</span><span class="sxs-lookup"><span data-stu-id="bbef4-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Įtraukto Formatų išvardijimo\Peržvalgos tipo duomenų šaltinio parametrų konfigūravimas](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="bbef4-126">Įtrauktas duomenų šaltinis `Model.Data.Tax` yra sukonfigūruotas nurodyti mokesčių kodą kiekvienai sukonfigūruotai taisyklei, pasiekdamas programos lentelės **„TaxTable”** (Mokesčių lentelė) įrašus.</span><span class="sxs-lookup"><span data-stu-id="bbef4-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Formatų išvardijimo\Peržvalgos tipo vienos įmonės peržvalgos duomenų šaltinio peržiūra](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="bbef4-128">Galite nustatyti pasirinkto ER formato peržvalgos taisykles naudodami vartotojo sąsają, kuri yra automatiškai sulygiuota su sukonfigūruoto duomenų šaltinio struktūra.</span><span class="sxs-lookup"><span data-stu-id="bbef4-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="bbef4-129">Šiuo metu ši vartotojo sąsają reikalauja, kad kiekvienai taisyklei nurodytumėte grąžintą reikšmę kaip `List of taxation levels` formato išvardijimo reikšmę, taip pat ir mokesčių kodą kaip parametrą.</span><span class="sxs-lookup"><span data-stu-id="bbef4-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Sukonfigūruoto duomenų šaltinio taisyklių nustatymas](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="bbef4-131">Šioje iliustracijoje rodoma, kaip **Apskaičiuoto lauko** tipo duomenų šaltinį `Model.Data.Summary.LevelByLookup` galima sukonfigūruoti taip, kad pateikiant reikiamus parametrus, būtų iškviečiamas sukonfigūruotas **Peržvalgos** duomenų šaltinis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="bbef4-132">Kad šis iškvietimas būtų apdorotas vykdymo metu, ER pereina per sukonfigūruotų taisyklių sąrašą nustatyta seka, kad rastų pirmos taisyklės, atitinkančios pateiktas sąlygas, vietą.</span><span class="sxs-lookup"><span data-stu-id="bbef4-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="bbef4-133">Šiame pavyzdyje tai yra taisyklė, kurioje yra mokesčio kodas, atitinkantis pateiktą kodą.</span><span class="sxs-lookup"><span data-stu-id="bbef4-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="bbef4-134">Todėl surandama tinkamiausia taisyklė ir rastai taisyklei sukonfigūruotą išvardijimo reikšmę grąžina šis duomenų šaltinis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="bbef4-135">Kai nerandama jokia taikoma taisyklė, pateikiama išimtis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="bbef4-136">Norėdami išvengti šių išimčių, taisyklių sąrašo pabaigoje konfigūruokite papildomas taisykles, kad būtų galima tvarkyti atvejus, kai pateikiama nekonfigūruota reikšmė arba nepateikiama jokia reikšmė.</span><span class="sxs-lookup"><span data-stu-id="bbef4-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="bbef4-137">Atitinkamai naudokite **\*Ne tuščia\*** ir **\*Tuščia\*** parinktis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Duomenų šaltinio įtraukimas konfigūruotam Peržvalgos duomenų šaltiniui iškviesti](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="bbef4-139">Kai redaguojamam peržvalgos duomenų šaltiniui nustatote parinktį **Visos įmonės** į **Taip**, jūs įtraukiate naują reikiamą parametrą **Įmonė** į šio duomenų šaltinio parametrų rinkinį.</span><span class="sxs-lookup"><span data-stu-id="bbef4-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="bbef4-140">Parametro **Įmonė** reikšmė turi būti nurodyta vykdymo metu, kai iškviečiamas peržvalgos duomenų šaltinis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="bbef4-141">Kai įmonės kodas nurodomas vykdymo metu, šiai įmonei sukonfigūruotos taisyklės yra naudojamos labiausiai tinkamai taisyklei rasti ir atitinkama reikšmė yra grąžinama.</span><span class="sxs-lookup"><span data-stu-id="bbef4-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="bbef4-142">Šioje iliustracijoje rodoma, kaip galite tai atlikti ir kaip pakeičiamas redaguojamo duomenų šaltinio parametrų rinkinys.</span><span class="sxs-lookup"><span data-stu-id="bbef4-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Formatų išvardijimo\Peržvalgos tipo kelių įmonių peržvalgos duomenų šaltinio peržiūra](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="bbef4-144">Kiekvieną įmonę pasirinkite atskirai, norėdami konfigūruoti šio redaguojamo ER formato peržvalgos duomenų šaltinio taisyklių rinkinį.</span><span class="sxs-lookup"><span data-stu-id="bbef4-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="bbef4-145">Vykdymo metu išmetama išimtis, kai kelių įmonių peržvalga yra iškviečiama naudojant įmonės, kurios peržvalgos nustatymas nebuvo baigtas, kodu.</span><span class="sxs-lookup"><span data-stu-id="bbef4-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="bbef4-146">Užtikrinkite, kad suteikėte teises vartotojui, kuris vykdo ER formatą naudodamas visų įmonių **Peržvalgos** duomenų šaltinį, kad būtų galima pasiekti kiekvienos šio duomenų šaltinio aprėptyje esančios įmonės duomenis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="bbef4-147">Priešingu atveju vykdymo metu pateikiama išimtis.</span><span class="sxs-lookup"><span data-stu-id="bbef4-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="bbef4-148">Pradedant nuo 10.0.19 versijos, prieinamos **Peržvalgos** duomenų šaltinių išplėstinės galimybės.</span><span class="sxs-lookup"><span data-stu-id="bbef4-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="bbef4-149">Kai redaguojamam peržvalgos duomenų šaltiniui nustatote parinktį **Išplėstinis** į **Taip**, sukonfigūruotas peržvalgos duomenų šaltinis yra transformuojamas į susistemintą duomenų šaltinį, kuris siūlo papildomas sukonfigūruoto taisyklių rinkinio analizavimo galimybes.</span><span class="sxs-lookup"><span data-stu-id="bbef4-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="bbef4-150">Toliau pateiktoje iliustracijoje vaizduojama ši transformacija.</span><span class="sxs-lookup"><span data-stu-id="bbef4-150">The following illustration shows this transformation.</span></span>

   ![Formatų išvardijimo\Peržvalgos tipo struktūrinio peržvalgos duomenų šaltinio peržiūra](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="bbef4-152">Antrinis elementas **Peržvalga** yra sukurtas kaip funkcija, skirta tinkamiausiai taisyklei rasti iš konfigūruojamų taisyklių rinkinio, atsižvelgiant į pateiktą parametrų rinkinį.</span><span class="sxs-lookup"><span data-stu-id="bbef4-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="bbef4-153">Antrinis elementas **„IsLookupResultSet”** (Ar peržvalgos rezultatas – rinkinys) yra sukurtas kaip funkcija, skirta priimti pateiktą pagrindinio išvardijimo duomenų šaltinio reikšmę ir grąžinti *Bulio logikos* reikšmę **Teisinga**, kai taisyklių rinkinyje yra bent viena taisyklė, kuriai pateikta išvardijimo reikšmė buvo sukonfigūruota kaip grąžinta reikšmė.</span><span class="sxs-lookup"><span data-stu-id="bbef4-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="bbef4-154">Ši funkcija grąžina *Bulio logikos* reikšmę **Klaidinga**, kai nėra sukonfigūruotų taisyklių, skirtų pateiktai išvardijimo reikšmei grąžinti.</span><span class="sxs-lookup"><span data-stu-id="bbef4-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="bbef4-155">Antrinis elementas **Parametras** yra sukurtas kaip funkcija, grąžinanti sukonfigūruotų taisyklių rinkinį kaip įrašų sąrašo įrašus.</span><span class="sxs-lookup"><span data-stu-id="bbef4-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="bbef4-156">Grąžintos reikšmės ir sukonfigūruotų taisyklių parametrų rinkinys yra pateikiami kiekviename grąžintame įraše kaip atitinkamų duomenų tipų laukai:</span><span class="sxs-lookup"><span data-stu-id="bbef4-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="bbef4-157">Grąžinta vertė pateikiama kaip **Peržvalgos rezultato** laukas.</span><span class="sxs-lookup"><span data-stu-id="bbef4-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="bbef4-158">Sukonfigūruoti parametrai pateikiami kaip laukai, turintys parametrų pavadinimus (šiame pavyzdyje – laukas **Kodas**).</span><span class="sxs-lookup"><span data-stu-id="bbef4-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="bbef4-159">Daugiau informacijos apie tai, kaip konfigūruoti **Peržvalgos** duomenų šaltinį, rasite [ER formatų konfigūravimas, kad būtų galima naudoti juridiniam subjektui būdingus parametrus](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="bbef4-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="bbef4-160">Norėdami sužinoti, kaip nustatyti Peržvalgos taisykles, skaitykite [ER formato parametrų nustatymas juridiniam subjektui](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="bbef4-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="bbef4-161">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="bbef4-161">Additional resources</span></span>

[<span data-ttu-id="bbef4-162">ER formatų konfigūravimas, kurį atlikus naudojami juridiniam subjektui nurodyti parametrai</span><span class="sxs-lookup"><span data-stu-id="bbef4-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="bbef4-163">ER formato parametrų nustatymas kiekvienam juridiniam subjektui</span><span class="sxs-lookup"><span data-stu-id="bbef4-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
