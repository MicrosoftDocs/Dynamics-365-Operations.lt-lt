---
title: Sekos elementų ER formatais vykdymo atidėjimas
description: Šioje temoje paaiškinama, kaip atidėti sekos elemento elektroninių ataskaitų (ER) formatu vykdymą.
author: NickSelin
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-07-01
ms.dyn365.ops.version: AX 10.0.5
ms.openlocfilehash: a7904924d1c2830287e26eb9fb71bd9a03f210d9
ms.sourcegitcommit: ab3f5d0da6eb0177bbad720e73c58926d686f168
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/26/2021
ms.locfileid: "5944514"
---
# <a name="defer-the-execution-of-sequence-elements-in-er-formats"></a><span data-ttu-id="fb0bc-103">Sekos elementų ER formatais vykdymo atidėjimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-103">Defer the execution of sequence elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="fb0bc-104">Peržiūrėti</span><span class="sxs-lookup"><span data-stu-id="fb0bc-104">Overview</span></span>

<span data-ttu-id="fb0bc-105">Galite naudoti [elektroninių ataskaitų (ER)](general-electronic-reporting.md) sistemos operacijų dizaino įrankį, kad [sukonfigūruotumėte](tasks/er-format-configuration-2016-11.md) ER sprendimo, naudojamo siunčiamiems dokumentams teksto formatu generuoti, [formato komponentą](general-electronic-reporting.md#FormatComponentOutbound).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in a text format.</span></span> <span data-ttu-id="fb0bc-106">Sukonfigūruoto formato komponento hierarchinė struktūra susideda iš įvairių tipų formato elementų.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="fb0bc-107">Šie formato elementai naudojami sugeneruotiems dokumentams užpildyti reikiama informacija vykdymo metu.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="fb0bc-108">Numatyta, kad kai vykdote ER formatą, formato elementai vykdomi tokia pačia tvarka, kokia jie pateikiami formato hierarchijoje: po vieną, iš viršaus į apačią.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="fb0bc-109">Tačiau kūrimo metu galite pakeisti bet kurių sukonfigūruoto formato komponento sekos elementų vykdymo tvarką.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-109">However, at design time, you can change the execution order for any sequence elements of the configured format component.</span></span>

<span data-ttu-id="fb0bc-110">Įjungę sekos elemento sukonfigūruotu formatu parinktį <a name="DeferredSequenceExecution"></a>**Atidėtas vykdymas**, galite atidėti (nukelti) to elemento vykdymą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-110">By turning on the <a name="DeferredSequenceExecution"></a>**Deferred execution** option for a sequence format element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="fb0bc-111">Šiuo atveju elementas nevykdomas, kol neįvykdomi visi kiti jo pirminio elemento elementai.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="fb0bc-112">Norėdami sužinoti daugiau apie šią funkciją, atlikite šioje temoje esantį pavyzdį.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="fb0bc-113">Apribojimai</span><span class="sxs-lookup"><span data-stu-id="fb0bc-113">Limitations</span></span>

<span data-ttu-id="fb0bc-114">Parinktis **Atidėtas vykdymas** taikoma tik sekos elementams, kurie sukonfigūruoti ER formatui, naudojamam **siunčiamiems** dokumentams teksto formatu generuoti.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-114">The **Deferred execution** option is supported only for sequence elements that are configured for an ER format that is used to generate **outbound** documents in text format.</span></span>

<span data-ttu-id="fb0bc-115">Parinktis **Atidėtas vykdymas** netaikoma sekoms, kurios buvo sukonfigūruotos kaip apkarpytos sekos, kuriose didžiausias ilgis yra ribotas.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-115">The **Deferred execution** option isn't applicable to sequences that have been configured as trimmed sequences where the maximum length is limited.</span></span>

## <a name="example-defer-the-execution-of-a-sequence-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="fb0bc-116">Pavyzdys: sekos elemento ER formatu vykdymo atidėjimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-116">Example: Defer the execution of a sequence element in an ER format</span></span>

<span data-ttu-id="fb0bc-117">Toliau pateikiamuose veiksmuose paaiškinama, kaip vartotojas, kuriam priskirtas Sistemos administratoriaus arba Elektroninės ataskaitos funkcijų konsultanto [vaidmuo](../sysadmin/tasks/assign-users-security-roles.md), gali konfigūruoti ER formatą, kuriame yra sekos elementas, kai vykdymo tvarka skiriasi nuo tvarkos formato hierarchijoje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-117">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](../sysadmin/tasks/assign-users-security-roles.md) can configure an ER format that contains a sequence element where order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="fb0bc-118">Šiuos veiksmus galima atlikti įmonėje **USMF** programoje „Microsoft Dynamics 365 Finance“.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-118">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="fb0bc-119">Būtinieji komponentai</span><span class="sxs-lookup"><span data-stu-id="fb0bc-119">Prerequisites</span></span>

<span data-ttu-id="fb0bc-120">Norėdami atlikti šį pavyzdį, turite turėti prieigą prie įmonės **USMF** programoje „Finance“ ir vieną iš tolesnių vaidmenų.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-120">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="fb0bc-121">Elektroninės ataskaitos funkcijų konsultantas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-121">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="fb0bc-122">Sistemos administratorius</span><span class="sxs-lookup"><span data-stu-id="fb0bc-122">System administrator</span></span>

<span data-ttu-id="fb0bc-123">Jei dar nebaigėte pavyzdžio, pateikiamo temoje [XML elementų ER formatais vykdymo atidėjimas](er-defer-xml-element.md#Example), atsisiųskite šias ER sprendimo pavyzdžio [konfigūracijas](general-electronic-reporting.md#Configuration).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-123">If you haven't yet completed the example in the [Defer the execution of XML elements in ER formats](er-defer-xml-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="fb0bc-124">Turinio aprašas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-124">Content description</span></span>            | <span data-ttu-id="fb0bc-125">Failo pavadinimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-125">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="fb0bc-126">ER duomenų modelio konfigūracija</span><span class="sxs-lookup"><span data-stu-id="fb0bc-126">ER data model configuration</span></span>    | [<span data-ttu-id="fb0bc-127">Modelis, norint sužinoti apie atidėtus elementus.1.versija.xml</span><span class="sxs-lookup"><span data-stu-id="fb0bc-127">Model to learn deferred elements.version.1.xml</span></span>](https://download.microsoft.com/download/7/6/0/760933ca-4ac3-4f50-bc0c-c35e596ee066/Modeltolearndeferredelements.version.1.xml) |
| <span data-ttu-id="fb0bc-128">ER modelio susiejimo konfigūracija</span><span class="sxs-lookup"><span data-stu-id="fb0bc-128">ER model mapping configuration</span></span> | [<span data-ttu-id="fb0bc-129">Susiejimas, norint sužinoti apie atidėtus elementus.1.1.versija.xml</span><span class="sxs-lookup"><span data-stu-id="fb0bc-129">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://download.microsoft.com/download/c/9/c/c9c4b9dd-b700-4385-a087-a84ce9fc1d0f/Mappingtolearndeferredelements.version.1.1.xml) |

<span data-ttu-id="fb0bc-130">Prieš pradėdami, taip pat turite atsisiųsti ir įrašyti šią ER sprendimo pavyzdžio konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-130">Before you begin, you must also download and save the following configuration of the sample ER solution.</span></span>

| <span data-ttu-id="fb0bc-131">Turinio aprašas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-131">Content description</span></span>     |<span data-ttu-id="fb0bc-132">Failo pavadinimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-132">File name</span></span> |
|-------------------------|----------|
| <span data-ttu-id="fb0bc-133">ER formato konfigūracija</span><span class="sxs-lookup"><span data-stu-id="fb0bc-133">ER format configuration</span></span> | [<span data-ttu-id="fb0bc-134">Formatas, norint sužinoti apie atidėtas sekas.1.1.versija.xml</span><span class="sxs-lookup"><span data-stu-id="fb0bc-134">Format to learn deferred sequences.version.1.1.xml</span></span>](https://download.microsoft.com/download/0/f/5/0f55c341-8285-4d92-a46d-475d9a010927/Formattolearndeferredsequences.version.1.1.xml) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="fb0bc-135">Pavyzdinių ER konfigūracijų importavimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-135">Import the sample ER configurations</span></span>

1. <span data-ttu-id="fb0bc-136">Eikite į **Organizacijos administravimas** \> **Darbo sritys** \> **Elektroninės ataskaitos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-136">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="fb0bc-137">Pasirinkite **Ataskaitų konfigūracijos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-137">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="fb0bc-138">Puslapyje **Konfigūracijos**, jei konfigūracijos **Modelis, norint sužinoti apie atidėtus elementus** nėra konfigūracijos medyje, importuokite ER duomenų modelio konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-138">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="fb0bc-139">Pasirinkite **Keitimas** ir pasirinkite **Įkelti iš XML failo**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-139">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="fb0bc-140">Pasirinkite **Naršyti**, suraskite ir pasirinkite failą **Modelis, norint sužinoti apie atidėtus elementus.1.xml**, tada pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-140">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="fb0bc-141">Jei konfigūracijos **Susiejimas, norint sužinoti apie atidėtus elementus** nėra konfigūracijos medyje, importuokite ER modelio susiejimo konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-141">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="fb0bc-142">Pasirinkite **Keitimas** ir pasirinkite **Įkelti iš XML failo**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="fb0bc-143">Pasirinkite **Naršyti**, suraskite ir pasirinkite failą **Susiejimas, norint sužinoti apie atidėtus elementus.1.1.xml**, tada pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-143">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="fb0bc-144">ER formato konfigūracijos importavimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-144">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="fb0bc-145">Pasirinkite **Keitimas** ir pasirinkite **Įkelti iš XML failo**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="fb0bc-146">Pasirinkite **Naršyti**, suraskite ir pasirinkite failą **Formatas, norint sužinoti apie atidėtas sekas.1.1.xml**, tada pasirinkite **Gerai**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-146">Select **Browse**, find and select the **Format to learn deferred sequences.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="fb0bc-147">Konfigūracijos medyje išplėskite **Modelis, norint sužinoti apie atidėtus elementus**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-147">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="fb0bc-148">Peržiūrėkite importuotų ER konfigūracijų sąrašą konfigūracijos medyje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-148">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Importuotos ER konfigūracijos puslapyje Konfigūracijos](./media/ER-DeferredSequence-Configurations.png)

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="fb0bc-150">Aktyvinti konfigūracijų teikėją</span><span class="sxs-lookup"><span data-stu-id="fb0bc-150">Activate a configurations provider</span></span>

1. <span data-ttu-id="fb0bc-151">Eikite į **Organizacijos administravimas** \> **Darbo sritys** \> **Elektroninės ataskaitos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-151">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="fb0bc-152">Puslapio **Lokalizavimo konfigūracijos** skyriuje **Konfigūracijų teikėjai** įsitikinkite, kad sąraše yra [konfigūracijos teikėjas](general-electronic-reporting.md#Provider), susijęs su pavyzdine įmone „Litware, Inc.“ (`http://www.litware.com`), ir kad jis pažymėtas kaip aktyvus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-152">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="fb0bc-153">Jeigu šio konfigūracijos teikėjo sąraše nėra arba jei jis nėra pažymėtas kaip aktyvus, atlikite temoje [Sukurti konfigūracijų teikėją ir jį pažymėti kaip aktyvų](./tasks/er-configuration-provider-mark-it-active-2016-11.md) nurodytus veiksmus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-153">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Pavyzdinė įmonė „Litware, Inc.“ puslapyje Lokalizavimo konfigūracijos](./media/ER-DeferredSequence-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="fb0bc-155">Importuotų modelių susiejimo peržiūra</span><span class="sxs-lookup"><span data-stu-id="fb0bc-155">Review the imported model mapping</span></span>

<span data-ttu-id="fb0bc-156">Peržiūrėkite ER modelio susiejimo komponento, kuris konfigūruojamas, kad būtų galima pasiekti mokesčių operacijas ir atskleisti gautus duomenis pagal prašymą, parametrus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-156">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="fb0bc-157">Eikite į **Organizacijos administravimas** \> **Darbo sritys** \> **Elektroninės ataskaitos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="fb0bc-158">Pasirinkite **Ataskaitų konfigūracijos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-158">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="fb0bc-159">Puslapyje **Konfigūracijos** konfigūracijos medyje išplėskite **Modelis, norint sužinoti apie atidėtus elementus**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-159">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="fb0bc-160">Pasirinkite konfigūraciją **Susiejimas, norint sužinoti apie atidėtus elementus**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-160">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="fb0bc-161">Norėdami atidaryti susiejimų sąrašą, pasirinkite **Dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-161">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="fb0bc-162">Norėdami peržiūrėti susiejimo informaciją, pasirinkite **Dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-162">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="fb0bc-163">Pasirinkite **Rodyti informaciją**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-163">Select **Show details**.</span></span>
8. <span data-ttu-id="fb0bc-164">Peržiūrėkite duomenų šaltinius, kurie sukonfigūruoti, kad būtų galima pasiekti mokesčių operacijas.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-164">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="fb0bc-165">Duomenų šaltinis **Operacijos**, kurio tipas yra *Lentelės įrašas*, sukonfigūruotas, kad būtų galima pasiekti programos lentelės **TaxTrans** įrašus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-165">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="fb0bc-166">Duomenų šaltinis **Kvitai**, kurio tipas yra *Apskaičiuoti laukai*, sukonfigūruotas, kad pateiktų reikiamus kvitų kodus (**INV-10000349** ir **INV-10000350**) kaip įrašų sąrašą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-166">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="fb0bc-167">Duomenų šaltinis **Filtruota**, kurio tipas yra *Apskaičiuoti laukai*, sukonfigūruotas taip, kad pasirinktų tik reikiamų kvitų mokesčių operacijas duomenų šaltinyje **Operacijos**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-167">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="fb0bc-168">Laukas **\$TaxAmount**, kurio tipas yra *Apskaičiuoti laukai*, įtraukiamas į duomenų šaltinį **Filtruota**, kad atskleistų mokesčio vertę su priešingu ženklu.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-168">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="fb0bc-169">Duomenų šaltinis **Sugrupuota**, kurio tipas yra *Grupuoti pagal*, sukonfigūruotas, kad grupuotų duomenų šaltinio **Filtruota** mokesčių operacijas.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-169">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="fb0bc-170">Agregavimo laukas **TotalSum** duomenų šaltinyje **Sugrupuota** sukonfigūruotas taip, kad apibendrintų vertes lauke **\$TaxAmount** duomenų šaltinyje **Filtruota** visų minėto duomenų šaltinio filtruotų mokesčių operacijų atveju.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-170">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![Agregavimo laukas TotalSum, esantis parametrų puslapyje Redaguoti 'GroupBy'](./media/ER-DeferredSequence-GroupByParameters.png)

9. <span data-ttu-id="fb0bc-172">Peržiūrėkite, kaip sukonfigūruoti duomenų šaltiniai yra susieti su duomenų modeliu ir kaip jie pateikia gautus duomenis, kad būtų galima juos naudoti ER formatu.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-172">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="fb0bc-173">Duomenų šaltinis **Filtruota** yra susietas su duomenų modelio lauku **Data.List**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-173">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="fb0bc-174">Duomenų šaltinio **Filtruota** laukas **\$TaxAmount** yra susietas su duomenų modelio lauku **Data.List.Value**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-174">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="fb0bc-175">Duomenų šaltinio **Sugrupuota** laukas **TotalSum** yra susietas su duomenų modelio lauku **Data.Summary.Total**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-175">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Modelio susiejimo dizaino įrankio puslapis](./media/ER-DeferredSequence-ModelMapping.png)

10. <span data-ttu-id="fb0bc-177">Uždarykite puslapius **Modelio susiejimo dizaino įrankis** ir **Modelio susiejimai**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-177">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="fb0bc-178">Peržiūrėkite importuotą formatą</span><span class="sxs-lookup"><span data-stu-id="fb0bc-178">Review the imported format</span></span>

1. <span data-ttu-id="fb0bc-179">Puslapyje **Konfigūracijos** konfigūracijos medyje pasirinkite konfigūraciją **Formatas, norint sužinoti apie atidėtas sekas**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-179">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred sequences** configuration.</span></span>
2. <span data-ttu-id="fb0bc-180">Norėdami peržiūrėti formato informaciją, pasirinkite **Dizaino įrankis**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-180">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="fb0bc-181">Pasirinkite **Rodyti informaciją**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-181">Select **Show details**.</span></span>
4. <span data-ttu-id="fb0bc-182">Peržiūrėkite ER formato komponentų, kurie sukonfigūruoti, kad siunčiami dokumentai būtų generuojami teksto formatu, kuriame yra mokesčių operacijų informacijos, parametrus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-182">Review the settings of the ER format components that are configured to generate an outbound document in text format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="fb0bc-183">Sekos formato elementas **Ataskaita\\Eilutės** yra sukonfigūruotas taip, kad į siunčiamus dokumentus įtrauktų vieną eilutę, sugeneruota iš įdėtųjų sekos elementų (**Antraštė**, **Įrašas** ir **Suvestinė**).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-183">The **Report\\Lines** sequence format element is configured to fill the outbound document with a single line that is generated from the nested sequence elements (**Header**, **Record**, and **Summary**).</span></span>

        ![Sekos formato elementas Eilutės ir įdėtieji elementai puslapyje Formato dizaino įrankis](./media/ER-DeferredSequence-Format.png)

    - <span data-ttu-id="fb0bc-185">Sekos formato elementas **Ataskaita\\Eilutės\\Antraštė** yra sukonfigūruotas taip, kad įtrauktų į siunčiamus dokumentus vieną antraštės eilutę, kurioje rodomi apdorojimo pradžios data ir laikas.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-185">The **Report\\Lines\\Header** sequence format element is configured to fill the outbound document with a single header line that shows the date and time  when the processing starts.</span></span>
    - <span data-ttu-id="fb0bc-186">Sekos formato elementas **Ataskaita\\Eilutės\\Įrašas** sukonfigūruotas taip, kad įtrauktų į siunčiamus dokumentus vieną įrašo eilutę, kurioje pateikiama atskirų mokesčių operacijų informacija.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-186">The **Report \\Lines\\Record** sequence format element is configured to fill the outbound document with a single line that shows the details of individual tax transactions.</span></span> <span data-ttu-id="fb0bc-187">Šios mokesčių operacijos atskiriamos kabliataškiu.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-187">These tax transactions are separated by a semicolon.</span></span>

        ![Sekos formato elementas Įrašas, kuriame kabliataškis naudojamas kaip skyriklis](./media/ER-DeferredSequence-Format1.png)

    - <span data-ttu-id="fb0bc-189">Sekos formato elementas **Ataskaita\\Eilutės\\Suvestinė** sukonfigūruotas taip, kad įtrauktų į siunčiamus dokumentus vieną suvestinės eilutę, kurioje yra mokesčių verčių suma iš apdorotų mokesčių operacijų.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-189">The **Report\\Lines\\Summary** sequence format element is configured to fill the outbound document with a single summary line that includes the sum of the tax values from the processed tax transactions.</span></span>

4. <span data-ttu-id="fb0bc-190">Skirtuke **Susiejimas** peržiūrėkite toliau pateikiamą informaciją.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-190">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="fb0bc-191">Elemento **Ataskaita\\Eilutės\\Antraštė** nereikia susieti su duomenų šaltiniu, kad būtų galima sugeneruoti vieną eilutę siuntimo dokumente.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-191">The **Report\\Lines\\Header** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="fb0bc-192">Elementas **Prefix1** generuoja simbolius **P1**, parodančius, kad įtraukiama eilutė yra ataskaitos antraštės eilutė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-192">The **Prefix1** element generates **P1** symbols to indicate that the line that is added is the report header line.</span></span>
    - <span data-ttu-id="fb0bc-193">Elementas **ExecutionDateTime** generuoja datą ir laiką (įskaitant milisekundes), kai įtraukiama antraštės eilutė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-193">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the header line is added.</span></span>
    - <span data-ttu-id="fb0bc-194">Elementas **Ataskaita\\Eilutės\\Įrašas** yra susietas su sąrašu **model.Data.List**, kad kiekviename susieto sąrašo įraše būtų sugeneruota viena eilutė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-194">The **Report\\Lines\\Record** element is bound to the **model.Data.List** list to generate a single line for every record from the bound list.</span></span>
    - <span data-ttu-id="fb0bc-195">Elementas **Prefix2** generuoja simbolius **P2**, parodančius, kad įtraukiama eilutė yra susijusi su mokesčių operacijų informacija.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-195">The **Prefix2** element generates **P2** symbols to indicate that the line that is added is for the tax transaction details.</span></span>
    - <span data-ttu-id="fb0bc-196">Elementas **TaxAmount** yra susietas su **model.Data.List.Value** (rodoma kaip **\@.Vertė** santykinio kelio rodinyje), kad būtų galima generuoti esamos mokesčių operacijos mokesčių vertę.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-196">The **TaxAmount** element is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="fb0bc-197">Elementas **RunningTotal** yra mokesčių verčių bendros sumos vietos rezervavimo ženklas.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-197">The **RunningTotal** element is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="fb0bc-198">Šiuo metu šiame elemente nėra išvesties, nes nesukonfigūruotas nei jo susiejimas, nei numatytoji vertė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-198">Currently, this element has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="fb0bc-199">Elementas **ExecutionDateTime** generuoja datą ir laiką (įskaitant milisekundes), kai šioje ataskaitoje apdorojama dabartinė operacija.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-199">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="fb0bc-200">Elemento **Ataskaita\\Eilutės\\Suvestinė** nereikia susieti su duomenų šaltiniu, kad būtų galima sugeneruoti vieną eilutę siuntimo dokumente.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-200">The **Report\\Lines\\Summary** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="fb0bc-201">Elementas **Prefix3** generuoja simbolius **P3**, parodančius, kad įtraukiamoje eilutėje yra bendra mokesčių vertė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-201">The **Prefix3** element generates **P3** symbols to indicate that the line that is added contains the total tax value.</span></span>
    - <span data-ttu-id="fb0bc-202">Elementas **TotalTaxAmount** yra susietas su **model.Data.Summary.Total**, kad būtų sugeneruota apdorotų mokesčių operacijų mokesčių verčių suma.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-202">The **TotalTaxAmount** element is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="fb0bc-203">Elementas **ExecutionDateTime** generuoja datą ir laiką (įskaitant milisekundes), kai įtraukiama suvestinės eilutė.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-203">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the summary line is added.</span></span>

    ![Skirtukas Susiejimas puslapyje Formato dizaino įrankis](./media/ER-DeferredSequence-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="fb0bc-205">Importuoto formato vykdymas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-205">Run the imported format</span></span>

1. <span data-ttu-id="fb0bc-206">Puslapyje **Formato dizaino įrankis** pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-206">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="fb0bc-207">Atsisiųskite failą, kuris siūlomas žiniatinklio naršyklėje, ir atidarę jį peržiūrėkite.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-207">Download the file that the web browser offers, and open it for review.</span></span>

    ![Atsisiųstas ataskaitos failo pavyzdys](./media/ER-DeferredSequence-Run.png)

<span data-ttu-id="fb0bc-209">Atkreipkite dėmesį, kad 22 suvestinės eilutėje pateikiama apdorotų operacijų mokesčių verčių suma.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-209">Notice that summary line 22 presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="fb0bc-210">Kadangi formatas sukonfigūruotas, kad naudotų susiejimą **model.Data.Summary.Total** šiai sumai pateikti, suma apskaičiuojama iškviečiant telkimą **TotalSum** duomenų šaltinyje **Sugrupuota**, kurio tipas yra *GroupBy*, naudojantis modelių susiejimą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-210">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type that uses the model mapping.</span></span> <span data-ttu-id="fb0bc-211">Norint apskaičiuoti šį telkimą, modelių susiejimas pakartojamas visose operacijose, kurios buvo pasirinktos duomenų šaltinyje **Filtruota**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-211">To calculate this aggregation, model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="fb0bc-212">Lygindami 21 ir 22 eilučių vykdymo laikus, galite nustatyti, kad sumos apskaičiavimas truko 10 milisekundžių (ms).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-212">By comparing the execution times of lines 21 and 22, you can determine that calculation of the sum took 10 milliseconds (ms).</span></span> <span data-ttu-id="fb0bc-213">Lygindami 2 ir 21 eilučių vykdymo laikus, galite nustatyti, kad visų operacijų eilučių generavimas truko 7 ms.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-213">By comparing the execution times of lines 2 and 21, you can determine that generation of all transactional lines took 7 ms.</span></span> <span data-ttu-id="fb0bc-214">Taigi, iš viso prireikė 17 ms.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-214">Therefore, a total of 17 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-summing-is-based-on-generated-output"></a><span data-ttu-id="fb0bc-215">Formato modifikavimas, kad sumavimas būtų paremtas sugeneruota išvestimi</span><span class="sxs-lookup"><span data-stu-id="fb0bc-215">Modify the format so that the summing is based on generated output</span></span>

<span data-ttu-id="fb0bc-216">Jei operacijų kiekis yra daug didesnis, nei kiekis šiame pavyzdyje, sumavimo trukmė gali padidėti ir sukelti našumo problemų.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-216">If the volume of transactions is much larger than the volume in the current example, the summing time might increase and cause performance issues.</span></span> <span data-ttu-id="fb0bc-217">Pakeisdami formato parametrą, galite padėti išvengti šių našumo problemų.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-217">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="fb0bc-218">Kadangi mokesčių vertės įtraukiamos į sugeneruotą ataskaitą, galima pakartotinai panaudoti šią informaciją mokesčių vertėms sumuoti.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-218">Because you access tax values to include them in the generated report, you can reuse this information to sum tax values.</span></span> <span data-ttu-id="fb0bc-219">Norėdami gauti daugiau informacijos, žr. [Formato konfigūravimas skaičiavimo ir sumavimo veiksmams atlikti](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-219">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="fb0bc-220">Puslapyje **Formato dizaino įrankis** skirtuke **Formatas** formato medyje pasirinkite failo elementą **Ataskaita**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-220">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="fb0bc-221">Nustatykite parinkties **Rinkti išeigos informaciją** reikšmę **Taip**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-221">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="fb0bc-222">Dabar galite konfigūruoti šį formatą, naudodami esamos ataskaitos turinį kaip duomenų šaltinį, kurį galima pasiekti naudojant įtaisytąsias ER funkcijas kategorijoje [Duomenų rinkimas](er-functions-category-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-222">You can now configure this format by using the content of an existing report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="fb0bc-223">Skirtuke **Susiejimas** pasirinkite sekos elementą **Ataskaita\\Eilutės**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-223">On the **Mapping** tab, select the **Report\\Lines** sequence element.</span></span>
4. <span data-ttu-id="fb0bc-224">Sukonfigūruokite išraišką **Surinktų duomenų rakto pavadinimas** kaip `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-224">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="fb0bc-225">Sukonfigūruokite išraišką **Surinktų duomenų rakto reikšmė** kaip `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-225">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Sekos elementas Eilutės puslapyje Formato dizaino įrankis](./media/ER-DeferredSequence-Format3.png)

6. <span data-ttu-id="fb0bc-227">Pasirinkite skaitinį elementą **Ataskaitos\\Eilutės\\Įrašas\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-227">Select the **Report\\Lines\\Record\\TaxAmount** numeric element.</span></span>
7. <span data-ttu-id="fb0bc-228">Sukonfigūruokite išraišką **Surinktų duomenų rakto pavadinimas** kaip `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-228">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![Skaitinis elementas TaxAmount puslapyje Formato dizaino įrankis](./media/ER-DeferredSequence-Format4.png)

    <span data-ttu-id="fb0bc-230">Galite laikyti šį parametrą virtualaus darbalapio pildymu, kai A1 langelio vertė pridedama prie kiekvienos apdorotos mokesčių operacijos mokesčio sumos vertės.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-230">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="fb0bc-231">Pasirinkite skaitinį elementą **Ataskaita\\Eilutės\\Įrašas\\RunningTotal**, tada pasirinkite **Redaguoti formulę**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-231">Select the **Report\\Lines\\Record\\RunningTotal** numeric element, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="fb0bc-232">Konfigūruokite išraišką `SUMIF(SummingAmountKey, WsColumn, WsRow)` naudodami įtaisytąją ER funkciją [SUMIF](er-functions-datacollection-sumif.md).</span><span class="sxs-lookup"><span data-stu-id="fb0bc-232">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function.</span></span>
10. <span data-ttu-id="fb0bc-233">Pasirinkite **Įrašyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-233">Select **Save**.</span></span>

    ![Išraiška SUMIF](./media/ER-DeferredSequence-FormulaDesigner.png)

11. <span data-ttu-id="fb0bc-235">Uždarykite puslapį **Formulės konstruktorius**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-235">Close the **Formula designer** page.</span></span>
12. <span data-ttu-id="fb0bc-236">Pasirinkite **Įrašyti**, tada pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-236">Select **Save**, and then select **Run**.</span></span>
13. <span data-ttu-id="fb0bc-237">Atsisiųskite ir peržiūrėkite failą, kuris siūlomas žiniatinklio naršyklėje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-237">Download and review the file that the web browser offers.</span></span>

    ![Atsisiųstas failas – susumuoti mokesčių vertės](./media/ER-DeferredSequence-Run1.png)

    <span data-ttu-id="fb0bc-239">21 eilutėje yra visų apdorotų operacijų bendra mokesčių verčių suma, apskaičiuota naudojant sugeneruotą išvestį kaip duomenų šaltinį.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-239">Line 21 contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="fb0bc-240">Šis duomenų šaltinis prasideda ataskaitos pradžioje ir tęsiasi iki paskutinės mokesčių operacijos.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-240">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="fb0bc-241">22 eilutėje yra visų apdorotų operacijų, apskaičiuotų modelio susiejimo metu naudojant *GroupBy* tipo duomenų šaltinį, mokesčių verčių suma.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-241">Line 22 contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="fb0bc-242">Atkreipkite dėmesį, kad šios vertės yra lygios.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-242">Notice that these values are equal.</span></span> <span data-ttu-id="fb0bc-243">Todėl galima naudoti išvestimi pagrįstą sumavimą, o ne **GroupBy**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-243">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="fb0bc-244">Lygindami 2 ir 21 eilučių vykdymo laikus, galite nustatyti, kad visų operacijų eilučių generavimas ir sumavimas truko 9 ms.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-244">By comparing the execution times of lines 2 and 21, you can determine that generation of all the transactional lines and summing took 9 ms.</span></span> <span data-ttu-id="fb0bc-245">Todėl, kiek tai susiję su išsamių eilučių generavimu ir mokesčių verčių sumavimu, modifikuotas formatas yra maždaug du kartus spartesnis už pradinį formatą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-245">Therefore, as far as the generation of detailed lines and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

14. <span data-ttu-id="fb0bc-246">Pasirinkite skaitinį elementą **Ataskaita\\Eilutės\\Suvestinė\\TotalTaxAmount**, tada pasirinkite **Redaguoti formulę**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-246">Select the **Report\\Lines\\Summary\\TotalTaxAmount** numeric element, and then select **Edit formula**.</span></span>
15. <span data-ttu-id="fb0bc-247">Įveskite išraišką `SUMIF(SummingAmountKey, WsColumn, WsRow)` vietoj esamos išraiškos.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-247">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
16. <span data-ttu-id="fb0bc-248">Pasirinkite **Įrašyti**, tada pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-248">Select **Save**, and then select **Run**.</span></span>
17. <span data-ttu-id="fb0bc-249">Atsisiųskite ir peržiūrėkite failą, kuris siūlomas žiniatinklio naršyklėje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-249">Download and review the file that the web browser offers.</span></span>

    ![Atsisiųstas failas su redaguota formule](./media/ER-DeferredSequence-Run2.png)

    <span data-ttu-id="fb0bc-251">Atkreipkite dėmesį, kad bendra mokesčių verčių suma paskutinėje operacijos informacijos eilutėje dabar yra lygi sumai suvestinės eilutėje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-251">Notice that the running total of tax values on the last transaction details line now equals the sum on the summary line.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="fb0bc-252">Išvestimi pagrįsto sumavimo verčių pateikimas ataskaitos antraštėje</span><span class="sxs-lookup"><span data-stu-id="fb0bc-252">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="fb0bc-253">Jei, pavyzdžiui, turite pateikti mokesčių verčių sumą ataskaitos antraštėje, galite modifikuoti naudojamą formatą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-253">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="fb0bc-254">Puslapyje **Formato dizaino įrankis** skirtuke **Formatas** pasirinkite sekos elementą **Ataskaita\\Eilutės\\Suvestinė**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-254">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="fb0bc-255">Pasirinkite **Perkelti aukštyn**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-255">Select **Move up**.</span></span>
3. <span data-ttu-id="fb0bc-256">Pasirinkite **Įrašyti**, tada pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-256">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="fb0bc-257">Atsisiųskite ir peržiūrėkite failą, kuris siūlomas žiniatinklio naršyklėje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-257">Download and review the file that the web browser offers.</span></span>

    ![Atsisiųstas failas, skirtas sumuoti ataskaitos antraštėje](./media/ER-DeferredSequence-Run3.png)

    <span data-ttu-id="fb0bc-259">Atkreipkite dėmesį, kad mokesčių verčių suma 2 suvestinės eilutėje dabar yra lygi 0 (nuliui), nes ši suma dabar apskaičiuojama pagal sugeneruotą išvestį.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-259">Notice that the sum of tax values on summary line 2 now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="fb0bc-260">Kai sugeneruojama 2 eilutė, sugeneruotoje išvestyje dar nėra eilučių, kuriuose būtų operacijų informacijos.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-260">When line 2 is generated, the generated output doesn't yet contain lines that have transaction details.</span></span> <span data-ttu-id="fb0bc-261">Galite sukonfigūruoti šį formatą, kad būtų atidėtas sekos elemento **Ataskaita\\Eilutės\\Suvestinė** vykdymas, kol bus įvykdytas visų mokesčių operacijų sekos elementas **Ataskaita\\Eilutės\\Įrašas**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-261">You can configure this format to defer the execution of the **Report\\Lines\\Summary** sequence element until the **Report\\Lines\\Record** sequence element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-sequence-so-that-the-calculated-total-is-used"></a><span data-ttu-id="fb0bc-262">Suvestinės sekos vykdymo atidėjimas, kad būtų naudojama apskaičiuota suma</span><span class="sxs-lookup"><span data-stu-id="fb0bc-262">Defer the execution of the summary sequence so that the calculated total is used</span></span>

1. <span data-ttu-id="fb0bc-263">Puslapyje **Formato dizaino įrankis** skirtuke **Formatas** pasirinkite sekos elementą **Ataskaita\\Eilutės\\Suvestinė**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-263">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="fb0bc-264">Parinktyje **Atidėtas vykdymas** nustatykite **Taip**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-264">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Sekos elemento Suvestinė atidėto vykdymo parinktis puslapyje Formato dizaino įrankis](./media/ER-DeferredSequence-Format5.png)

3. <span data-ttu-id="fb0bc-266">Pasirinkite **Įrašyti**, tada pasirinkite **Vykdyti**.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-266">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="fb0bc-267">Atsisiųskite ir peržiūrėkite failą, kuris siūlomas žiniatinklio naršyklėje.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-267">Download and review the file that the web browser offers.</span></span>

    ![Atsisiųstas failas – atidėtas vykdymas](./media/ER-DeferredSequence-Run4.png)

    <span data-ttu-id="fb0bc-269">Dabar sekos elementas **Ataskaita\\Eilutės\\Suvestinė** dabar vykdomas tik įvykdžius visus kitus jo pirminio elemento **Ataskaita\\Eilutės** įdėtuosius elementus.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-269">The **Report\\Lines\\Summary** sequence element is now run only after all other items that are nested under its parent element, **Report\\Lines**, have been run.</span></span> <span data-ttu-id="fb0bc-270">Todėl jis vykdomas įvykdžius sekos elementą **Ataskaita\\Eilutės\\Įrašas** visų mokesčių operacijų, kurių duomenų šaltinis yra **model.Data.List**, atžvilgiu.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-270">Therefore, it's run after the **Report\\Lines\\Record** sequence element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="fb0bc-271">1, 2 ir 3 eilučių ir paskutinės (22) eilutės vykdymo laikai atskleidžia šį faktą.</span><span class="sxs-lookup"><span data-stu-id="fb0bc-271">The execution times of lines 1, 2, and 3, and of the last line, 22, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="fb0bc-272">Papildomi ištekliai</span><span class="sxs-lookup"><span data-stu-id="fb0bc-272">Additional resources</span></span>

- [<span data-ttu-id="fb0bc-273">Formato konfigūravimas skaičiavimo ir sumavimo veiksmams atlikti</span><span class="sxs-lookup"><span data-stu-id="fb0bc-273">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="fb0bc-274">ER formato vykdymo sekimas siekiant diagnozuoti našumo problemas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-274">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="fb0bc-275">XML elementų ER formatais vykdymo atidėjimas</span><span class="sxs-lookup"><span data-stu-id="fb0bc-275">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md#Example)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
