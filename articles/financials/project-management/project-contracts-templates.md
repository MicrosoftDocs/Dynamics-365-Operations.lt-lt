---
title: Tiesioginis „Project Service Automation“ projekto sutarčių ir projektų sinchronizavimas su „Finance and Operations“
description: Šioje temoje aprašomas šablonas ir pagrindinės užduotys, naudojamos tiesiogiai sinchronizuojant „Microsoft Dynamics 365 for Project Service Automation“ projekto sutartis ir projektus su „Microsoft Dynamics 365 for Finance and Operations“.
author: KimANelson
manager: AnnBe
ms.date: 10/25/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: be23b99ddc224328cf067fe0bf36be93fcef4337
ms.sourcegitcommit: 8b4b6a9226d4e5f66498ab2a5b4160e26dd112af
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 08/01/2019
ms.locfileid: "1846043"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="4e98a-103">Tiesioginis „Project Service Automation“ projekto sutarčių ir projektų sinchronizavimas su „Finance and Operations“</span><span class="sxs-lookup"><span data-stu-id="4e98a-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="4e98a-104">Šioje temoje aprašomas šablonas ir pagrindinės užduotys, naudojamos tiesiogiai sinchronizuojant „Microsoft Dynamics 365 for Project Service Automation“ projekto sutartis ir projektus su „Microsoft Dynamics 365 for Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Microsoft Dynamics 365 for Project Service Automation to Microsoft Dynamics 365 for Finance and Operations.</span></span>

> [!NOTE] 
> <span data-ttu-id="4e98a-105">Jei naudojate „Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition“ 7.3.0 versiją, turite įdiegti KB 4074835.</span><span class="sxs-lookup"><span data-stu-id="4e98a-105">If you're using Microsoft Dynamics 365 for Finance and Operations, Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="4e98a-106">„Project Service Automation“ duomenų srautas į „Finance and Operations“</span><span class="sxs-lookup"><span data-stu-id="4e98a-106">Data flow for Project Service Automation to Finance and Operations</span></span>

> [!NOTE]
> <span data-ttu-id="4e98a-107">Prieš naudodamiesi integravimo iš „Project Service Automation“ į „Finance and Operations“ sprendimu turite susipažinti su „Microsoft Dynamics 365“ funkcija Duomenų integravimas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-107">Before you can use the Project Service Automation to Finance and Operations integration solution, you should be familiar with the Microsoft Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="4e98a-108">Naudojantis integravimo iš „Project Service Automation“ į „Finance and Operations“ sprendimu sinchronizuojant duomenis „Project Service Automation“ ir „Finance and Operations“ egzemplioriuose naudojama funkcija Duomenų integravimas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-108">The Project Service Automation to Finance and Operations integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance and Operations.</span></span> <span data-ttu-id="4e98a-109">Naudojantis integravimo šablonu, kuris pasiekiamas naudojantis funkcija Duomenų integravimas, įgalinamas duomenų apie projekto sutartis, projektus, projekto sutarčių eilutes ir projekto sutarties eilutės etapus srautas iš „Project Service Automation“ į „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance and Operations.</span></span>

<span data-ttu-id="4e98a-110">Toliau pateiktoje iliustracijoje rodoma, kaip sinchronizuojami duomenys tarp „Project Service Automation“ ir „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance and Operations.</span></span>

<span data-ttu-id="4e98a-111">[![„Project Service Automation“ integravimo su „Finance and Operations“ duomenų srautas](./media/ProjectsAndContractsFlow.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="4e98a-111">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectsAndContractsFlow.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="4e98a-112">Šablonai ir užduotys</span><span class="sxs-lookup"><span data-stu-id="4e98a-112">Templates and tasks</span></span>

<span data-ttu-id="4e98a-113">Norėdami atidaryti pasiekiamus šablonus, „Microsoft PowerApps“ administravimo centre paspauskite **Projektai**, po to viršutiniame dešiniajame kampe paspauskite **Naujas projektas** ir pasirinkite viešuosius šablonus.</span><span class="sxs-lookup"><span data-stu-id="4e98a-113">To access the available templates, in the Microsoft PowerApps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="4e98a-114">Toliau pateiktas šablonas ir pagrindinės užduotys naudojamos sinchronizuojant „Project Service Automation“ projekto sutartis ir projektus su „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-114">The following template and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance and Operations:</span></span>

- <span data-ttu-id="4e98a-115">**Šablono pavadinimas naudojant funkciją Duomenų integravimas:** projektai ir sutartys (iš PSA į „Fin and Ops“)</span><span class="sxs-lookup"><span data-stu-id="4e98a-115">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="4e98a-116">**Užduočių pavadinimas projekte**</span><span class="sxs-lookup"><span data-stu-id="4e98a-116">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="4e98a-117">Projekto sutartys iš PSA į „Fin and Ops“</span><span class="sxs-lookup"><span data-stu-id="4e98a-117">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="4e98a-118">Projektai iš PSA į „Fin and Ops“</span><span class="sxs-lookup"><span data-stu-id="4e98a-118">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="4e98a-119">Projekto sutarties eilutės iš PSA į „Fin and Ops“</span><span class="sxs-lookup"><span data-stu-id="4e98a-119">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="4e98a-120">Projekto sutarties eilutės etapai iš PSA į „Fin and Ops“</span><span class="sxs-lookup"><span data-stu-id="4e98a-120">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="4e98a-121">Norint sinchronizuoti projekto sutartis ir projektus, būtina sinchronizuoti sąskaitas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-121">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="4e98a-122">Objektų rinkinys</span><span class="sxs-lookup"><span data-stu-id="4e98a-122">Entity set</span></span>

| <span data-ttu-id="4e98a-123">„Project Service Automation“</span><span class="sxs-lookup"><span data-stu-id="4e98a-123">Project Service Automation</span></span>       | <span data-ttu-id="4e98a-124">„Finance and Operations”</span><span class="sxs-lookup"><span data-stu-id="4e98a-124">Finance and Operations</span></span>                                 |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="4e98a-125">Užsakymai</span><span class="sxs-lookup"><span data-stu-id="4e98a-125">Orders</span></span>                           | <span data-ttu-id="4e98a-126">Projekto sutarties integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="4e98a-126">Integration entity for project contract</span></span>                |
| <span data-ttu-id="4e98a-127">Projektai</span><span class="sxs-lookup"><span data-stu-id="4e98a-127">Projects</span></span>                         | <span data-ttu-id="4e98a-128">Projekto integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="4e98a-128">Integration entity for project</span></span>                         |
| <span data-ttu-id="4e98a-129">Užsakymo eilutės</span><span class="sxs-lookup"><span data-stu-id="4e98a-129">Order lines</span></span>                      | <span data-ttu-id="4e98a-130">Projekto sutarties eilutės integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="4e98a-130">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="4e98a-131">Projekto sutarties eilučių etapai</span><span class="sxs-lookup"><span data-stu-id="4e98a-131">Project contract line milestones</span></span> | <span data-ttu-id="4e98a-132">Projekto sutarties eilutės etapo integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="4e98a-132">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="4e98a-133">Objekto srautas</span><span class="sxs-lookup"><span data-stu-id="4e98a-133">Entity flow</span></span>

<span data-ttu-id="4e98a-134">Projekto sutartys tvarkomos naudojantis „Project Service Automation“ ir yra sinchronizuojamos su „Finance and Operations“ kaip projekto sutartys.</span><span class="sxs-lookup"><span data-stu-id="4e98a-134">Project contracts are managed in Project Service Automation, and they are synchronized to Finance and Operations as project contracts.</span></span> <span data-ttu-id="4e98a-135">Integravimo šablone galite nustatyti projekto sutarties integavimo į „Finance and Operations“ šaltinį.</span><span class="sxs-lookup"><span data-stu-id="4e98a-135">As part of the integration template, you can set the integration source in Finance and Operations for the project contract.</span></span>

<span data-ttu-id="4e98a-136">Laiko ir medžiagų projektas ir fiksuotos kainos projektai tvarkomi naudojantis „Project Service Automation“ ir yra sinchronizuojami su „Finance and Operations“ kaip projektai.</span><span class="sxs-lookup"><span data-stu-id="4e98a-136">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance and Operations as projects.</span></span> <span data-ttu-id="4e98a-137">Atlikdami šablono integravimą galite nustatyti projekto integavimo į „Finance and Operations“ šaltinį.</span><span class="sxs-lookup"><span data-stu-id="4e98a-137">As part of the template integration, you can set the integration source in Finance and Operations for the project.</span></span>

<span data-ttu-id="4e98a-138">Projekto sutarties eilutės tvarkomos naudojantis „Project Service Automation“ ir yra sinchronizuojamos su „Finance and Operations“ kaip projekto sutarties atsiskaitymo taisyklės.</span><span class="sxs-lookup"><span data-stu-id="4e98a-138">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance and Operations as project contract billing rules.</span></span> <span data-ttu-id="4e98a-139">Jei atsiskaitymo būdas skiriasi nuo numatytojo projekto tipo, atliekant sinchronizavimą bus atnaujintas sutarties eilutės projekto ir projekto grupės projekto tipas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-139">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="4e98a-140">Projekto sutarties eilutės etapai tvarkomi naudojantis „Project Service Automation“ ir yra sinchronizuojamos su „Finance and Operations“ kaip projekto sutarties atsiskaitymo taisyklės etapai.</span><span class="sxs-lookup"><span data-stu-id="4e98a-140">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance and Operations as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-and-operations-integration-solution"></a><span data-ttu-id="4e98a-141">Integravimo iš „Project Service Automation“ į „Finance and Operations“ sprendimas</span><span class="sxs-lookup"><span data-stu-id="4e98a-141">Project Service Automation to Finance and Operations integration solution</span></span>

<span data-ttu-id="4e98a-142">Laukas **Projekto sutarties ID** galimas puslapyje **Projekto sutartys**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-142">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="4e98a-143">Šis laukas sukurtas kaip srities ir unikalus raktas integracijai palaikyti.</span><span class="sxs-lookup"><span data-stu-id="4e98a-143">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="4e98a-144">Sukūrus naują projekto sutartį, bet nesant vertės **Projekto sutarties ID**, ji automatiškai sugeneruojama naudojant numeraciją.</span><span class="sxs-lookup"><span data-stu-id="4e98a-144">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="4e98a-145">Vertę sudaro raidės **ORD**, tada didėjanti numeracija ir iš šešių simbolių sudarytas priedėlis.</span><span class="sxs-lookup"><span data-stu-id="4e98a-145">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="4e98a-146">Pavyzdys: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-146">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="4e98a-147">Laukas **Projekto numeris** galimas puslapyje **Projektai**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-147">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="4e98a-148">Šis laukas sukurtas kaip srities ir unikalus raktas integracijai palaikyti.</span><span class="sxs-lookup"><span data-stu-id="4e98a-148">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="4e98a-149">Sukūrus naują projektą, bet nesant vertės **Projekto numeris**, ji automatiškai sugeneruojama naudojant numeraciją.</span><span class="sxs-lookup"><span data-stu-id="4e98a-149">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="4e98a-150">Vertę sudaro raidės **PRJ**, tada didėjanti numeracija ir iš šešių simbolių sudarytas priedėlis.</span><span class="sxs-lookup"><span data-stu-id="4e98a-150">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="4e98a-151">Pavyzdys: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-151">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="4e98a-152">Taikant integravimo iš „Project Service Automation“ į „Finance and Operations“ sprendimą<TO DO: link in the top level document link where we will be adding the instructions for applying the PSA solution>, naujinimo scenarijus nustato esamų projekto sutarčių lauką **Projekto sutarties ID** ir esamų „Project Service Automation“ projektų lauką **Projekto numeris**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-152">When the Project Service Automation to Finance and Operations integration solution is applied<TO DO: link in the top level document link where we will be adding the instructions for applying the PSA solution>, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="4e98a-153">Būtinosios sąlygos ir susiejimo sąranka</span><span class="sxs-lookup"><span data-stu-id="4e98a-153">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="4e98a-154">Norint sinchronizuoti projekto sutartis ir projektus, būtina sinchronizuoti sąskaitas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-154">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="4e98a-155">Savo ryšio rinkinyje įtraukite integravimo rakto lauko **msdyn\_organizationalunits** susiejimą su lauku **msdyn\_name \[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-155">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="4e98a-156">Pirmiausia į ryšių rinkinį gali prireikti įtraukti projektą.</span><span class="sxs-lookup"><span data-stu-id="4e98a-156">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="4e98a-157">Daugiau informacijos rasite [Duomenų integravimas į „Common Data Service“, skirtą programoms](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="4e98a-157">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="4e98a-158">Savo ryšio rinkinyje įtraukite integravimo rakto lauko **msdyn\_projects** susiejimą su lauku **msdynce\_projectnumber \[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-158">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="4e98a-159">Pirmiausia į ryšių rinkinį gali prireikti įtraukti projektą.</span><span class="sxs-lookup"><span data-stu-id="4e98a-159">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="4e98a-160">Daugiau informacijos rasite [Duomenų integravimas į „Common Data Service“, skirtą programoms](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="4e98a-160">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="4e98a-161">Galima atnaujinti projekto sutarčių ir projektų **SourceDataID** vertę arba pašalinti iš susiejimo.</span><span class="sxs-lookup"><span data-stu-id="4e98a-161">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="4e98a-162">Numatytoji šablono vertė yra **„Project Service Automation“**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-162">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="4e98a-163">Būtina atnaujinti susiejimą **PaymentTerms**, kad jis atitiktų galimas „Finance and Operations“ mokėjimo sąlygas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-163">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance and Operations.</span></span> <span data-ttu-id="4e98a-164">Taip pat galite pašalinti susiejimą iš projekto užduoties.</span><span class="sxs-lookup"><span data-stu-id="4e98a-164">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="4e98a-165">Numatytosios vertės susiejimui priskirtos numatytosios demonstracinių duomenų vertės.</span><span class="sxs-lookup"><span data-stu-id="4e98a-165">The default value map has default values for demo data.</span></span> <span data-ttu-id="4e98a-166">Toliau pateikiamoje lentelėje nurodomos „Project Service Automation“ vertės.</span><span class="sxs-lookup"><span data-stu-id="4e98a-166">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="4e98a-167">Vertė</span><span class="sxs-lookup"><span data-stu-id="4e98a-167">Value</span></span> | <span data-ttu-id="4e98a-168">aprašymas</span><span class="sxs-lookup"><span data-stu-id="4e98a-168">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="4e98a-169">1</span><span class="sxs-lookup"><span data-stu-id="4e98a-169">1</span></span>     | <span data-ttu-id="4e98a-170">Grynoji 30</span><span class="sxs-lookup"><span data-stu-id="4e98a-170">Net 30</span></span>        |
    | <span data-ttu-id="4e98a-171">2</span><span class="sxs-lookup"><span data-stu-id="4e98a-171">2</span></span>     | <span data-ttu-id="4e98a-172">2 % 10, grynoji 30</span><span class="sxs-lookup"><span data-stu-id="4e98a-172">2% 10, Net 30</span></span> |
    | <span data-ttu-id="4e98a-173">3</span><span class="sxs-lookup"><span data-stu-id="4e98a-173">3</span></span>     | <span data-ttu-id="4e98a-174">Grynoji 45</span><span class="sxs-lookup"><span data-stu-id="4e98a-174">Net 45</span></span>        |
    | <span data-ttu-id="4e98a-175">4</span><span class="sxs-lookup"><span data-stu-id="4e98a-175">4</span></span>     | <span data-ttu-id="4e98a-176">Grynoji 60</span><span class="sxs-lookup"><span data-stu-id="4e98a-176">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="4e98a-177">„Power Query“</span><span class="sxs-lookup"><span data-stu-id="4e98a-177">Power Query</span></span>

<span data-ttu-id="4e98a-178">Esant toliau nurodytoms sąlygoms filtruojant duomenis būtina naudoti „Microsoft Power Query“, skirtą „Excel“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-178">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="4e98a-179">Turite „Microsoft Dynamics 365 for Sales“ pardavimo užsakymų.</span><span class="sxs-lookup"><span data-stu-id="4e98a-179">You have sales orders in Microsoft Dynamics 365 for Sales.</span></span>
- <span data-ttu-id="4e98a-180">Turite kelis „Project Service Automation“ organizacijos vienetus ir šie organizacijos vienetai bus susieti su keliais „Finance and Operations“ juridiniais subjektais.</span><span class="sxs-lookup"><span data-stu-id="4e98a-180">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance and Operations.</span></span>

<span data-ttu-id="4e98a-181">Jei naudojate „Power Query“, vykdykite toliau išvardytus nurodymus.</span><span class="sxs-lookup"><span data-stu-id="4e98a-181">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="4e98a-182">Projektų ir sutarčių (iš PSA į „Fin and Ops“) šablonas turi numatytąjį filtrą, kuris apima tik tuos pardavimo užsakymus, kurių tipas **Darbo elementas (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="4e98a-182">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="4e98a-183">Šis filtras padeda užtikrinti, kad naudojant „Finance and Operations“ pardavimo užsakymų projekto sutartys nekuriamos.</span><span class="sxs-lookup"><span data-stu-id="4e98a-183">This filter helps guarantee that project contracts aren't created for sales orders in Finance and Operations.</span></span> <span data-ttu-id="4e98a-184">Norint sukurti savo šabloną būtina įtraukti šį filtrą.</span><span class="sxs-lookup"><span data-stu-id="4e98a-184">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="4e98a-185">Turite sukurti „Power Query“ filtrą, apimantį tik tas sutarties organizacijas, kurios turi būti sinchronizuojamos su integracijos ryšių rinkinio juridiniu subjektu.</span><span class="sxs-lookup"><span data-stu-id="4e98a-185">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="4e98a-186">Pavyzdžiui, su „Contoso US“ sutarties organizacijos vienetu sudarytos jūsų projekto sutartys turėtų būti sinchronizuojamos su USSI juridiniu subjektu, tačiau su „Contoso Global“ sutarties organizacijos vienetu sudarytos sutartys turėtų būti sinchronizuojamos su USMF juridiniu subjektu.</span><span class="sxs-lookup"><span data-stu-id="4e98a-186">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="4e98a-187">Neįtraukus šio filtro į užduoties susiejimą visos projekto sutartys bus sinchronizuojamos su nurodytu ryšio rinkinio juridiniu subjektu, nepriklausomai nuo sutarties organizacijos vieneto.</span><span class="sxs-lookup"><span data-stu-id="4e98a-187">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="4e98a-188">Šablono susiejimas naudojant funkcija Duomenų integravimas</span><span class="sxs-lookup"><span data-stu-id="4e98a-188">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="4e98a-189">Laukai **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** ir **AddressZipCode** į numatytąjį projekto sutarčių susiejimą neįtraukti.</span><span class="sxs-lookup"><span data-stu-id="4e98a-189">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="4e98a-190">Prireikus šiuos duomenis sinchronizuoti su projekto sutartimis galite įtraukti susiejimų.</span><span class="sxs-lookup"><span data-stu-id="4e98a-190">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="4e98a-191">Laukai **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** ir **ProjectType** į numatytąjį projektų siejimą neįtraukti.</span><span class="sxs-lookup"><span data-stu-id="4e98a-191">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="4e98a-192">Prireikus šiuos duomenis sinchronizuoti su projektais galite įtraukti susiejimų.</span><span class="sxs-lookup"><span data-stu-id="4e98a-192">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="4e98a-193">Toliau pateiktose iliustracijose vaizduojami šablono užduoties susiejimų pavyzdžiai naudojant funkciją Duomenų integravimas.</span><span class="sxs-lookup"><span data-stu-id="4e98a-193">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="4e98a-194">Susiejime rodoma lauko informacija, kuri bus sinchronizuojama atliekant „Project Service Automation“ sinchronizavimą su „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="4e98a-194">The mapping shows the field information that will be synchronized from Project Service Automation to Finance and Operations.</span></span>

<span data-ttu-id="4e98a-195">[![Šablono susiejimas](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="4e98a-195">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="4e98a-196">[![Šablono susiejimas](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="4e98a-196">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="4e98a-197">[![Šablono susiejimas](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="4e98a-197">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="4e98a-198">[![Šablono susiejimas](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="4e98a-198">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>
