---
title: Optimizuokite BYOD suplanuotas paketines užduotis
description: Ši tema paaiškina kaip optimizuoti našumą, kai naudojate savo duomenų bazės naudojimo (BYOD) funkciją „Microsoft Dynamics 365 Human Resources” platformoje.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: 0c29d68b29475c2c7040d06e60f7624c49a42002
ms.sourcegitcommit: 6c2f5c3b038f696532c335e20b0fbafa155d6858
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 04/27/2021
ms.locfileid: "5951937"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="d025b-103">Optimizuokite BYOD suplanuotas paketines užduotis</span><span class="sxs-lookup"><span data-stu-id="d025b-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="d025b-104">Ši tema paaiškina kaip optimizuoti našumą, kai naudojate savo duomenų bazės naudojimo (BYOD) funkciją.</span><span class="sxs-lookup"><span data-stu-id="d025b-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="d025b-105">Norėdami gauti daugiau informacijos apie BYOD, žr. [Savo duomenų bazės naudojimas (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d025b-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="d025b-106">Duomenų eksportavimo našumo apžvalga</span><span class="sxs-lookup"><span data-stu-id="d025b-106">Performance considerations for data export</span></span>

<span data-ttu-id="d025b-107">Po to, kai objektai publikuoti paskirties duomenų bazėje, galite naudoti „Eksportavimo” funkciją, esančią **Duomenų valdymas** darbo srityje, kad perkeltumėte duomenis.</span><span class="sxs-lookup"><span data-stu-id="d025b-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="d025b-108">„Eksportavimo” funkcija jums leidžia nustatyti duomenų perkėlimo užduotį, kurią apima vienas ar daugiau objektų.</span><span class="sxs-lookup"><span data-stu-id="d025b-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="d025b-109">Norėdami gauti daugiau informacijos apie duomenų eksportavimą, žr. [Duomenų importavimo ir eksportavimo užduočių apžvalga](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d025b-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="d025b-110">Galite naudoti puslapį **Eksportavimas**, kad eksportuotumėte duomenis į skirtingus paskirties duomenų formatus, pavyzdžiui, kableliais atskirtų reikšmių (CSV) failą.</span><span class="sxs-lookup"><span data-stu-id="d025b-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="d025b-111">Šis puslapis taip pat palaiko SQL duomenų bazes kaip kitą paskirties vietą.</span><span class="sxs-lookup"><span data-stu-id="d025b-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="d025b-112">Galite sukurti duomenų projektą, į kurį įeina keli objektai, ir naudoti paketinę užduotį, kad suplanuotumėte kada vykdyti šį duomenų projektą.</span><span class="sxs-lookup"><span data-stu-id="d025b-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="d025b-113">Jeigu pasirinksite **Eksportuoti kaip paketą** parinktį, galite nustatyti grafiką periodiškai vykdyti duomenų eksportavimo užduotį.</span><span class="sxs-lookup"><span data-stu-id="d025b-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="d025b-114">Tam, kad padėtumėte išsaugoti BYOD eksportavimo bendrą patikimumą, būkite atsargus, kai į eksportavimo projektą pridedate kelis objektus.</span><span class="sxs-lookup"><span data-stu-id="d025b-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="d025b-115">Kai nustatote kiek objektų pridėti į tą patį projektą, apsvarstykite šiuos parametrus:</span><span class="sxs-lookup"><span data-stu-id="d025b-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="d025b-116">Objektų sudėtingumas</span><span class="sxs-lookup"><span data-stu-id="d025b-116">The complexity of the entities</span></span>
- <span data-ttu-id="d025b-117">Numatomas duomenų kiekis vienam objektui</span><span class="sxs-lookup"><span data-stu-id="d025b-117">The expected data volume per entity</span></span>
- <span data-ttu-id="d025b-118">Bendras laikas, kurio reikės užbaigti eksportavimą užduoties lygiu</span><span class="sxs-lookup"><span data-stu-id="d025b-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="d025b-119">Siekiant optimaliausio našumo, venkite pridėti šimtus objektų vienam projektui.</span><span class="sxs-lookup"><span data-stu-id="d025b-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="d025b-120">Rekomenduojame, kad sukurtumėte kelias užduotis, iš kurių kiekviena apima mažiau objektų.</span><span class="sxs-lookup"><span data-stu-id="d025b-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="d025b-121">Paketinių užduočių BYOD planavimas</span><span class="sxs-lookup"><span data-stu-id="d025b-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="d025b-122">Kad padėtumėte sumažinti poveikį „Microsoft Dynamics 365 Human Resources” vartotojams, vykdykite BYOD paketines užduotis naktį arba po darbo valandų.</span><span class="sxs-lookup"><span data-stu-id="d025b-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="d025b-123">Nepamirškite patikrinti laiko juostą pasikartojančioms paketinėms užduotims.</span><span class="sxs-lookup"><span data-stu-id="d025b-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="d025b-124">Kai kurios paketinės užduotys gali naudoti Ramiojo vandenyno standartinį laiką (PST).</span><span class="sxs-lookup"><span data-stu-id="d025b-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="d025b-125">Kad padėtumėte išvengti našumo problemų, atsižvelkite į šiuos koeficientus, kai konfigūruosite BYOD paketinių užduočių vykdymo planavimo dažnumą.</span><span class="sxs-lookup"><span data-stu-id="d025b-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="d025b-126">Laikas, kurio reikės užbaigti kiekvieną paketinę užduotį</span><span class="sxs-lookup"><span data-stu-id="d025b-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="d025b-127">Įmonės poreikis gauti BYOD duomenis</span><span class="sxs-lookup"><span data-stu-id="d025b-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="d025b-128">Nustatykite dažnį kiekvienai paketinei užduočiai verte, kuri užtikrina, jog užduotis gali būti užbaigta tinkamai prieš tolesnį suplanuotą vykdymo laiką.</span><span class="sxs-lookup"><span data-stu-id="d025b-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="d025b-129">Venkite kelių užduočių vykdymo lygiagrečiai, nes toks metodas gali neigiamai paveikti personalo našumą.</span><span class="sxs-lookup"><span data-stu-id="d025b-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="d025b-130">Siekiant optimaliausio našumo, visada naudokite **Eksportuoti kaip paketą** pasirinktį, esančią **Eksportavimas** puslapyje, kad suplanuotumėte BYOD paketines užduotis.</span><span class="sxs-lookup"><span data-stu-id="d025b-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="d025b-131">Venkite pasikartojančių eksportavimų planavimo skiltyje **Tvarkyti \> Tvarkyti pasikartojančias duomenų užduotis**.</span><span class="sxs-lookup"><span data-stu-id="d025b-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="d025b-132">Papildantysis eksportas</span><span class="sxs-lookup"><span data-stu-id="d025b-132">Incremental export</span></span>

<span data-ttu-id="d025b-133">Kai pridedate duomenų eksportavimo objektą, galite atlikti papildantį skirstymą (eksportą) arba visą skirstymą.</span><span class="sxs-lookup"><span data-stu-id="d025b-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="d025b-134">Visas skirstymas panaikina visus BYOD duomenų bazėje esamus objekto įrašus.</span><span class="sxs-lookup"><span data-stu-id="d025b-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="d025b-135">Tada jis įterpia dabartinį įrašų rinkinį iš personalo objekto.</span><span class="sxs-lookup"><span data-stu-id="d025b-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="d025b-136">Kad atliktumėte papildantį skirstymą, turite **Objektai** puslapyje kiekvienam objektui įjungti keitimų sekimą.</span><span class="sxs-lookup"><span data-stu-id="d025b-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="d025b-137">Norėdami gauti daugiau informacijos, žr. [Įjunkite objektų keitimų sekimą](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d025b-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="d025b-138">Jei pasirenkate papildantį skirstymą, pirmasis skirstymas visada bus laikomas visu skirstymu.</span><span class="sxs-lookup"><span data-stu-id="d025b-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="d025b-139">SQL seka pakeitimus šiame pirmajame ir visame skirstyme.</span><span class="sxs-lookup"><span data-stu-id="d025b-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="d025b-140">Kai įterpiamas naujas įrašas, arba, kai įrašas yra atnaujinamas ar panaikinamas, pakeitimas atsispindi paskirties objekte.</span><span class="sxs-lookup"><span data-stu-id="d025b-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="d025b-141">Skirtieji laikai</span><span class="sxs-lookup"><span data-stu-id="d025b-141">Time-outs</span></span>

<span data-ttu-id="d025b-142">Čia rasite BYOD eksportavimų numatytuosius skirtuosius laikus:</span><span class="sxs-lookup"><span data-stu-id="d025b-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="d025b-143">Dešimt minučių sutrumpinimo operacijoms</span><span class="sxs-lookup"><span data-stu-id="d025b-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="d025b-144">Viena valanda įterpti didelį operacijų kiekį</span><span class="sxs-lookup"><span data-stu-id="d025b-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="d025b-145">Kai tomai yra dideli, šių skirtojo laiko parametrų gali nepakakti.</span><span class="sxs-lookup"><span data-stu-id="d025b-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="d025b-146">Kad juos atnaujintumėte, eikite į **Duomenų valdymas \> Sistemos parametrai \> Savo duomenų bazės naudojimas**.</span><span class="sxs-lookup"><span data-stu-id="d025b-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="d025b-147">Šie skirtieji laikai yra įmonei būdingi ir kiekvienai įmonei turi būti nustatyti atskirai.</span><span class="sxs-lookup"><span data-stu-id="d025b-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="d025b-148">Žinomi apribojimai</span><span class="sxs-lookup"><span data-stu-id="d025b-148">Known limitations</span></span>

<span data-ttu-id="d025b-149">BYOD funkcijai taikomi šie apribojimai:</span><span class="sxs-lookup"><span data-stu-id="d025b-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="d025b-150">Jūsų duomenų bazėje neturi būti aktyviųjų užraktų sinchronizavimo metu.</span><span class="sxs-lookup"><span data-stu-id="d025b-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="d025b-151">Aktyvieji užraktai gali lėtinti įrašymus ar netgi padaryti klaidą eksportuojant duomenis į jūsų „Azure“ SQL duomenų bazę.</span><span class="sxs-lookup"><span data-stu-id="d025b-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="d025b-152">Negalite eksportuoti sudėtinių objektų į jūsų duomenų bazę.</span><span class="sxs-lookup"><span data-stu-id="d025b-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="d025b-153">Šiuo metu sudėtiniai objektai nėra palaikomi.</span><span class="sxs-lookup"><span data-stu-id="d025b-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="d025b-154">Privalote eksportuoti atskirus objektus, kurie sudaro sudėtinį objektą.</span><span class="sxs-lookup"><span data-stu-id="d025b-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="d025b-155">Tačiau galite eksportuoti abu objektus tame pačiame projekte.</span><span class="sxs-lookup"><span data-stu-id="d025b-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="d025b-156">Objektai, neturintys unikalių raktų, negali būti eksportuojami naudojant papildantį skirstymą.</span><span class="sxs-lookup"><span data-stu-id="d025b-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="d025b-157">Galite susidurti su šiuo apribojimu, ypač kai bandysite palaipsniui eksportuoti įrašus iš kelių parengtų objektų.</span><span class="sxs-lookup"><span data-stu-id="d025b-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="d025b-158">Dėl to, kad šie objektai buvo sukurti įgalinti duomenų importavimą, jie neturi unikalaus rakto.</span><span class="sxs-lookup"><span data-stu-id="d025b-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="d025b-159">Trikčių šalinimas</span><span class="sxs-lookup"><span data-stu-id="d025b-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="d025b-160">Papildantysis skirstymas neveikia tinkamai</span><span class="sxs-lookup"><span data-stu-id="d025b-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="d025b-161">**Problema:** Kai objektui naudojamas visas skirstymas, matote didelį įrašų rinkinį BYOD, kai naudojate **Pasirinkti** aktą.</span><span class="sxs-lookup"><span data-stu-id="d025b-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="d025b-162">Tačiau kai atliekate papildantį skirstymą, matote tik kelis įrašus BYOD.</span><span class="sxs-lookup"><span data-stu-id="d025b-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="d025b-163">Atrodo, kad atliekant papildantį skirstymą, visi įrašai buvo panaikinti ir pridėti tik pakeisti įrašai į BYOD.</span><span class="sxs-lookup"><span data-stu-id="d025b-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="d025b-164">**Sprendimas:** SQL keitimų sekimo lentelės gali būti nenumatytoje būsenoje.</span><span class="sxs-lookup"><span data-stu-id="d025b-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="d025b-165">Tokio tipo atvejais rekomenduojame išjungti objekto keitimų sekimą ir tada vėl jį įjungti.</span><span class="sxs-lookup"><span data-stu-id="d025b-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="d025b-166">Norėdami gauti daugiau informacijos, žr. [Įjunkite objektų keitimų sekimą](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="d025b-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="d025b-167">Išdėstymo lentelės nėra aiškios</span><span class="sxs-lookup"><span data-stu-id="d025b-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="d025b-168">**Problema:** naudojant projekto išdėstymą, išdėstymo lentelės netinkamai išvalomos.</span><span class="sxs-lookup"><span data-stu-id="d025b-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="d025b-169">Tada duomenys lentelėse plečiami, dėl to kyla veikimo problemų.</span><span class="sxs-lookup"><span data-stu-id="d025b-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="d025b-170">**Sprendimas:** išdėstymo lentelėse tvarkomos septynios dienos iš retrospektyvos.</span><span class="sxs-lookup"><span data-stu-id="d025b-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="d025b-171">Importavimo eksportavimo išdėstymo valymo paketinė užduotis automatiškai išvalo senesnius nei septynias dienas retrospektyvos duomenis iš **išdėstymo** lentelių.</span><span class="sxs-lookup"><span data-stu-id="d025b-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="d025b-172">Jei ši užduotis bus įklijuota, lentelės nebus tinkamai išvalytos.</span><span class="sxs-lookup"><span data-stu-id="d025b-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="d025b-173">Šios paketinės užduoties paleidimas iš naujo tęs procesą, kad išdėstymo lentelės būtų automatiškai išvalytos.</span><span class="sxs-lookup"><span data-stu-id="d025b-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="d025b-174">Taip pat žiūrėkite</span><span class="sxs-lookup"><span data-stu-id="d025b-174">See also</span></span>

[<span data-ttu-id="d025b-175">Duomenų valdymo apžvalga</span><span class="sxs-lookup"><span data-stu-id="d025b-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="d025b-176">Savo duomenų bazės naudojimas (BYOD)</span><span class="sxs-lookup"><span data-stu-id="d025b-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="d025b-177">Duomenų importavimo ir eksportavimo užduočių apžvalga</span><span class="sxs-lookup"><span data-stu-id="d025b-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="d025b-178">Objektų keitimų sekimo įjungimas</span><span class="sxs-lookup"><span data-stu-id="d025b-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
