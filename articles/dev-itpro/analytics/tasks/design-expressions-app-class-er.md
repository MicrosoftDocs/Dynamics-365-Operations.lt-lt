--- 
title: "Išraiškų kūrimas, kad būtų galima iškviesti programos klasių metodus (ER)"
description: "Šiame vadove pateikiama informacija, kaip pakartotinai naudoti esamą programos logiką naudojantis elektroninių ataskaitų (ER) konfigūracijomis ir iškviečiant reikiamus ER išraiškų programos klasių metodus."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: cf61432d4734efbd4e5beb9e58b651a509fe2311
ms.contentlocale: lt-lt
ms.lasthandoff: 05/08/2018

---
# <a name="design-expressions-to-call-application-class-methods-er"></a><span data-ttu-id="fcff1-103">Išraiškų kūrimas, kad būtų galima iškviesti programos klasių metodus (ER)</span><span class="sxs-lookup"><span data-stu-id="fcff1-103">Design expressions to call application class methods (ER)</span></span>

[!include [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="fcff1-104">Šiame vadove pateikiama informacija, kaip pakartotinai naudoti esamą programos logiką naudojantis elektroninių ataskaitų (ER) konfigūracijomis ir iškviečiant reikiamus ER išraiškų programos klasių metodus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-104">This guide provides information about how to reuse the existing application logic in Electronic reporting (ER) configurations by calling required methods of application classes in ER expressions.</span></span> <span data-ttu-id="fcff1-105">Klasių iškvietimo argumentų vertės gali būti nurodytos dinamiškai vykdymo laiku: pavyzdžiui, pagal analizavimo dokumente pateikiamą informaciją, kad būtų užtikrinamas jos tikslumas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-105">Values of arguments for calling classes can be defined dynamically at run-time: for example, based on information in the parsing document to ensure its correctness.</span></span> <span data-ttu-id="fcff1-106">Šiame vadove kursite reikiamas ER konfigūracijas pavyzdinei įmonei „Litware, Inc.“. Ši procedūra skirta vartotojams, kuriems priskirtas sistemos administratoriaus arba elektroninių ataskaitų kūrėjo vaidmuo.</span><span class="sxs-lookup"><span data-stu-id="fcff1-106">In this guide, you will create the required ER configurations for the sample company, Litware, Inc. This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> 

<span data-ttu-id="fcff1-107">Šiuos veiksmus galima atlikti naudojant bet kurį duomenų rinkinį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-107">These steps can be completed using any data set.</span></span> <span data-ttu-id="fcff1-108">Taip pat turite atsisiųsti ir įrašyti šį failą vietiniame diske: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="fcff1-108">You must also download and save the following file locally: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span></span>

<span data-ttu-id="fcff1-109">Norėdami atlikti šiuos veiksmus, pirmiausia turite atlikti veiksmus, nurodytus procedūroje „ER Konfigūracijos teikėjo kūrimas ir pažymėjimas aktyviu“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-109">To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span>

1. <span data-ttu-id="fcff1-110">Pasirinkite Organizacijos administravimas > Darbo sritys > Elektroninės ataskaitos.</span><span class="sxs-lookup"><span data-stu-id="fcff1-110">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="fcff1-111">Patikrinkite, ar pavyzdinės įmonės „Litware, Inc.” konfigūracijos teikėjas yra galimas ir pažymėtas kaip aktyvus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-111">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="fcff1-112">Jei nematote šio konfigūracijos teikėjo, pirmiausia turite atlikti procedūros „Konfigūracijos teikėjo kūrimas ir pažymėjimas aktyviu” veiksmus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-112">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>   
    * <span data-ttu-id="fcff1-113">Tarkime, kad jūs kuriate gaunamų banko išrašų analizavimo procesą, skirtą atlikti programos duomenų naujinimą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-113">Let’s assume that you are designing a process for parsing incoming bank statements for an application data update.</span></span> <span data-ttu-id="fcff1-114">Banko išrašus gausite kaip TXT failus, kuriuose nurodyti IBAN kodai.</span><span class="sxs-lookup"><span data-stu-id="fcff1-114">You will receive the incoming bank statements as TXT files that contain IBAN codes.</span></span> <span data-ttu-id="fcff1-115">Atlikdami banko išrašo importavimo procesą, turite patikrinti, ar šie IBAN kodai teisingi, pagal logiką, kuri jau prieinama „Dynamics 365 for Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-115">As part of the bank statement import process, you need to validate the correctness of this IBAN codes using the logic that is already available in Dynamics 365 for Finance and Operations.</span></span>   

## <a name="import-a-new-er-model-configuration"></a><span data-ttu-id="fcff1-116">Importuoti naują ER modelio konfigūraciją</span><span class="sxs-lookup"><span data-stu-id="fcff1-116">Import a new ER model configuration</span></span>
1. <span data-ttu-id="fcff1-117">Sąraše raskite ir pasirinkite norimą įrašą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-117">In the list, find and select the desired record.</span></span>
    * <span data-ttu-id="fcff1-118">Pasirinkite plytelę „Microsoft“ teikėjas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-118">Select the Microsoft provider tile.</span></span>  
2. <span data-ttu-id="fcff1-119">Spustelėkite Saugyklos.</span><span class="sxs-lookup"><span data-stu-id="fcff1-119">Click Repositories.</span></span>
3. <span data-ttu-id="fcff1-120">Spustelėkite Rodyti filtrus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-120">Click Show filters.</span></span>
4. <span data-ttu-id="fcff1-121">Pridėti filtro lauką „Įvesti pavadinimą“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-121">Add a filter field ‘Type name’.</span></span> <span data-ttu-id="fcff1-122">Lauke Pavadinimas įveskite reikšmę „ištekliai”, pasirinkite filtro operatorių „apima” ir spustelėkite Taikyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-122">In the Name field, enter the value “resources”, select the “contains” filter operator, and then click Apply.</span></span>
5. <span data-ttu-id="fcff1-123">Spustelėkite Atidaryti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-123">Click Open.</span></span>
6. <span data-ttu-id="fcff1-124">Medyje pasirinkite Mokėjimo modelis.</span><span class="sxs-lookup"><span data-stu-id="fcff1-124">In the tree, select 'Payment model'.</span></span>
    * <span data-ttu-id="fcff1-125">Jei neįgalintas „FastTab“ Versijos mygtukas Importuoti, gali būti, kad jau importavote 1 versiją į vieną iš ER konfigūracijų „Mokėjimo modelis“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-125">If the Import button on the Versions FastTab is not enabled, you have already imported the version 1 one of the ER configuration ‘Payment model’.</span></span> <span data-ttu-id="fcff1-126">Galite praleisti kitus šios antrinės užduoties veiksmus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-126">You can skip the rest steps in this sub-task.</span></span>   
7. <span data-ttu-id="fcff1-127">Spustelėkite Importuoti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-127">Click Import.</span></span>
8. <span data-ttu-id="fcff1-128">Spustelėkite Taip.</span><span class="sxs-lookup"><span data-stu-id="fcff1-128">Click Yes.</span></span>
9. <span data-ttu-id="fcff1-129">Uždarykite puslapį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-129">Close the page.</span></span>
10. <span data-ttu-id="fcff1-130">Uždarykite puslapį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-130">Close the page.</span></span>

## <a name="add-a-new-er-format-configuration"></a><span data-ttu-id="fcff1-131">Įtraukite naują ER formato konfigūraciją</span><span class="sxs-lookup"><span data-stu-id="fcff1-131">Add a new ER format configuration</span></span>
1. <span data-ttu-id="fcff1-132">Spustelėkite Ataskaitų konfigūracijos.</span><span class="sxs-lookup"><span data-stu-id="fcff1-132">Click Reporting configurations.</span></span>
    * <span data-ttu-id="fcff1-133">Įtraukite naują ER formatą, kad galėtumėte analizuoti gaunamus banko išrašus TXT formatu.</span><span class="sxs-lookup"><span data-stu-id="fcff1-133">Add a new ER format to parse incoming bank statements in TXT format.</span></span>  
2. <span data-ttu-id="fcff1-134">Medyje pasirinkite Mokėjimo modelis.</span><span class="sxs-lookup"><span data-stu-id="fcff1-134">In the tree, select 'Payment model'.</span></span>
3. <span data-ttu-id="fcff1-135">Spustelėdami Kurti konfigūraciją atidarykite dialogo meniu.</span><span class="sxs-lookup"><span data-stu-id="fcff1-135">Click Create configuration to open the dialog menu.</span></span>
4. <span data-ttu-id="fcff1-136">Lauke „Naujas“ įveskite „Formatas pagal duomenų modelį PaymentModel“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-136">In the New field, enter 'Format based on data model PaymentModel'.</span></span>
5. <span data-ttu-id="fcff1-137">Lauke Oavadinimas įveskite „Banko išrašo importavimo formatas (pavyzdys)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-137">In the Name field, type 'Bank statement import format (sample)'.</span></span>
    * <span data-ttu-id="fcff1-138">Banko išrašo importavimo formatas (pavyzdys)</span><span class="sxs-lookup"><span data-stu-id="fcff1-138">Bank statement import format (sample)</span></span>  
6. <span data-ttu-id="fcff1-139">Lauke Palaikomas duomenų importavimas pasirinkite Taip.</span><span class="sxs-lookup"><span data-stu-id="fcff1-139">Select Yes in the Supports data import field.</span></span>
7. <span data-ttu-id="fcff1-140">Spustelėkite Sukurti konfigūraciją.</span><span class="sxs-lookup"><span data-stu-id="fcff1-140">Click Create configuration.</span></span>

## <a name="design-the-er-format-configuration---format"></a><span data-ttu-id="fcff1-141">ER formato konfigūracijos kūrimas – formatas</span><span class="sxs-lookup"><span data-stu-id="fcff1-141">Design the ER format configuration - format</span></span>
1. <span data-ttu-id="fcff1-142">Spustelėkite Konstruktorius.</span><span class="sxs-lookup"><span data-stu-id="fcff1-142">Click Designer.</span></span>
    * <span data-ttu-id="fcff1-143">Sukurtas formatas atitinka numatytą išorinio TXT formatu pateikiamo failo struktūrą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-143">The designed format represents the expected structure of the external file in TXT format.</span></span>  
2. <span data-ttu-id="fcff1-144">Spustelėdami Įtraukti šakninį elementą atidarykite dialogo meniu.</span><span class="sxs-lookup"><span data-stu-id="fcff1-144">Click Add root to open the dialog menu.</span></span>
3. <span data-ttu-id="fcff1-145">Medyje pasirinkite Text\Sequence.</span><span class="sxs-lookup"><span data-stu-id="fcff1-145">In the tree, select 'Text\Sequence'.</span></span>
4. <span data-ttu-id="fcff1-146">Lauke Pavadinimas įveskite Šaknis.</span><span class="sxs-lookup"><span data-stu-id="fcff1-146">In the Name field, type 'Root'.</span></span>
    * <span data-ttu-id="fcff1-147">Šaknis</span><span class="sxs-lookup"><span data-stu-id="fcff1-147">Root</span></span>  
5. <span data-ttu-id="fcff1-148">Lauke Specialieji simboliai pasirinkite Nauja eilutė – „Windows“ (CR LF).</span><span class="sxs-lookup"><span data-stu-id="fcff1-148">In the Special characters field, select 'New line - Windows (CR LF)'.</span></span>
    * <span data-ttu-id="fcff1-149">Lauke „Specialieji simboliai“ pažymėta parinktis „Nauja eilutė – „Windows“ (CR LF)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-149">The option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="fcff1-150">Pagal šį parametrą kiekviena analizavimo failo eilutė laikoma atskiru įrašu.</span><span class="sxs-lookup"><span data-stu-id="fcff1-150">Based on this setting, each line in the parsing file is considered a separate record.</span></span>  
6. <span data-ttu-id="fcff1-151">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-151">Click OK.</span></span>
7. <span data-ttu-id="fcff1-152">Spustelėdami Įtraukti atidarykite išplečiamąjį dialogo langą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-152">Click Add to open the drop dialog.</span></span>
8. <span data-ttu-id="fcff1-153">Medyje pasirinkite Text\Sequence.</span><span class="sxs-lookup"><span data-stu-id="fcff1-153">In the tree, select 'Text\Sequence'.</span></span>
9. <span data-ttu-id="fcff1-154">Lauke Pavadinimas įveskite „Eilutės“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-154">In the Name field, type 'Rows'.</span></span>
    * <span data-ttu-id="fcff1-155">Eilutės</span><span class="sxs-lookup"><span data-stu-id="fcff1-155">Rows</span></span>  
10. <span data-ttu-id="fcff1-156">Lauke Daugialypumas pasirinkite „Vienas daug“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-156">In the Multiplicity field, select 'One many'.</span></span>
    * <span data-ttu-id="fcff1-157">Lauke „Įvairovė“ pažymėta parinktis „Vienas daug“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-157">The option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="fcff1-158">Pagal šį parametrą tikimasi, kad analizavimo faile sutaps mažiausiai viena eilutė.</span><span class="sxs-lookup"><span data-stu-id="fcff1-158">Based on this setting, it is expected that at least one line will be presented in the parsing file.</span></span>  
11. <span data-ttu-id="fcff1-159">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-159">Click OK.</span></span>
12. <span data-ttu-id="fcff1-160">Medyje pasirinkite „Root\Rows“ (šaknis\eilutės).</span><span class="sxs-lookup"><span data-stu-id="fcff1-160">In the tree, select 'Root\Rows'.</span></span>
13. <span data-ttu-id="fcff1-161">Spustelėkite Įtraukti seką.</span><span class="sxs-lookup"><span data-stu-id="fcff1-161">Click Add Sequence.</span></span>
14. <span data-ttu-id="fcff1-162">Lauke Pavadinimas įveskite „Laukai“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-162">In the Name field, type 'Fields'.</span></span>
    * <span data-ttu-id="fcff1-163">Laukai</span><span class="sxs-lookup"><span data-stu-id="fcff1-163">Fields</span></span>  
15. <span data-ttu-id="fcff1-164">Lauke Daugialypumas pasirinkite „Tiksliai vienas“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-164">In the Multiplicity field, select 'Exactly one'.</span></span>
16. <span data-ttu-id="fcff1-165">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-165">Click OK.</span></span>
17. <span data-ttu-id="fcff1-166">Medyje pasirinkite „Root\Rows\Fields“ (šaknis\eilutės\laukai).</span><span class="sxs-lookup"><span data-stu-id="fcff1-166">In the tree, select 'Root\Rows\Fields'.</span></span>
18. <span data-ttu-id="fcff1-167">Spustelėdami Įtraukti atidarykite išplečiamąjį dialogo langą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-167">Click Add to open the drop dialog.</span></span>
19. <span data-ttu-id="fcff1-168">Medyje pasirinkite „Tekstas \ Eilutė‟.</span><span class="sxs-lookup"><span data-stu-id="fcff1-168">In the tree, select 'Text\String'.</span></span>
20. <span data-ttu-id="fcff1-169">Lauke „Pavadinimas“, įveskite „IBAN“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-169">In the Name field, type 'IBAN'.</span></span>
    * <span data-ttu-id="fcff1-170">IBAN</span><span class="sxs-lookup"><span data-stu-id="fcff1-170">IBAN</span></span>  
21. <span data-ttu-id="fcff1-171">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-171">Click OK.</span></span>
    * <span data-ttu-id="fcff1-172">Sukonfigūruota, kad kiekvienoje analizavimo failo eilutėje būtų tik vienas IBAN kodas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-172">It has been configured that each line in the parsing file contains the only IBAN code.</span></span>  
22. <span data-ttu-id="fcff1-173">Spustelėkite Įrašyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-173">Click Save.</span></span>

## <a name="design-the-er-format-configuration--mapping-to-data-model"></a><span data-ttu-id="fcff1-174">ER formato konfigūracijos kūrimas – susiejimas su duomenų modeliu</span><span class="sxs-lookup"><span data-stu-id="fcff1-174">Design the ER format configuration – mapping to data model</span></span>
1. <span data-ttu-id="fcff1-175">Spustelėkite Susieti formatą su modeliu.</span><span class="sxs-lookup"><span data-stu-id="fcff1-175">Click Map format to model.</span></span>
2. <span data-ttu-id="fcff1-176">Spustelėkite Naujas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-176">Click New.</span></span>
3. <span data-ttu-id="fcff1-177">Lauke Aprašas įveskite „BankToCustomerDebitCreditNotificationInitiation“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-177">In the Definition field, type 'BankToCustomerDebitCreditNotificationInitiation'.</span></span>
    * <span data-ttu-id="fcff1-178">BankToCustomerDebitCreditNotificationInitiation</span><span class="sxs-lookup"><span data-stu-id="fcff1-178">BankToCustomerDebitCreditNotificationInitiation</span></span>  
4. <span data-ttu-id="fcff1-179">ResolveChanges – aprašas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-179">ResolveChanges the Definition.</span></span>
5. <span data-ttu-id="fcff1-180">Lauke Pavadinimas įveskite „Susiejimas su duomenų modeliu“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-180">In the Name field, type 'Mapping to data model'.</span></span>
    * <span data-ttu-id="fcff1-181">Susiejimas su duomenų modeliu</span><span class="sxs-lookup"><span data-stu-id="fcff1-181">Mapping to data model</span></span>  
6. <span data-ttu-id="fcff1-182">Spustelėkite Įrašyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-182">Click Save.</span></span>
7. <span data-ttu-id="fcff1-183">Spustelėkite Konstruktorius.</span><span class="sxs-lookup"><span data-stu-id="fcff1-183">Click Designer.</span></span>
8. <span data-ttu-id="fcff1-184">Medyje pasirinkite „Dynamics 365 for Operations\Class“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-184">In the tree, select 'Dynamics 365 for Operations\Class'.</span></span>
9. <span data-ttu-id="fcff1-185">Spustelėkite „Įtraukti šaknį“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-185">Click Add root.</span></span>
    * <span data-ttu-id="fcff1-186">Įtraukite naują duomenų šaltinį, skirtą iškviesti esamą programos logiką, kad būtų galima patikrinti IBAN kodus.</span><span class="sxs-lookup"><span data-stu-id="fcff1-186">Add a new data source to call the existing application logic for IBAN codes validation.</span></span>  
10. <span data-ttu-id="fcff1-187">Lauke Pavadinimas įveskite „check_codes“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-187">In the Name field, type 'check_codes'.</span></span>
    * <span data-ttu-id="fcff1-188">check_codes</span><span class="sxs-lookup"><span data-stu-id="fcff1-188">check_codes</span></span>  
11. <span data-ttu-id="fcff1-189">Lauke Klasė įveskite „ISO7064“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-189">In the Class field, type 'ISO7064'.</span></span>
    * <span data-ttu-id="fcff1-190">ISO7064</span><span class="sxs-lookup"><span data-stu-id="fcff1-190">ISO7064</span></span>  
12. <span data-ttu-id="fcff1-191">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-191">Click OK.</span></span>
13. <span data-ttu-id="fcff1-192">Medyje išplėskite „format“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-192">In the tree, expand 'format'.</span></span>
14. <span data-ttu-id="fcff1-193">Medyje išplėskite „formatas\Šaknis: seka(šaknis)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-193">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
15. <span data-ttu-id="fcff1-194">Medyje pasirinkite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-194">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
16. <span data-ttu-id="fcff1-195">Spustelėkite Susieti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-195">Click Bind.</span></span>
17. <span data-ttu-id="fcff1-196">Medyje išplėskite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-196">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
18. <span data-ttu-id="fcff1-197">Medyje išplėskite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)\Laukai: seka 1..1 (laukai)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-197">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
19. <span data-ttu-id="fcff1-198">Medyje pasirinkite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)\Laukai: seka 1..1 (laukai)\IBAN: eilutė(IBAN)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-198">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
20. <span data-ttu-id="fcff1-199">Medyje išplėskite „Payments = format.Root.Rows“ (mokėjimai = formatas, šaknis, eilutės).</span><span class="sxs-lookup"><span data-stu-id="fcff1-199">In the tree, expand 'Payments = format.Root.Rows'.</span></span>
21. <span data-ttu-id="fcff1-200">Medyje išplėskite „Mokėjimai = formatas.Šaknis.Eilutės\Kreditoriaus sąskaita(KreditoriausSąskaita)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-200">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)'.</span></span>
22. <span data-ttu-id="fcff1-201">Medyje išplėskite „Mokėjimai = formatas.Šaknis.Eilutės\Kreditoriaus sąskaita(KreditoriausSąskaita)\Identifikacija“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-201">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification'.</span></span>
23. <span data-ttu-id="fcff1-202">Medyje pasirinkite „Mokėjimai = formatas.Šaknis.Eilutės\Kreditoriaus sąskaita(KreditoriausSąskaita)\Identifikacija\IBAN“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-202">In the tree, select 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification\IBAN'.</span></span>
24. <span data-ttu-id="fcff1-203">Spustelėkite Susieti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-203">Click Bind.</span></span>
25. <span data-ttu-id="fcff1-204">Spustelėkite skirtuką Tikrinimai.</span><span class="sxs-lookup"><span data-stu-id="fcff1-204">Click the Validations tab.</span></span>
26. <span data-ttu-id="fcff1-205">Spustelėkite Naujas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-205">Click New.</span></span>
    * <span data-ttu-id="fcff1-206">Įtraukite naują tikrinimo taisyklę, kuri rodo bet kurios analizavimo failo eilutės klaidą, kai įvedamas netinkamas IBAN kodas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-206">Add a new validation rule that displays an error for any line in the parsing file that contains invalid IBAN code.</span></span>  
27. <span data-ttu-id="fcff1-207">Spustelėkite Redaguoti sąlygą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-207">Click Edit condition.</span></span>
28. <span data-ttu-id="fcff1-208">Medyje išplėskite „check_codes“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-208">In the tree, expand 'check_codes'.</span></span>
29. <span data-ttu-id="fcff1-209">Medyje pasirinkite „check_codes\verifyMOD1271_36“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-209">In the tree, select 'check_codes\verifyMOD1271_36'.</span></span>
30. <span data-ttu-id="fcff1-210">Spustelėkite „Įtraukti duomenų šaltinį“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-210">Click Add data source.</span></span>
31. <span data-ttu-id="fcff1-211">Lauke Formulė įveskite „check_codes.verifyMOD1271_36(“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-211">In the Formula field, enter 'check_codes.verifyMOD1271_36('.</span></span>
    * <span data-ttu-id="fcff1-212">check_codes.verifyMOD1271_36(</span><span class="sxs-lookup"><span data-stu-id="fcff1-212">check_codes.verifyMOD1271_36(</span></span>  
32. <span data-ttu-id="fcff1-213">Medyje išplėskite „format“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-213">In the tree, expand 'format'.</span></span>
33. <span data-ttu-id="fcff1-214">Medyje išplėskite „formatas\Šaknis: seka(šaknis)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-214">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
34. <span data-ttu-id="fcff1-215">Medyje išplėskite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-215">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
35. <span data-ttu-id="fcff1-216">Medyje išplėskite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)\Laukai: seka 1..1 (laukai)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-216">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
36. <span data-ttu-id="fcff1-217">Medyje pasirinkite „formatas\Šaknis: seka(šaknis)\Eilutės: seka 1..\* (eilutės)\Laukai: seka 1..1 (laukai)\IBAN: eilutė(IBAN)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-217">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
37. <span data-ttu-id="fcff1-218">Spustelėkite „Įtraukti duomenų šaltinį“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-218">Click Add data source.</span></span>
38. <span data-ttu-id="fcff1-219">Lauke Formulė įveskite „check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-219">In the Formula field, enter 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="fcff1-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="fcff1-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span></span>  
39. <span data-ttu-id="fcff1-221">Spustelėkite Įrašyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-221">Click Save.</span></span>
40. <span data-ttu-id="fcff1-222">Uždarykite puslapį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-222">Close the page.</span></span>
    * <span data-ttu-id="fcff1-223">Sukonfigūruota, kad bet kuriuo netinkamo IBAN kodo atveju tikrinimo sąlygos pateiktų rezultatą FALSE (klaidinga), o esamas programos klasės „ISO7064“ metodas būtų pavadintas „verifyMOD1271_36“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-223">The validation condition has been configured to return FALSE for any invalid IBAN code by calling the existing method ‘verifyMOD1271_36’ of the application class ‘ISO7064’.</span></span> <span data-ttu-id="fcff1-224">Atkreipkite dėmesį į tai, kad IBAN kodo vertė nurodoma dinamiškai vykdymo laiku kaip metodo iškvietimo argumentas pagal analizavimo TXT failo turinį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-224">Note that the value of the IBAN code is defined dynamically at run-time as the argument of the calling method based on the content of the parsing TXT file.</span></span>   
41. <span data-ttu-id="fcff1-225">Spustelėkite Redaguoti pranešimą.</span><span class="sxs-lookup"><span data-stu-id="fcff1-225">Click Edit message.</span></span>
42. <span data-ttu-id="fcff1-226">Lauke Formulė įveskite „CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)“.</span><span class="sxs-lookup"><span data-stu-id="fcff1-226">In the Formula field, enter 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="fcff1-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="fcff1-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span></span>  
43. <span data-ttu-id="fcff1-228">Spustelėkite Įrašyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-228">Click Save.</span></span>
44. <span data-ttu-id="fcff1-229">Uždarykite puslapį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-229">Close the page.</span></span>
45. <span data-ttu-id="fcff1-230">Spustelėkite Įrašyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-230">Click Save.</span></span>
46. <span data-ttu-id="fcff1-231">Uždarykite puslapį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-231">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="fcff1-232">Paleisti formato susiejimą</span><span class="sxs-lookup"><span data-stu-id="fcff1-232">Run the format mapping</span></span>
<span data-ttu-id="fcff1-233">Bandymams atlikti formato susiejimą vykdykite naudodami anksčiau atsisiųstą failą SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="fcff1-233">For testing purposes, execute the format mapping using the SampleIncomingMessage.txt file that you downloaded.</span></span> <span data-ttu-id="fcff1-234">Sugeneruotoje išvestyje pateikiami iš pasirinkto TXT failo importuoti duomenys, kurie realiojo importo metu bus automatiškai įvesti į pasirinktinių duomenų modelį.</span><span class="sxs-lookup"><span data-stu-id="fcff1-234">The generated output includes data that will be imported from the selected TXT file and populated to the custom data model during the real import.</span></span>   
1. <span data-ttu-id="fcff1-235">Spustelėkite Vykdyti.</span><span class="sxs-lookup"><span data-stu-id="fcff1-235">Click Run.</span></span>
    * <span data-ttu-id="fcff1-236">Spustelėkite Naršyti ir suraskite anksčiau atsisiųstą failą SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="fcff1-236">Click Browse and navigate to the SampleIncomingMessage.txt file that you previously downloaded.</span></span>  
2. <span data-ttu-id="fcff1-237">Spustelėkite GERAI.</span><span class="sxs-lookup"><span data-stu-id="fcff1-237">Click OK.</span></span>
    * <span data-ttu-id="fcff1-238">Peržiūrėkite išvestį XML formatu, kuriuo rodomi iš pasirinkto failo importuoti ir į duomenų modelį perkelti duomenys.</span><span class="sxs-lookup"><span data-stu-id="fcff1-238">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="fcff1-239">Atkreipkite dėmesį, kad apdorotos tik 3 importuojamo TXT failo eilutės.</span><span class="sxs-lookup"><span data-stu-id="fcff1-239">Note that only 3 lines of the imported TXT file were processed.</span></span> <span data-ttu-id="fcff1-240">4 eilutėje esantis netinkamas IBAN kodas praleistas ir sistemos pranešime pateikiamas klaidos pranešimas.</span><span class="sxs-lookup"><span data-stu-id="fcff1-240">The IBAN code on line 4 that is not valid was skipped and an error message is provided in the Infolog.</span></span>  


