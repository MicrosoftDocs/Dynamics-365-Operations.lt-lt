---
title: Įmonės koncepcija „Common Data Service“
description: Šioje temoje aprašomas įmonės duomenų integravimas tarp „Finance and Operations“ ir „Common Data Service“.
author: RamaKrishnamoorthy
manager: AnnBe
ms.date: 07/15/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2019-07-15
ms.openlocfilehash: 6eddd87c3ad3ea9de8aec2874b0514faa65374f1
ms.sourcegitcommit: 02c223b44ac7196df675afac61c6783f467d1983
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 07/24/2019
ms.locfileid: "1789224"
---
## <a name="company-concept-in-common-data-service"></a><span data-ttu-id="063be-103">Įmonės koncepcija „Common Data Service“</span><span class="sxs-lookup"><span data-stu-id="063be-103">Company concept in Common Data Service</span></span>

[!include [banner](../includes/banner.md)]

[!include [preview](../includes/preview-banner.md)]

<span data-ttu-id="063be-104">„Microsoft Dynamics 365 for Finance and Operations“ *įmonės* koncepcija yra tiek teisinis, tiek verslo konstruktas.</span><span class="sxs-lookup"><span data-stu-id="063be-104">In Microsoft Dynamics 365 for Finance and Operations, the concept of a *company* is both a legal construct and a business construct.</span></span> <span data-ttu-id="063be-105">Ji taip pat apibrėžia duomenų saugos ir matomumo ribas.</span><span class="sxs-lookup"><span data-stu-id="063be-105">It's also a security and visibility boundary for data.</span></span> <span data-ttu-id="063be-106">Vartotojai visada dirba vienos įmonės kontekste, o dauguma duomenų yra įmonės suskirstyti.</span><span class="sxs-lookup"><span data-stu-id="063be-106">Users always work in the context of a single company, and most of the data is striped by company.</span></span>

<span data-ttu-id="063be-107">„Common Data Service“ nenaudojama lygiavertė koncepcija.</span><span class="sxs-lookup"><span data-stu-id="063be-107">Common Data Service doesn't have an equivalent concept.</span></span> <span data-ttu-id="063be-108">Artimiausia koncepcija yra *verslo struktūros vienetas*, kuris pirmiausia apima vartotojo duomenų saugos ir matomumo ribas.</span><span class="sxs-lookup"><span data-stu-id="063be-108">The closest concept is *business unit*, which is primarily a security and visibility boundary for user data.</span></span> <span data-ttu-id="063be-109">Ši koncepcija neturi tokios pačios teisinės ar verslo reikšmės kaip įmonės koncepcija „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="063be-109">This concept doesn't have the same legal or business implications as the company concept in Finance and Operations.</span></span>

<span data-ttu-id="063be-110">Verslo struktūros vienetas ir įmonė nėra lygiavertės koncepcijos, todėl „Common Data Service“ integracijos tikslais negalima taikyti jų vienas su vienu (1:1) susiejimo.</span><span class="sxs-lookup"><span data-stu-id="063be-110">Because business unit and company aren't equivalent concepts, it isn't possible to force a one-to-one (1:1) mapping between them for the purpose of Common Data Service integration.</span></span> <span data-ttu-id="063be-111">Tačiau vartotojai turi, kaip numatyta, galėti peržiūrėti tuos pačius įrašus „Finance and Operations“ ir „Common Data Service“, todėl „Microsoft“ pristatė naują subjektą Common Data Service, kuris pavadintas cdm\_Company.</span><span class="sxs-lookup"><span data-stu-id="063be-111">However, because users must, by default, be able to see the same records in Finance and Operations and Common Data Service, Microsoft has introduced a new entity in Common Data Service that is named cdm\_Company.</span></span> <span data-ttu-id="063be-112">Šis objektas yra lygiavertis įmonės objektui programoje „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="063be-112">This entity is equivalent to the Company entity in Finance and Operations.</span></span> <span data-ttu-id="063be-113">Siekiant užtikrinti įrašų matomumo lygiavertiškumą pradėjus naudoti „Finance and Operations“ ir „Common Data Service“, rekomenduojame šiuos „Common Data Service“ duomenų nustatymus:</span><span class="sxs-lookup"><span data-stu-id="063be-113">To help guarantee that visibility of records is equivalent between Finance and Operations and Common Data Service out of the box, we recommend the following setup for data in Common Data Service:</span></span>

+ <span data-ttu-id="063be-114">Kiekvienam „Finance and Operations“ įmonės įrašui, kuris įgalintas dvigubam rašymui, sukuriamas susietas cdm\_Company įrašas.</span><span class="sxs-lookup"><span data-stu-id="063be-114">For each Finance and Operations Company record that is enabled for dual-write, an associated cdm\_Company record is created.</span></span>
+ <span data-ttu-id="063be-115">Sukūrus cdm\_Company įrašą ir įgalinus dvigubam rašymui, sukuriamas numatytasis verslo struktūros vienetas tuo pačiu pavadinimu.</span><span class="sxs-lookup"><span data-stu-id="063be-115">When a cdm\_Company record is created and enabled for dual-write, a default business unit is created that has the same name.</span></span> <span data-ttu-id="063be-116">Nors tam verslo struktūros vienetui automatiškai sukuriama numatytoji komanda, verslo struktūros vienetas nėra naudojamas.</span><span class="sxs-lookup"><span data-stu-id="063be-116">Although a default team is automatically created for that business unit, the business unit isn't used.</span></span>
+ <span data-ttu-id="063be-117">Sukuriama atskira savininko komanda tokiu pačiu pavadinimu.</span><span class="sxs-lookup"><span data-stu-id="063be-117">A separate owner team is created that has the same name.</span></span> <span data-ttu-id="063be-118">Ji taip pat susiejama su verslo struktūros vienetu.</span><span class="sxs-lookup"><span data-stu-id="063be-118">It's also associated with the business unit.</span></span>
+ <span data-ttu-id="063be-119">Pagal numatytuosius nustatymus, bet kurio įrašo, kuris sukuriamas „Finance and Operations“ ir įrašomas dvigubu rašymu „Common Data Service“, savininkas nustatomas į „DW Owner“ komandą, kuri susiejama su susijusiu verslo struktūros vienetu.</span><span class="sxs-lookup"><span data-stu-id="063be-119">By default, the owner of any record that is created in Finance and Operations and dual-written to Common Data Service is set to the "DW Owner" team that is linked to the associated business unit.</span></span>

<span data-ttu-id="063be-120">Tolesnėje iliustracijoje pateikiamas šio duomenų nustatymo „Common Data Service“ pavyzdys.</span><span class="sxs-lookup"><span data-stu-id="063be-120">The following illustration shows an example of this data setup in Common Data Service.</span></span>

![Duomenų nustatymas „Common Data Service“](media/dual-write-company-1.png)

<span data-ttu-id="063be-122">Dėl tokios konfigūracijos bet koks „Finance and Operations“ įrašas, susietas su USMF įmone, priklauso komandai, kuri yra susieta su USMF verslo struktūros vienetu „Common Data Service“.</span><span class="sxs-lookup"><span data-stu-id="063be-122">Because of this configuration, any Finance and Operations record that is related to the USMF company will be owned by a team that is linked to the USMF business unit in Common Data Service.</span></span> <span data-ttu-id="063be-123">Todėl tuos įrašus gali matyti bet kuris vartotojas, kuris turi prieigą prie to verslo struktūros vieneto pasitelkiant saugos vaidmenį, kuris nustatytas verslo struktūros vieneto lygio matomumui.</span><span class="sxs-lookup"><span data-stu-id="063be-123">Therefore, any user who has access to that business unit through a security role that is set to business unit–level visibility can now see those records.</span></span> <span data-ttu-id="063be-124">Toliau pateikiamas pavyzdys, kaip komandos gali būti naudojamos norint suteikti tinkamą prieigą prie tų įrašų.</span><span class="sxs-lookup"><span data-stu-id="063be-124">The following example shows how teams can be used to provide the correct access to those records.</span></span>

+ <span data-ttu-id="063be-125">Vaidmuo „Pardavimo vadybininkas“ priskiriamas „USMF pardavimas“ komandos nariams.</span><span class="sxs-lookup"><span data-stu-id="063be-125">The "Sales Manager" role is assigned to members of the "USMF Sales" team.</span></span>
+ <span data-ttu-id="063be-126">Vartotojai, turintys vaidmenį „Pardavimo vadybininkas“, turi prieigą prie visų paskyros įrašų, kurie yra to paties verslo struktūros vieneto nariai.</span><span class="sxs-lookup"><span data-stu-id="063be-126">Users who have the "Sales Manager" role can access any account records that are members of the same business unit that they are members of.</span></span>
+ <span data-ttu-id="063be-127">„USMF pardavimas“ komanda susiejama su anksčiau minėtu USMF verslo struktūros vienetu.</span><span class="sxs-lookup"><span data-stu-id="063be-127">The "USMF Sales" team is linked to the USMF business unit that was mentioned earlier.</span></span>
+ <span data-ttu-id="063be-128">Todėl „USMF pardavimas“ komandos nariai gali matyti bet kurią paskyrą, priklausančią „USMF DW“ vartotojui, kuris būtų gautas iš USMF įmonės objekto naudojant „Finance and Operations“.</span><span class="sxs-lookup"><span data-stu-id="063be-128">Therefore, members of the "USMF Sales" team can see any account that is owned by the "USMF DW" user, which would have come from the USMF Company entity in Finance and Operations.</span></span>

![Komandų naudojimas](media/dual-write-company-2.png)

<span data-ttu-id="063be-130">Kaip parodyta ankstesnėje iliustracijoje, šis 1:1 susiejimas tarp verslo struktūros vieneto, įmonės ir komandos yra tik pradžios taškas.</span><span class="sxs-lookup"><span data-stu-id="063be-130">As the preceding illustration shows, this 1:1 mapping between business unit, company, and team is just a starting point.</span></span> <span data-ttu-id="063be-131">Tolesniame pavyzdyje naujas verslo struktūros vienetas „Europa“ rankiniu būdu sukuriamas „Common Data Service“ kaip DEMF ir ESMF pirminis elementas.</span><span class="sxs-lookup"><span data-stu-id="063be-131">In this example, a new "Europe" business unit is manually created in Common Data Service as the parent for both DEMF and ESMF.</span></span> <span data-ttu-id="063be-132">Šis naujas šakninis verslo struktūros vienetas nėra susijęs su dvigubu rašymu.</span><span class="sxs-lookup"><span data-stu-id="063be-132">This new root business unit is unrelated to dual-write.</span></span> <span data-ttu-id="063be-133">Tačiau jis gali būti naudojamas siekiant suteikti „EUR pardavimas“ komandos nariams prieigą prie paskyros duomenų tiek DEMF, tiek ESMF nustatant duomenų matomumą į **Pirminis/antrinis BU** susietam saugos vaidmeniui.</span><span class="sxs-lookup"><span data-stu-id="063be-133">However, it can be used to give members of the "EUR Sales" team access to account data in both DEMF and ESMF by setting the data visibility to **Parent/Child BU** in the associated security role.</span></span>

<span data-ttu-id="063be-134">Paskutinėje temoje aptariama, kaip dvigubas rašymas nustato, kuriai savininkų komandai reikėtų priskirti įrašus.</span><span class="sxs-lookup"><span data-stu-id="063be-134">A final topic to discuss is how dual-write determines which owner team it should assign records to.</span></span> <span data-ttu-id="063be-135">Šią veikseną kontroliuoja laukas **Numatytoji komanda savininkė** įraše cdm\_Company.</span><span class="sxs-lookup"><span data-stu-id="063be-135">This behavior is controlled by the **Default owning team** field on the cdm\_Company record.</span></span> <span data-ttu-id="063be-136">Kai cdm\_Company įrašas yra įgalintas dvigubam rašymui, priedas automatiškai sukuria susietą verslo struktūros vienetą ir savininko komandą (jei jos dar nėra) ir nustato lauką **Numatytoji komanda savininkė**.</span><span class="sxs-lookup"><span data-stu-id="063be-136">When a cdm\_Company record is enabled for dual-write, a plug-in automatically creates the associated business unit and owner team (if it doesn't already exist), and sets the **Default owning team** field.</span></span> <span data-ttu-id="063be-137">Administratorius gali pakeisti šį lauką kita reikšme.</span><span class="sxs-lookup"><span data-stu-id="063be-137">The admin can change this field to a different value.</span></span> <span data-ttu-id="063be-138">Tačiau administratorius negali išvalyti lauko tol, kol objektui įgalintas dvigubas rašymas.</span><span class="sxs-lookup"><span data-stu-id="063be-138">However, the admin can't clear the field as long as the entity is enabled for dual-write.</span></span>

![Laukas Numatytoji komanda savininkė](media/dual-write-default-owning-team.jpg)

## <a name="company-striping-and-bootstrapping"></a><span data-ttu-id="063be-140">Įmonės paskirstymas ir įkėlimas</span><span class="sxs-lookup"><span data-stu-id="063be-140">Company striping and bootstrapping</span></span>

<span data-ttu-id="063be-141">„Common Data Service“ integracija suteikia įmonės lygiavertiškumą naudojant įmonės identifikatorių, skirtą paskirstyti duomenis.</span><span class="sxs-lookup"><span data-stu-id="063be-141">Common Data Service integration brings company parity by using a company identifier to stripe data.</span></span> <span data-ttu-id="063be-142">Kaip parodyta toliau pateiktoje iliustracijoje, visi konkrečios įmonės objektai išplečiami taip, kad su cdm\_Company objektu turėtų ryšį „daugelis su vienu“ (N:1).</span><span class="sxs-lookup"><span data-stu-id="063be-142">As the following illustration shows, all company-specific entities are extended so that they have a many-to-one (N:1) relationship with the cdm\_Company entity.</span></span>

![N:1 ryšys tarp konkrečios įmonės objekto ir cdm_Company objekto](media/dual-write-bootstrapping.png)

+ <span data-ttu-id="063be-144">Įtraukus ir įrašius įmonę įrašų reikšmė tampa skirta tik skaityti.</span><span class="sxs-lookup"><span data-stu-id="063be-144">For records, after a company is added and saved, the value becomes read-only.</span></span> <span data-ttu-id="063be-145">Todėl vartotojai turėtų įsitikinti, kad pasirinko tinkamą įmonę.</span><span class="sxs-lookup"><span data-stu-id="063be-145">Therefore, users should make sure that they select the correct company.</span></span>
+ <span data-ttu-id="063be-146">Tik tie įrašai, kurie apima įmonės duomenis, gali būti dvigubo rašymo tarp „Finance and Operations“ ir „Common Data Service“.</span><span class="sxs-lookup"><span data-stu-id="063be-146">Only records that have company data are eligible for dual-write between Finance and Operations and Common Data Service.</span></span>
+ <span data-ttu-id="063be-147">Esamiems „Common Data Service“ duomenims netrukus bus teikiama administratoriaus vadovaujama įkėlimo patirtis.</span><span class="sxs-lookup"><span data-stu-id="063be-147">For existing Common Data Service data, an admin-led bootstrapping experience will soon be available.</span></span>
